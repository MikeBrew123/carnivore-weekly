(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function zm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={exports:{}},Wa={},Hm={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=Symbol.for("react.element"),gw=Symbol.for("react.portal"),yw=Symbol.for("react.fragment"),vw=Symbol.for("react.strict_mode"),ww=Symbol.for("react.profiler"),xw=Symbol.for("react.provider"),_w=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),kw=Symbol.for("react.suspense"),Sw=Symbol.for("react.memo"),Ew=Symbol.for("react.lazy"),bh=Symbol.iterator;function Tw(t){return t===null||typeof t!="object"?null:(t=bh&&t[bh]||t["@@iterator"],typeof t=="function"?t:null)}var Km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qm=Object.assign,Gm={};function Us(t,e,r){this.props=t,this.context=e,this.refs=Gm,this.updater=r||Km}Us.prototype.isReactComponent={};Us.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Us.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zm(){}Zm.prototype=Us.prototype;function Bc(t,e,r){this.props=t,this.context=e,this.refs=Gm,this.updater=r||Km}var zc=Bc.prototype=new Zm;zc.constructor=Bc;qm(zc,Us.prototype);zc.isPureReactComponent=!0;var kh=Array.isArray,Jm=Object.prototype.hasOwnProperty,Wc={current:null},Ym={key:!0,ref:!0,__self:!0,__source:!0};function Qm(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Jm.call(e,n)&&!Ym.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ro,type:t,key:i,ref:o,props:s,_owner:Wc.current}}function Cw(t,e){return{$$typeof:ro,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ro}function jw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Sh=/\/+/g;function _l(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jw(""+t.key):e.toString(36)}function Uo(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ro:case gw:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+_l(o,0):n,kh(s)?(r="",t!=null&&(r=t.replace(Sh,"$&/")+"/"),Uo(s,e,r,"",function(u){return u})):s!=null&&(Hc(s)&&(s=Cw(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sh,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",kh(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+_l(i,a);o+=Uo(i,e,r,l,s)}else if(l=Tw(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+_l(i,a++),o+=Uo(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function go(t,e,r){if(t==null)return t;var n=[],s=0;return Uo(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Pw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var at={current:null},Bo={transition:null},Aw={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:Bo,ReactCurrentOwner:Wc};function Xm(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:go,forEach:function(t,e,r){go(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return go(t,function(){e++}),e},toArray:function(t){return go(t,function(e){return e})||[]},only:function(t){if(!Hc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Us;se.Fragment=yw;se.Profiler=ww;se.PureComponent=Bc;se.StrictMode=vw;se.Suspense=kw;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aw;se.act=Xm;se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qm({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Jm.call(e,l)&&!Ym.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ro,type:t.type,key:s,ref:i,props:n,_owner:o}};se.createContext=function(t){return t={$$typeof:_w,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xw,_context:t},t.Consumer=t};se.createElement=Qm;se.createFactory=function(t){var e=Qm.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:bw,render:t}};se.isValidElement=Hc;se.lazy=function(t){return{$$typeof:Ew,_payload:{_status:-1,_result:t},_init:Pw}};se.memo=function(t,e){return{$$typeof:Sw,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Bo.transition;Bo.transition={};try{t()}finally{Bo.transition=e}};se.unstable_act=Xm;se.useCallback=function(t,e){return at.current.useCallback(t,e)};se.useContext=function(t){return at.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return at.current.useDeferredValue(t)};se.useEffect=function(t,e){return at.current.useEffect(t,e)};se.useId=function(){return at.current.useId()};se.useImperativeHandle=function(t,e,r){return at.current.useImperativeHandle(t,e,r)};se.useInsertionEffect=function(t,e){return at.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return at.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return at.current.useMemo(t,e)};se.useReducer=function(t,e,r){return at.current.useReducer(t,e,r)};se.useRef=function(t){return at.current.useRef(t)};se.useState=function(t){return at.current.useState(t)};se.useSyncExternalStore=function(t,e,r){return at.current.useSyncExternalStore(t,e,r)};se.useTransition=function(){return at.current.useTransition()};se.version="18.3.1";Hm.exports=se;var P=Hm.exports;const Ge=zm(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=P,Rw=Symbol.for("react.element"),Ow=Symbol.for("react.fragment"),Iw=Object.prototype.hasOwnProperty,Dw=Nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lw={key:!0,ref:!0,__self:!0,__source:!0};function eg(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Iw.call(e,n)&&!Lw.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Rw,type:t,key:i,ref:o,props:s,_owner:Dw.current}}Wa.Fragment=Ow;Wa.jsx=eg;Wa.jsxs=eg;Wm.exports=Wa;var f=Wm.exports,vu={},tg={exports:{}},Ct={},rg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,K){var X=I.length;I.push(K);e:for(;0<X;){var Q=X-1>>>1,de=I[Q];if(0<s(de,K))I[Q]=K,I[X]=de,X=Q;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var K=I[0],X=I.pop();if(X!==K){I[0]=X;e:for(var Q=0,de=I.length,or=de>>>1;Q<or;){var gt=2*(Q+1)-1,Cr=I[gt],Ye=gt+1,ar=I[Ye];if(0>s(Cr,X))Ye<de&&0>s(ar,Cr)?(I[Q]=ar,I[Ye]=X,Q=Ye):(I[Q]=Cr,I[gt]=X,Q=gt);else if(Ye<de&&0>s(ar,X))I[Q]=ar,I[Ye]=X,Q=Ye;else break e}}return K}function s(I,K){var X=I.sortIndex-K.sortIndex;return X!==0?X:I.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=I)n(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=r(u)}}function _(I){if(w=!1,g(I),!y)if(r(l)!==null)y=!0,ie(S);else{var K=r(u);K!==null&&fe(_,K.startTime-I)}}function S(I,K){y=!1,w&&(w=!1,v(j),j=-1),p=!0;var X=h;try{for(g(K),d=r(l);d!==null&&(!(d.expirationTime>K)||I&&!ve());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var de=Q(d.expirationTime<=K);K=t.unstable_now(),typeof de=="function"?d.callback=de:d===r(l)&&n(l),g(K)}else n(l);d=r(l)}if(d!==null)var or=!0;else{var gt=r(u);gt!==null&&fe(_,gt.startTime-K),or=!1}return or}finally{d=null,h=X,p=!1}}var T=!1,C=null,j=-1,L=5,F=-1;function ve(){return!(t.unstable_now()-F<L)}function W(){if(C!==null){var I=t.unstable_now();F=I;var K=!0;try{K=C(!0,I)}finally{K?H():(T=!1,C=null)}}else T=!1}var H;if(typeof m=="function")H=function(){m(W)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,we=ee.port2;ee.port1.onmessage=W,H=function(){we.postMessage(null)}}else H=function(){b(W,0)};function ie(I){C=I,T||(T=!0,H())}function fe(I,K){j=b(function(){I(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,ie(S))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var X=h;h=K;try{return I()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,K){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=h;h=I;try{return K()}finally{h=X}},t.unstable_scheduleCallback=function(I,K,X){var Q=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Q+X:Q):X=Q,I){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=X+de,I={id:c++,callback:K,priorityLevel:I,startTime:X,expirationTime:de,sortIndex:-1},X>Q?(I.sortIndex=X,e(u,I),r(l)===null&&I===r(u)&&(w?(v(j),j=-1):w=!0,fe(_,X-Q))):(I.sortIndex=de,e(l,I),y||p||(y=!0,ie(S))),I},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(I){var K=h;return function(){var X=h;h=K;try{return I.apply(this,arguments)}finally{h=X}}}})(ng);rg.exports=ng;var Vw=rg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw=P,St=Vw;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sg=new Set,ji={};function Vn(t,e){Ts(t,e),Ts(t+"Capture",e)}function Ts(t,e){for(ji[t]=e,t=0;t<e.length;t++)sg.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wu=Object.prototype.hasOwnProperty,$w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eh={},Th={};function Fw(t){return wu.call(Th,t)?!0:wu.call(Eh,t)?!1:$w.test(t)?Th[t]=!0:(Eh[t]=!0,!1)}function Uw(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bw(t,e,r,n){if(e===null||typeof e>"u"||Uw(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kc=/[\-:]([a-z])/g;function qc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kc,qc);Je[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kc,qc);Je[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kc,qc);Je[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gc(t,e,r,n){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bw(e,r,s,n)&&(r=null),n||s===null?Fw(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Sr=Mw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),rs=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),xu=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),og=Symbol.for("react.context"),Jc=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),bu=Symbol.for("react.suspense_list"),Yc=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),ag=Symbol.for("react.offscreen"),Ch=Symbol.iterator;function Hs(t){return t===null||typeof t!="object"?null:(t=Ch&&t[Ch]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,bl;function si(t){if(bl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);bl=e&&e[1]||""}return`
`+bl+t}var kl=!1;function Sl(t,e){if(!t||kl)return"";kl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{kl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?si(t):""}function zw(t){switch(t.tag){case 5:return si(t.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return t=Sl(t.type,!1),t;case 11:return t=Sl(t.type.render,!1),t;case 1:return t=Sl(t.type,!0),t;default:return""}}function ku(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ns:return"Fragment";case rs:return"Portal";case xu:return"Profiler";case Zc:return"StrictMode";case _u:return"Suspense";case bu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case og:return(t.displayName||"Context")+".Consumer";case ig:return(t._context.displayName||"Context")+".Provider";case Jc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yc:return e=t.displayName||null,e!==null?e:ku(t.type)||"Memo";case Rr:e=t._payload,t=t._init;try{return ku(t(e))}catch{}}return null}function Ww(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ku(e);case 8:return e===Zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function en(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hw(t){var e=lg(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vo(t){t._valueTracker||(t._valueTracker=Hw(t))}function ug(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=lg(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Su(t,e){var r=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function jh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=en(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cg(t,e){e=e.checked,e!=null&&Gc(t,"checked",e,!1)}function Eu(t,e){cg(t,e);var r=en(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tu(t,e.type,r):e.hasOwnProperty("defaultValue")&&Tu(t,e.type,en(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ph(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Tu(t,e,r){(e!=="number"||ta(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ii=Array.isArray;function ws(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+en(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Cu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ah(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(A(92));if(ii(r)){if(1<r.length)throw Error(A(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:en(r)}}function dg(t,e){var r=en(e.value),n=en(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Nh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ju(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wo,fg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wo=wo||document.createElement("div"),wo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kw=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(t){Kw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),di[e]=di[t]})});function pg(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||di.hasOwnProperty(t)&&di[t]?(""+e).trim():e+"px"}function mg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pg(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var qw=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pu(t,e){if(e){if(qw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Au(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=null;function Qc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ru=null,xs=null,_s=null;function Rh(t){if(t=io(t)){if(typeof Ru!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Za(e),Ru(t.stateNode,t.type,e))}}function gg(t){xs?_s?_s.push(t):_s=[t]:xs=t}function yg(){if(xs){var t=xs,e=_s;if(_s=xs=null,Rh(t),e)for(t=0;t<e.length;t++)Rh(e[t])}}function vg(t,e){return t(e)}function wg(){}var El=!1;function xg(t,e,r){if(El)return t(e,r);El=!0;try{return vg(t,e,r)}finally{El=!1,(xs!==null||_s!==null)&&(wg(),yg())}}function Ai(t,e){var r=t.stateNode;if(r===null)return null;var n=Za(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(A(231,e,typeof r));return r}var Ou=!1;if(vr)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Ou=!1}function Gw(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var hi=!1,ra=null,na=!1,Iu=null,Zw={onError:function(t){hi=!0,ra=t}};function Jw(t,e,r,n,s,i,o,a,l){hi=!1,ra=null,Gw.apply(Zw,arguments)}function Yw(t,e,r,n,s,i,o,a,l){if(Jw.apply(this,arguments),hi){if(hi){var u=ra;hi=!1,ra=null}else throw Error(A(198));na||(na=!0,Iu=u)}}function Mn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function _g(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oh(t){if(Mn(t)!==t)throw Error(A(188))}function Qw(t){var e=t.alternate;if(!e){if(e=Mn(t),e===null)throw Error(A(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Oh(s),t;if(i===n)return Oh(s),e;i=i.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?t:e}function bg(t){return t=Qw(t),t!==null?kg(t):null}function kg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kg(t);if(e!==null)return e;t=t.sibling}return null}var Sg=St.unstable_scheduleCallback,Ih=St.unstable_cancelCallback,Xw=St.unstable_shouldYield,ex=St.unstable_requestPaint,Ne=St.unstable_now,tx=St.unstable_getCurrentPriorityLevel,Xc=St.unstable_ImmediatePriority,Eg=St.unstable_UserBlockingPriority,sa=St.unstable_NormalPriority,rx=St.unstable_LowPriority,Tg=St.unstable_IdlePriority,Ha=null,rr=null;function nx(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Ha,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:ox,sx=Math.log,ix=Math.LN2;function ox(t){return t>>>=0,t===0?32:31-(sx(t)/ix|0)|0}var xo=64,_o=4194304;function oi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ia(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=oi(a):(i&=o,i!==0&&(n=oi(i)))}else o=r&~s,o!==0?n=oi(o):i!==0&&(n=oi(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zt(e),s=1<<r,n|=t[r],e&=~s;return n}function ax(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lx(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=ax(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Du(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cg(){var t=xo;return xo<<=1,!(xo&4194240)&&(xo=64),t}function Tl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function no(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=r}function ux(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Zt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ed(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Zt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ce=0;function jg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pg,td,Ag,Ng,Rg,Lu=!1,bo=[],Wr=null,Hr=null,Kr=null,Ni=new Map,Ri=new Map,Vr=[],cx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dh(t,e){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Ni.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(e.pointerId)}}function qs(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=io(e),e!==null&&td(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dx(t,e,r,n,s){switch(e){case"focusin":return Wr=qs(Wr,t,e,r,n,s),!0;case"dragenter":return Hr=qs(Hr,t,e,r,n,s),!0;case"mouseover":return Kr=qs(Kr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ni.set(i,qs(Ni.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ri.set(i,qs(Ri.get(i)||null,t,e,r,n,s)),!0}return!1}function Og(t){var e=bn(t.target);if(e!==null){var r=Mn(e);if(r!==null){if(e=r.tag,e===13){if(e=_g(r),e!==null){t.blockedOn=e,Rg(t.priority,function(){Ag(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Vu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Nu=n,r.target.dispatchEvent(n),Nu=null}else return e=io(r),e!==null&&td(e),t.blockedOn=r,!1;e.shift()}return!0}function Lh(t,e,r){zo(t)&&r.delete(e)}function hx(){Lu=!1,Wr!==null&&zo(Wr)&&(Wr=null),Hr!==null&&zo(Hr)&&(Hr=null),Kr!==null&&zo(Kr)&&(Kr=null),Ni.forEach(Lh),Ri.forEach(Lh)}function Gs(t,e){t.blockedOn===e&&(t.blockedOn=null,Lu||(Lu=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,hx)))}function Oi(t){function e(s){return Gs(s,t)}if(0<bo.length){Gs(bo[0],t);for(var r=1;r<bo.length;r++){var n=bo[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Wr!==null&&Gs(Wr,t),Hr!==null&&Gs(Hr,t),Kr!==null&&Gs(Kr,t),Ni.forEach(e),Ri.forEach(e),r=0;r<Vr.length;r++)n=Vr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)Og(r),r.blockedOn===null&&Vr.shift()}var bs=Sr.ReactCurrentBatchConfig,oa=!0;function fx(t,e,r,n){var s=ce,i=bs.transition;bs.transition=null;try{ce=1,rd(t,e,r,n)}finally{ce=s,bs.transition=i}}function px(t,e,r,n){var s=ce,i=bs.transition;bs.transition=null;try{ce=4,rd(t,e,r,n)}finally{ce=s,bs.transition=i}}function rd(t,e,r,n){if(oa){var s=Vu(t,e,r,n);if(s===null)Ll(t,e,n,aa,r),Dh(t,n);else if(dx(s,t,e,r,n))n.stopPropagation();else if(Dh(t,n),e&4&&-1<cx.indexOf(t)){for(;s!==null;){var i=io(s);if(i!==null&&Pg(i),i=Vu(t,e,r,n),i===null&&Ll(t,e,n,aa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ll(t,e,n,null,r)}}var aa=null;function Vu(t,e,r,n){if(aa=null,t=Qc(n),t=bn(t),t!==null)if(e=Mn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=_g(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return aa=t,null}function Ig(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tx()){case Xc:return 1;case Eg:return 4;case sa:case rx:return 16;case Tg:return 536870912;default:return 16}default:return 16}}var Ur=null,nd=null,Wo=null;function Dg(){if(Wo)return Wo;var t,e=nd,r=e.length,n,s="value"in Ur?Ur.value:Ur.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Wo=s.slice(t,1<n?1-n:void 0)}function Ho(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ko(){return!0}function Vh(){return!1}function jt(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ko:Vh,this.isPropagationStopped=Vh,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),e}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=jt(Bs),so=Ce({},Bs,{view:0,detail:0}),mx=jt(so),Cl,jl,Zs,Ka=Ce({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zs&&(Zs&&t.type==="mousemove"?(Cl=t.screenX-Zs.screenX,jl=t.screenY-Zs.screenY):jl=Cl=0,Zs=t),Cl)},movementY:function(t){return"movementY"in t?t.movementY:jl}}),Mh=jt(Ka),gx=Ce({},Ka,{dataTransfer:0}),yx=jt(gx),vx=Ce({},so,{relatedTarget:0}),Pl=jt(vx),wx=Ce({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=jt(wx),_x=Ce({},Bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bx=jt(_x),kx=Ce({},Bs,{data:0}),$h=jt(kx),Sx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tx[t])?!!e[t]:!1}function id(){return Cx}var jx=Ce({},so,{key:function(t){if(t.key){var e=Sx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ho(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ex[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(t){return t.type==="keypress"?Ho(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ho(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Px=jt(jx),Ax=Ce({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=jt(Ax),Nx=Ce({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),Rx=jt(Nx),Ox=Ce({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ix=jt(Ox),Dx=Ce({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lx=jt(Dx),Vx=[9,13,27,32],od=vr&&"CompositionEvent"in window,fi=null;vr&&"documentMode"in document&&(fi=document.documentMode);var Mx=vr&&"TextEvent"in window&&!fi,Lg=vr&&(!od||fi&&8<fi&&11>=fi),Uh=" ",Bh=!1;function Vg(t,e){switch(t){case"keyup":return Vx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function $x(t,e){switch(t){case"compositionend":return Mg(e);case"keypress":return e.which!==32?null:(Bh=!0,Uh);case"textInput":return t=e.data,t===Uh&&Bh?null:t;default:return null}}function Fx(t,e){if(ss)return t==="compositionend"||!od&&Vg(t,e)?(t=Dg(),Wo=nd=Ur=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lg&&e.locale!=="ko"?null:e.data;default:return null}}var Ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ux[t.type]:e==="textarea"}function $g(t,e,r,n){gg(n),e=la(e,"onChange"),0<e.length&&(r=new sd("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pi=null,Ii=null;function Bx(t){Jg(t,0)}function qa(t){var e=as(t);if(ug(e))return t}function zx(t,e){if(t==="change")return e}var Fg=!1;if(vr){var Al;if(vr){var Nl="oninput"in document;if(!Nl){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),Nl=typeof Wh.oninput=="function"}Al=Nl}else Al=!1;Fg=Al&&(!document.documentMode||9<document.documentMode)}function Hh(){pi&&(pi.detachEvent("onpropertychange",Ug),Ii=pi=null)}function Ug(t){if(t.propertyName==="value"&&qa(Ii)){var e=[];$g(e,Ii,t,Qc(t)),xg(Bx,e)}}function Wx(t,e,r){t==="focusin"?(Hh(),pi=e,Ii=r,pi.attachEvent("onpropertychange",Ug)):t==="focusout"&&Hh()}function Hx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qa(Ii)}function Kx(t,e){if(t==="click")return qa(e)}function qx(t,e){if(t==="input"||t==="change")return qa(e)}function Gx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:Gx;function Di(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!wu.call(e,s)||!Yt(t[s],e[s]))return!1}return!0}function Kh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qh(t,e){var r=Kh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kh(r)}}function Bg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zg(){for(var t=window,e=ta();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ta(t.document)}return e}function ad(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zx(t){var e=zg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Bg(r.ownerDocument.documentElement,r)){if(n!==null&&ad(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=qh(r,i);var o=qh(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jx=vr&&"documentMode"in document&&11>=document.documentMode,is=null,Mu=null,mi=null,$u=!1;function Gh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$u||is==null||is!==ta(n)||(n=is,"selectionStart"in n&&ad(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mi&&Di(mi,n)||(mi=n,n=la(Mu,"onSelect"),0<n.length&&(e=new sd("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=is)))}function So(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var os={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},Rl={},Wg={};vr&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Ga(t){if(Rl[t])return Rl[t];if(!os[t])return t;var e=os[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Wg)return Rl[t]=e[r];return t}var Hg=Ga("animationend"),Kg=Ga("animationiteration"),qg=Ga("animationstart"),Gg=Ga("transitionend"),Zg=new Map,Zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(t,e){Zg.set(t,e),Vn(e,[t])}for(var Ol=0;Ol<Zh.length;Ol++){var Il=Zh[Ol],Yx=Il.toLowerCase(),Qx=Il[0].toUpperCase()+Il.slice(1);an(Yx,"on"+Qx)}an(Hg,"onAnimationEnd");an(Kg,"onAnimationIteration");an(qg,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Gg,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function Jh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Yw(n,e,void 0,t),t.currentTarget=null}function Jg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Jh(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Jh(s,a,u),i=l}}}if(na)throw t=Iu,na=!1,Iu=null,t}function xe(t,e){var r=e[Wu];r===void 0&&(r=e[Wu]=new Set);var n=t+"__bubble";r.has(n)||(Yg(e,t,2,!1),r.add(n))}function Dl(t,e,r){var n=0;e&&(n|=4),Yg(r,t,n,e)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Li(t){if(!t[Eo]){t[Eo]=!0,sg.forEach(function(r){r!=="selectionchange"&&(Xx.has(r)||Dl(r,!1,t),Dl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eo]||(e[Eo]=!0,Dl("selectionchange",!1,e))}}function Yg(t,e,r,n){switch(Ig(e)){case 1:var s=fx;break;case 4:s=px;break;default:s=rd}r=s.bind(null,e,r,t),s=void 0,!Ou||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ll(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bn(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}xg(function(){var u=i,c=Qc(r),d=[];e:{var h=Zg.get(t);if(h!==void 0){var p=sd,y=t;switch(t){case"keypress":if(Ho(r)===0)break e;case"keydown":case"keyup":p=Px;break;case"focusin":y="focus",p=Pl;break;case"focusout":y="blur",p=Pl;break;case"beforeblur":case"afterblur":p=Pl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rx;break;case Hg:case Kg:case qg:p=xx;break;case Gg:p=Ix;break;case"scroll":p=mx;break;case"wheel":p=Lx;break;case"copy":case"cut":case"paste":p=bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fh}var w=(e&4)!==0,b=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var m=u,g;m!==null;){g=m;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,v!==null&&(_=Ai(m,v),_!=null&&w.push(Vi(m,_,g)))),b)break;m=m.return}0<w.length&&(h=new p(h,y,null,r,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==Nu&&(y=r.relatedTarget||r.fromElement)&&(bn(y)||y[wr]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?bn(y):null,y!==null&&(b=Mn(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=Mh,_="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Fh,_="onPointerLeave",v="onPointerEnter",m="pointer"),b=p==null?h:as(p),g=y==null?h:as(y),h=new w(_,m+"leave",p,r,c),h.target=b,h.relatedTarget=g,_=null,bn(c)===u&&(w=new w(v,m+"enter",y,r,c),w.target=g,w.relatedTarget=b,_=w),b=_,p&&y)t:{for(w=p,v=y,m=0,g=w;g;g=Bn(g))m++;for(g=0,_=v;_;_=Bn(_))g++;for(;0<m-g;)w=Bn(w),m--;for(;0<g-m;)v=Bn(v),g--;for(;m--;){if(w===v||v!==null&&w===v.alternate)break t;w=Bn(w),v=Bn(v)}w=null}else w=null;p!==null&&Yh(d,h,p,w,!1),y!==null&&b!==null&&Yh(d,b,y,w,!0)}}e:{if(h=u?as(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=zx;else if(zh(h))if(Fg)S=qx;else{S=Hx;var T=Wx}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Kx);if(S&&(S=S(t,u))){$g(d,S,r,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Tu(h,"number",h.value)}switch(T=u?as(u):window,t){case"focusin":(zh(T)||T.contentEditable==="true")&&(is=T,Mu=u,mi=null);break;case"focusout":mi=Mu=is=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,Gh(d,r,c);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":Gh(d,r,c)}var C;if(od)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ss?Vg(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Lg&&r.locale!=="ko"&&(ss||j!=="onCompositionStart"?j==="onCompositionEnd"&&ss&&(C=Dg()):(Ur=c,nd="value"in Ur?Ur.value:Ur.textContent,ss=!0)),T=la(u,j),0<T.length&&(j=new $h(j,t,null,r,c),d.push({event:j,listeners:T}),C?j.data=C:(C=Mg(r),C!==null&&(j.data=C)))),(C=Mx?$x(t,r):Fx(t,r))&&(u=la(u,"onBeforeInput"),0<u.length&&(c=new $h("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=C))}Jg(d,e)})}function Vi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function la(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ai(t,r),i!=null&&n.unshift(Vi(t,i,s)),i=Ai(t,e),i!=null&&n.push(Vi(t,i,s))),t=t.return}return n}function Bn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yh(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Ai(r,i),l!=null&&o.unshift(Vi(r,l,a))):s||(l=Ai(r,i),l!=null&&o.push(Vi(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var e_=/\r\n?/g,t_=/\u0000|\uFFFD/g;function Qh(t){return(typeof t=="string"?t:""+t).replace(e_,`
`).replace(t_,"")}function To(t,e,r){if(e=Qh(e),Qh(t)!==e&&r)throw Error(A(425))}function ua(){}var Fu=null,Uu=null;function Bu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zu=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,n_=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(t){return Xh.resolve(null).then(t).catch(s_)}:zu;function s_(t){setTimeout(function(){throw t})}function Vl(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Oi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Oi(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ef(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),tr="__reactFiber$"+zs,Mi="__reactProps$"+zs,wr="__reactContainer$"+zs,Wu="__reactEvents$"+zs,i_="__reactListeners$"+zs,o_="__reactHandles$"+zs;function bn(t){var e=t[tr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[wr]||r[tr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ef(t);t!==null;){if(r=t[tr])return r;t=ef(t)}return e}t=r,r=t.parentNode}return null}function io(t){return t=t[tr]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function as(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Za(t){return t[Mi]||null}var Hu=[],ls=-1;function ln(t){return{current:t}}function _e(t){0>ls||(t.current=Hu[ls],Hu[ls]=null,ls--)}function ge(t,e){ls++,Hu[ls]=t.current,t.current=e}var tn={},rt=ln(tn),ht=ln(!1),Nn=tn;function Cs(t,e){var r=t.type.contextTypes;if(!r)return tn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ft(t){return t=t.childContextTypes,t!=null}function ca(){_e(ht),_e(rt)}function tf(t,e,r){if(rt.current!==tn)throw Error(A(168));ge(rt,e),ge(ht,r)}function Qg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(A(108,Ww(t)||"Unknown",s));return Ce({},r,n)}function da(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tn,Nn=rt.current,ge(rt,t),ge(ht,ht.current),!0}function rf(t,e,r){var n=t.stateNode;if(!n)throw Error(A(169));r?(t=Qg(t,e,Nn),n.__reactInternalMemoizedMergedChildContext=t,_e(ht),_e(rt),ge(rt,t)):_e(ht),ge(ht,r)}var dr=null,Ja=!1,Ml=!1;function Xg(t){dr===null?dr=[t]:dr.push(t)}function a_(t){Ja=!0,Xg(t)}function un(){if(!Ml&&dr!==null){Ml=!0;var t=0,e=ce;try{var r=dr;for(ce=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}dr=null,Ja=!1}catch(s){throw dr!==null&&(dr=dr.slice(t+1)),Sg(Xc,un),s}finally{ce=e,Ml=!1}}return null}var us=[],cs=0,ha=null,fa=0,Rt=[],Ot=0,Rn=null,hr=1,fr="";function pn(t,e){us[cs++]=fa,us[cs++]=ha,ha=t,fa=e}function ey(t,e,r){Rt[Ot++]=hr,Rt[Ot++]=fr,Rt[Ot++]=Rn,Rn=t;var n=hr;t=fr;var s=32-Zt(n)-1;n&=~(1<<s),r+=1;var i=32-Zt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,hr=1<<32-Zt(e)+s|r<<s|n,fr=i+t}else hr=1<<i|r<<s|n,fr=t}function ld(t){t.return!==null&&(pn(t,1),ey(t,1,0))}function ud(t){for(;t===ha;)ha=us[--cs],us[cs]=null,fa=us[--cs],us[cs]=null;for(;t===Rn;)Rn=Rt[--Ot],Rt[Ot]=null,fr=Rt[--Ot],Rt[Ot]=null,hr=Rt[--Ot],Rt[Ot]=null}var kt=null,bt=null,be=!1,Kt=null;function ty(t,e){var r=It(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function nf(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,bt=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Rn!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=It(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,kt=t,bt=null,!0):!1;default:return!1}}function Ku(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qu(t){if(be){var e=bt;if(e){var r=e;if(!nf(t,e)){if(Ku(t))throw Error(A(418));e=qr(r.nextSibling);var n=kt;e&&nf(t,e)?ty(n,r):(t.flags=t.flags&-4097|2,be=!1,kt=t)}}else{if(Ku(t))throw Error(A(418));t.flags=t.flags&-4097|2,be=!1,kt=t}}}function sf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function Co(t){if(t!==kt)return!1;if(!be)return sf(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bu(t.type,t.memoizedProps)),e&&(e=bt)){if(Ku(t))throw ry(),Error(A(418));for(;e;)ty(t,e),e=qr(e.nextSibling)}if(sf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){bt=qr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=kt?qr(t.stateNode.nextSibling):null;return!0}function ry(){for(var t=bt;t;)t=qr(t.nextSibling)}function js(){bt=kt=null,be=!1}function cd(t){Kt===null?Kt=[t]:Kt.push(t)}var l_=Sr.ReactCurrentBatchConfig;function Js(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,t))}return t}function jo(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function of(t){var e=t._init;return e(t._payload)}function ny(t){function e(v,m){if(t){var g=v.deletions;g===null?(v.deletions=[m],v.flags|=16):g.push(m)}}function r(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Yr(v,m),v.index=0,v.sibling=null,v}function i(v,m,g){return v.index=g,t?(g=v.alternate,g!==null?(g=g.index,g<m?(v.flags|=2,m):g):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,g,_){return m===null||m.tag!==6?(m=Hl(g,v.mode,_),m.return=v,m):(m=s(m,g),m.return=v,m)}function l(v,m,g,_){var S=g.type;return S===ns?c(v,m,g.props.children,_,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rr&&of(S)===m.type)?(_=s(m,g.props),_.ref=Js(v,m,g),_.return=v,_):(_=Qo(g.type,g.key,g.props,null,v.mode,_),_.ref=Js(v,m,g),_.return=v,_)}function u(v,m,g,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Kl(g,v.mode,_),m.return=v,m):(m=s(m,g.children||[]),m.return=v,m)}function c(v,m,g,_,S){return m===null||m.tag!==7?(m=Pn(g,v.mode,_,S),m.return=v,m):(m=s(m,g),m.return=v,m)}function d(v,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Hl(""+m,v.mode,g),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case yo:return g=Qo(m.type,m.key,m.props,null,v.mode,g),g.ref=Js(v,null,m),g.return=v,g;case rs:return m=Kl(m,v.mode,g),m.return=v,m;case Rr:var _=m._init;return d(v,_(m._payload),g)}if(ii(m)||Hs(m))return m=Pn(m,v.mode,g,null),m.return=v,m;jo(v,m)}return null}function h(v,m,g,_){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:a(v,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case yo:return g.key===S?l(v,m,g,_):null;case rs:return g.key===S?u(v,m,g,_):null;case Rr:return S=g._init,h(v,m,S(g._payload),_)}if(ii(g)||Hs(g))return S!==null?null:c(v,m,g,_,null);jo(v,g)}return null}function p(v,m,g,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(g)||null,a(m,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yo:return v=v.get(_.key===null?g:_.key)||null,l(m,v,_,S);case rs:return v=v.get(_.key===null?g:_.key)||null,u(m,v,_,S);case Rr:var T=_._init;return p(v,m,g,T(_._payload),S)}if(ii(_)||Hs(_))return v=v.get(g)||null,c(m,v,_,S,null);jo(m,_)}return null}function y(v,m,g,_){for(var S=null,T=null,C=m,j=m=0,L=null;C!==null&&j<g.length;j++){C.index>j?(L=C,C=null):L=C.sibling;var F=h(v,C,g[j],_);if(F===null){C===null&&(C=L);break}t&&C&&F.alternate===null&&e(v,C),m=i(F,m,j),T===null?S=F:T.sibling=F,T=F,C=L}if(j===g.length)return r(v,C),be&&pn(v,j),S;if(C===null){for(;j<g.length;j++)C=d(v,g[j],_),C!==null&&(m=i(C,m,j),T===null?S=C:T.sibling=C,T=C);return be&&pn(v,j),S}for(C=n(v,C);j<g.length;j++)L=p(C,v,j,g[j],_),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?j:L.key),m=i(L,m,j),T===null?S=L:T.sibling=L,T=L);return t&&C.forEach(function(ve){return e(v,ve)}),be&&pn(v,j),S}function w(v,m,g,_){var S=Hs(g);if(typeof S!="function")throw Error(A(150));if(g=S.call(g),g==null)throw Error(A(151));for(var T=S=null,C=m,j=m=0,L=null,F=g.next();C!==null&&!F.done;j++,F=g.next()){C.index>j?(L=C,C=null):L=C.sibling;var ve=h(v,C,F.value,_);if(ve===null){C===null&&(C=L);break}t&&C&&ve.alternate===null&&e(v,C),m=i(ve,m,j),T===null?S=ve:T.sibling=ve,T=ve,C=L}if(F.done)return r(v,C),be&&pn(v,j),S;if(C===null){for(;!F.done;j++,F=g.next())F=d(v,F.value,_),F!==null&&(m=i(F,m,j),T===null?S=F:T.sibling=F,T=F);return be&&pn(v,j),S}for(C=n(v,C);!F.done;j++,F=g.next())F=p(C,v,j,F.value,_),F!==null&&(t&&F.alternate!==null&&C.delete(F.key===null?j:F.key),m=i(F,m,j),T===null?S=F:T.sibling=F,T=F);return t&&C.forEach(function(W){return e(v,W)}),be&&pn(v,j),S}function b(v,m,g,_){if(typeof g=="object"&&g!==null&&g.type===ns&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case yo:e:{for(var S=g.key,T=m;T!==null;){if(T.key===S){if(S=g.type,S===ns){if(T.tag===7){r(v,T.sibling),m=s(T,g.props.children),m.return=v,v=m;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rr&&of(S)===T.type){r(v,T.sibling),m=s(T,g.props),m.ref=Js(v,T,g),m.return=v,v=m;break e}r(v,T);break}else e(v,T);T=T.sibling}g.type===ns?(m=Pn(g.props.children,v.mode,_,g.key),m.return=v,v=m):(_=Qo(g.type,g.key,g.props,null,v.mode,_),_.ref=Js(v,m,g),_.return=v,v=_)}return o(v);case rs:e:{for(T=g.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(v,m.sibling),m=s(m,g.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else e(v,m);m=m.sibling}m=Kl(g,v.mode,_),m.return=v,v=m}return o(v);case Rr:return T=g._init,b(v,m,T(g._payload),_)}if(ii(g))return y(v,m,g,_);if(Hs(g))return w(v,m,g,_);jo(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(v,m.sibling),m=s(m,g),m.return=v,v=m):(r(v,m),m=Hl(g,v.mode,_),m.return=v,v=m),o(v)):r(v,m)}return b}var Ps=ny(!0),sy=ny(!1),pa=ln(null),ma=null,ds=null,dd=null;function hd(){dd=ds=ma=null}function fd(t){var e=pa.current;_e(pa),t._currentValue=e}function Gu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ks(t,e){ma=t,dd=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function Lt(t){var e=t._currentValue;if(dd!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(ma===null)throw Error(A(308));ds=t,ma.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var kn=null;function pd(t){kn===null?kn=[t]:kn.push(t)}function iy(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,pd(e)):(r.next=s.next,s.next=r),e.interleaved=r,xr(t,n)}function xr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Or=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,xr(t,r)}return s=n.interleaved,s===null?(e.next=e,pd(n)):(e.next=s.next,s.next=e),n.interleaved=e,xr(t,r)}function Ko(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ed(t,r)}}function af(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ga(t,e,r,n){var s=t.updateQueue;Or=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(h=e,p=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=Ce({},d,h);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);In|=o,t.lanes=o,t.memoizedState=d}}function lf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var oo={},nr=ln(oo),$i=ln(oo),Fi=ln(oo);function Sn(t){if(t===oo)throw Error(A(174));return t}function gd(t,e){switch(ge(Fi,e),ge($i,t),ge(nr,oo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ju(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ju(e,t)}_e(nr),ge(nr,e)}function As(){_e(nr),_e($i),_e(Fi)}function ay(t){Sn(Fi.current);var e=Sn(nr.current),r=ju(e,t.type);e!==r&&(ge($i,t),ge(nr,r))}function yd(t){$i.current===t&&(_e(nr),_e($i))}var Se=ln(0);function ya(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $l=[];function vd(){for(var t=0;t<$l.length;t++)$l[t]._workInProgressVersionPrimary=null;$l.length=0}var qo=Sr.ReactCurrentDispatcher,Fl=Sr.ReactCurrentBatchConfig,On=0,Te=null,Fe=null,ze=null,va=!1,gi=!1,Ui=0,u_=0;function Qe(){throw Error(A(321))}function wd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Yt(t[r],e[r]))return!1;return!0}function xd(t,e,r,n,s,i){if(On=i,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qo.current=t===null||t.memoizedState===null?f_:p_,t=r(n,s),gi){i=0;do{if(gi=!1,Ui=0,25<=i)throw Error(A(301));i+=1,ze=Fe=null,e.updateQueue=null,qo.current=m_,t=r(n,s)}while(gi)}if(qo.current=wa,e=Fe!==null&&Fe.next!==null,On=0,ze=Fe=Te=null,va=!1,e)throw Error(A(300));return t}function _d(){var t=Ui!==0;return Ui=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Te.memoizedState=ze=t:ze=ze.next=t,ze}function Vt(){if(Fe===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=ze===null?Te.memoizedState:ze.next;if(e!==null)ze=e,Fe=t;else{if(t===null)throw Error(A(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ze===null?Te.memoizedState=ze=t:ze=ze.next=t}return ze}function Bi(t,e){return typeof e=="function"?e(t):e}function Ul(t){var e=Vt(),r=e.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=t;var n=Fe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((On&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,Te.lanes|=c,In|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Yt(n,e.memoizedState)||(dt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Te.lanes|=i,In|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Bl(t){var e=Vt(),r=e.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yt(i,e.memoizedState)||(dt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function ly(){}function uy(t,e){var r=Te,n=Vt(),s=e(),i=!Yt(n.memoizedState,s);if(i&&(n.memoizedState=s,dt=!0),n=n.queue,bd(hy.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,zi(9,dy.bind(null,r,n,s,e),void 0,null),We===null)throw Error(A(349));On&30||cy(r,e,s)}return s}function cy(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function dy(t,e,r,n){e.value=r,e.getSnapshot=n,fy(e)&&py(t)}function hy(t,e,r){return r(function(){fy(e)&&py(t)})}function fy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yt(t,r)}catch{return!0}}function py(t){var e=xr(t,1);e!==null&&Jt(e,t,1,-1)}function uf(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},e.queue=t,t=t.dispatch=h_.bind(null,Te,t),[e.memoizedState,t]}function zi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function my(){return Vt().memoizedState}function Go(t,e,r,n){var s=Xt();Te.flags|=t,s.memoizedState=zi(1|e,r,void 0,n===void 0?null:n)}function Ya(t,e,r,n){var s=Vt();n=n===void 0?null:n;var i=void 0;if(Fe!==null){var o=Fe.memoizedState;if(i=o.destroy,n!==null&&wd(n,o.deps)){s.memoizedState=zi(e,r,i,n);return}}Te.flags|=t,s.memoizedState=zi(1|e,r,i,n)}function cf(t,e){return Go(8390656,8,t,e)}function bd(t,e){return Ya(2048,8,t,e)}function gy(t,e){return Ya(4,2,t,e)}function yy(t,e){return Ya(4,4,t,e)}function vy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wy(t,e,r){return r=r!=null?r.concat([t]):null,Ya(4,4,vy.bind(null,e,t),r)}function kd(){}function xy(t,e){var r=Vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function _y(t,e){var r=Vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function by(t,e,r){return On&21?(Yt(r,e)||(r=Cg(),Te.lanes|=r,In|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=r)}function c_(t,e){var r=ce;ce=r!==0&&4>r?r:4,t(!0);var n=Fl.transition;Fl.transition={};try{t(!1),e()}finally{ce=r,Fl.transition=n}}function ky(){return Vt().memoizedState}function d_(t,e,r){var n=Jr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sy(t))Ey(e,r);else if(r=iy(t,e,r,n),r!==null){var s=ot();Jt(r,t,n,s),Ty(r,e,n)}}function h_(t,e,r){var n=Jr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sy(t))Ey(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Yt(a,o)){var l=e.interleaved;l===null?(s.next=s,pd(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=iy(t,e,s,n),r!==null&&(s=ot(),Jt(r,t,n,s),Ty(r,e,n))}}function Sy(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function Ey(t,e){gi=va=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Ty(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ed(t,r)}}var wa={readContext:Lt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},f_={readContext:Lt,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:Lt,useEffect:cf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Go(4194308,4,vy.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Go(4194308,4,t,e)},useInsertionEffect:function(t,e){return Go(4,2,t,e)},useMemo:function(t,e){var r=Xt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Xt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=d_.bind(null,Te,t),[n.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:uf,useDebugValue:kd,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=uf(!1),e=t[0];return t=c_.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Te,s=Xt();if(be){if(r===void 0)throw Error(A(407));r=r()}else{if(r=e(),We===null)throw Error(A(349));On&30||cy(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,cf(hy.bind(null,n,i,t),[t]),n.flags|=2048,zi(9,dy.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Xt(),e=We.identifierPrefix;if(be){var r=fr,n=hr;r=(n&~(1<<32-Zt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ui++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=u_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p_={readContext:Lt,useCallback:xy,useContext:Lt,useEffect:bd,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:_y,useReducer:Ul,useRef:my,useState:function(){return Ul(Bi)},useDebugValue:kd,useDeferredValue:function(t){var e=Vt();return by(e,Fe.memoizedState,t)},useTransition:function(){var t=Ul(Bi)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:ly,useSyncExternalStore:uy,useId:ky,unstable_isNewReconciler:!1},m_={readContext:Lt,useCallback:xy,useContext:Lt,useEffect:bd,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:_y,useReducer:Bl,useRef:my,useState:function(){return Bl(Bi)},useDebugValue:kd,useDeferredValue:function(t){var e=Vt();return Fe===null?e.memoizedState=t:by(e,Fe.memoizedState,t)},useTransition:function(){var t=Bl(Bi)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:ly,useSyncExternalStore:uy,useId:ky,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Zu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ce({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qa={isMounted:function(t){return(t=t._reactInternals)?Mn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ot(),s=Jr(t),i=mr(n,s);i.payload=e,r!=null&&(i.callback=r),e=Gr(t,i,s),e!==null&&(Jt(e,t,s,n),Ko(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ot(),s=Jr(t),i=mr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Gr(t,i,s),e!==null&&(Jt(e,t,s,n),Ko(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ot(),n=Jr(t),s=mr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Gr(t,s,n),e!==null&&(Jt(e,t,n,r),Ko(e,t,n))}};function df(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Di(r,n)||!Di(s,i):!0}function Cy(t,e,r){var n=!1,s=tn,i=e.contextType;return typeof i=="object"&&i!==null?i=Lt(i):(s=ft(e)?Nn:rt.current,n=e.contextTypes,i=(n=n!=null)?Cs(t,s):tn),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qa,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Qa.enqueueReplaceState(e,e.state,null)}function Ju(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},md(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Lt(i):(i=ft(e)?Nn:rt.current,s.context=Cs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zu(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qa.enqueueReplaceState(s,s.state,null),ga(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ns(t,e){try{var r="",n=e;do r+=zw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Yu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var g_=typeof WeakMap=="function"?WeakMap:Map;function jy(t,e,r){r=mr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){_a||(_a=!0,ac=n),Yu(t,e)},r}function Py(t,e,r){r=mr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Yu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Yu(t,e),typeof n!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function ff(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new g_;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=A_.bind(null,t,e,r),e.then(t,t))}function pf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mf(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=mr(-1,1),e.tag=2,Gr(r,e,1))),r.lanes|=1),t)}var y_=Sr.ReactCurrentOwner,dt=!1;function it(t,e,r,n){e.child=t===null?sy(e,null,r,n):Ps(e,t.child,r,n)}function gf(t,e,r,n,s){r=r.render;var i=e.ref;return ks(e,s),n=xd(t,e,r,n,i,s),r=_d(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(be&&r&&ld(e),e.flags|=1,it(t,e,n,s),e.child)}function yf(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Nd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Ay(t,e,i,n,s)):(t=Qo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Di,r(o,n)&&t.ref===e.ref)return _r(t,e,s)}return e.flags|=1,t=Yr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Ay(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Di(i,n)&&t.ref===e.ref)if(dt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,_r(t,e,s)}return Qu(t,e,r,n,s)}function Ny(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(fs,vt),vt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(fs,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ge(fs,vt),vt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ge(fs,vt),vt|=n;return it(t,e,s,r),e.child}function Ry(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Qu(t,e,r,n,s){var i=ft(r)?Nn:rt.current;return i=Cs(e,i),ks(e,s),r=xd(t,e,r,n,i,s),n=_d(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(be&&n&&ld(e),e.flags|=1,it(t,e,r,s),e.child)}function vf(t,e,r,n,s){if(ft(r)){var i=!0;da(e)}else i=!1;if(ks(e,s),e.stateNode===null)Zo(t,e),Cy(e,r,n),Ju(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=ft(r)?Nn:rt.current,u=Cs(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&hf(e,o,n,u),Or=!1;var h=e.memoizedState;o.state=h,ga(e,n,o,s),l=e.memoizedState,a!==n||h!==l||ht.current||Or?(typeof c=="function"&&(Zu(e,r,c,n),l=e.memoizedState),(a=Or||df(e,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,oy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bt(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Lt(l):(l=ft(r)?Nn:rt.current,l=Cs(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&hf(e,o,n,l),Or=!1,h=e.memoizedState,o.state=h,ga(e,n,o,s);var y=e.memoizedState;a!==d||h!==y||ht.current||Or?(typeof p=="function"&&(Zu(e,r,p,n),y=e.memoizedState),(u=Or||df(e,r,u,n,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Xu(t,e,r,n,i,s)}function Xu(t,e,r,n,s,i){Ry(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&rf(e,r,!1),_r(t,e,i);n=e.stateNode,y_.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ps(e,t.child,null,i),e.child=Ps(e,null,a,i)):it(t,e,a,i),e.memoizedState=n.state,s&&rf(e,r,!0),e.child}function Oy(t){var e=t.stateNode;e.pendingContext?tf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tf(t,e.context,!1),gd(t,e.containerInfo)}function wf(t,e,r,n,s){return js(),cd(s),e.flags|=256,it(t,e,r,n),e.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Iy(t,e,r){var n=e.pendingProps,s=Se.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Se,s&1),t===null)return qu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tl(o,n,0,null),t=Pn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tc(r),e.memoizedState=ec,t):Sd(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return v_(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Yr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Yr(a,i):(i=Pn(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?tc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ec,n}return i=t.child,t=i.sibling,n=Yr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Sd(t,e){return e=tl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Po(t,e,r,n){return n!==null&&cd(n),Ps(e,t.child,null,r),t=Sd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v_(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=zl(Error(A(422))),Po(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=tl({mode:"visible",children:n.children},s,0,null),i=Pn(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ps(e,t.child,null,o),e.child.memoizedState=tc(o),e.memoizedState=ec,i);if(!(e.mode&1))return Po(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(A(419)),n=zl(i,n,void 0),Po(t,e,o,n)}if(a=(o&t.childLanes)!==0,dt||a){if(n=We,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xr(t,s),Jt(n,t,s,-1))}return Ad(),n=zl(Error(A(421))),Po(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=N_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,bt=qr(s.nextSibling),kt=e,be=!0,Kt=null,t!==null&&(Rt[Ot++]=hr,Rt[Ot++]=fr,Rt[Ot++]=Rn,hr=t.id,fr=t.overflow,Rn=e),e=Sd(e,n.children),e.flags|=4096,e)}function xf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Gu(t.return,e,r)}function Wl(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Dy(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(it(t,e,n.children,r),n=Se.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xf(t,r,e);else if(t.tag===19)xf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ge(Se,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ya(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Wl(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ya(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Wl(e,!0,r,null,i);break;case"together":Wl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),In|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,r=Yr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function w_(t,e,r){switch(e.tag){case 3:Oy(e),js();break;case 5:ay(e);break;case 1:ft(e.type)&&da(e);break;case 4:gd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ge(pa,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ge(Se,Se.current&1),e.flags|=128,null):r&e.child.childLanes?Iy(t,e,r):(ge(Se,Se.current&1),t=_r(t,e,r),t!==null?t.sibling:null);ge(Se,Se.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Dy(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Se,Se.current),n)break;return null;case 22:case 23:return e.lanes=0,Ny(t,e,r)}return _r(t,e,r)}var Ly,rc,Vy,My;Ly=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rc=function(){};Vy=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Sn(nr.current);var i=null;switch(r){case"input":s=Su(t,s),n=Su(t,n),i=[];break;case"select":s=Ce({},s,{value:void 0}),n=Ce({},n,{value:void 0}),i=[];break;case"textarea":s=Cu(t,s),n=Cu(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ua)}Pu(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ji.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ji.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};My=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ys(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function x_(t,e,r){var n=e.pendingProps;switch(ud(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return ft(e.type)&&ca(),Xe(e),null;case 3:return n=e.stateNode,As(),_e(ht),_e(rt),vd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Co(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(cc(Kt),Kt=null))),rc(t,e),Xe(e),null;case 5:yd(e);var s=Sn(Fi.current);if(r=e.type,t!==null&&e.stateNode!=null)Vy(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(A(166));return Xe(e),null}if(t=Sn(nr.current),Co(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[tr]=e,n[Mi]=i,t=(e.mode&1)!==0,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(s=0;s<ai.length;s++)xe(ai[s],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":jh(n,i),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},xe("invalid",n);break;case"textarea":Ah(n,i),xe("invalid",n)}Pu(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&To(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&To(n.textContent,a,t),s=["children",""+a]):ji.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",n)}switch(r){case"input":vo(n),Ph(n,i,!0);break;case"textarea":vo(n),Nh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ua)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hg(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[tr]=e,t[Mi]=n,Ly(t,e,!1,!1),e.stateNode=t;e:{switch(o=Au(r,n),r){case"dialog":xe("cancel",t),xe("close",t),s=n;break;case"iframe":case"object":case"embed":xe("load",t),s=n;break;case"video":case"audio":for(s=0;s<ai.length;s++)xe(ai[s],t);s=n;break;case"source":xe("error",t),s=n;break;case"img":case"image":case"link":xe("error",t),xe("load",t),s=n;break;case"details":xe("toggle",t),s=n;break;case"input":jh(t,n),s=Su(t,n),xe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ce({},n,{value:void 0}),xe("invalid",t);break;case"textarea":Ah(t,n),s=Cu(t,n),xe("invalid",t);break;default:s=n}Pu(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?mg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fg(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Pi(t,l):typeof l=="number"&&Pi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ji.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xe("scroll",t):l!=null&&Gc(t,i,l,o))}switch(r){case"input":vo(t),Ph(t,n,!1);break;case"textarea":vo(t),Nh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+en(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ws(t,!!n.multiple,i,!1):n.defaultValue!=null&&ws(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ua)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)My(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(A(166));if(r=Sn(Fi.current),Sn(nr.current),Co(e)){if(n=e.stateNode,r=e.memoizedProps,n[tr]=e,(i=n.nodeValue!==r)&&(t=kt,t!==null))switch(t.tag){case 3:To(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&To(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[tr]=e,e.stateNode=n}return Xe(e),null;case 13:if(_e(Se),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&bt!==null&&e.mode&1&&!(e.flags&128))ry(),js(),e.flags|=98560,i=!1;else if(i=Co(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[tr]=e}else js(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),i=!1}else Kt!==null&&(cc(Kt),Kt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?Ue===0&&(Ue=3):Ad())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return As(),rc(t,e),t===null&&Li(e.stateNode.containerInfo),Xe(e),null;case 10:return fd(e.type._context),Xe(e),null;case 17:return ft(e.type)&&ca(),Xe(e),null;case 19:if(_e(Se),i=e.memoizedState,i===null)return Xe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Ys(i,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ya(t),o!==null){for(e.flags|=128,Ys(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ge(Se,Se.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ne()>Rs&&(e.flags|=128,n=!0,Ys(i,!1),e.lanes=4194304)}else{if(!n)if(t=ya(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ys(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!be)return Xe(e),null}else 2*Ne()-i.renderingStartTime>Rs&&r!==1073741824&&(e.flags|=128,n=!0,Ys(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ne(),e.sibling=null,r=Se.current,ge(Se,n?r&1|2:r&1),e):(Xe(e),null);case 22:case 23:return Pd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?vt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function __(t,e){switch(ud(e),e.tag){case 1:return ft(e.type)&&ca(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return As(),_e(ht),_e(rt),vd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yd(e),null;case 13:if(_e(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Se),null;case 4:return As(),null;case 10:return fd(e.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var Ao=!1,tt=!1,b_=typeof WeakSet=="function"?WeakSet:Set,M=null;function hs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pe(t,e,n)}else r.current=null}function nc(t,e,r){try{r()}catch(n){Pe(t,e,n)}}var _f=!1;function k_(t,e){if(Fu=oa,t=zg(),ad(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++c===n&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uu={focusedElem:t,selectionRange:r},oa=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Bt(e.type,w),b);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){Pe(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return y=_f,_f=!1,y}function yi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nc(e,r,i)}s=s.next}while(s!==n)}}function Xa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function $y(t){var e=t.alternate;e!==null&&(t.alternate=null,$y(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[Mi],delete e[Wu],delete e[i_],delete e[o_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fy(t){return t.tag===5||t.tag===3||t.tag===4}function bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ic(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ua));else if(n!==4&&(t=t.child,t!==null))for(ic(t,e,r),t=t.sibling;t!==null;)ic(t,e,r),t=t.sibling}function oc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(oc(t,e,r),t=t.sibling;t!==null;)oc(t,e,r),t=t.sibling}var qe=null,Wt=!1;function Ar(t,e,r){for(r=r.child;r!==null;)Uy(t,e,r),r=r.sibling}function Uy(t,e,r){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Ha,r)}catch{}switch(r.tag){case 5:tt||hs(r,e);case 6:var n=qe,s=Wt;qe=null,Ar(t,e,r),qe=n,Wt=s,qe!==null&&(Wt?(t=qe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qe.removeChild(r.stateNode));break;case 18:qe!==null&&(Wt?(t=qe,r=r.stateNode,t.nodeType===8?Vl(t.parentNode,r):t.nodeType===1&&Vl(t,r),Oi(t)):Vl(qe,r.stateNode));break;case 4:n=qe,s=Wt,qe=r.stateNode.containerInfo,Wt=!0,Ar(t,e,r),qe=n,Wt=s;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nc(r,e,o),s=s.next}while(s!==n)}Ar(t,e,r);break;case 1:if(!tt&&(hs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Pe(r,e,a)}Ar(t,e,r);break;case 21:Ar(t,e,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,Ar(t,e,r),tt=n):Ar(t,e,r);break;default:Ar(t,e,r)}}function kf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new b_),e.forEach(function(n){var s=R_.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ft(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,Wt=!1;break e;case 3:qe=a.stateNode.containerInfo,Wt=!0;break e;case 4:qe=a.stateNode.containerInfo,Wt=!0;break e}a=a.return}if(qe===null)throw Error(A(160));Uy(i,o,s),qe=null,Wt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Pe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)By(e,t),e=e.sibling}function By(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),Qt(t),n&4){try{yi(3,t,t.return),Xa(3,t)}catch(w){Pe(t,t.return,w)}try{yi(5,t,t.return)}catch(w){Pe(t,t.return,w)}}break;case 1:Ft(e,t),Qt(t),n&512&&r!==null&&hs(r,r.return);break;case 5:if(Ft(e,t),Qt(t),n&512&&r!==null&&hs(r,r.return),t.flags&32){var s=t.stateNode;try{Pi(s,"")}catch(w){Pe(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cg(s,i),Au(a,o);var u=Au(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?mg(s,d):c==="dangerouslySetInnerHTML"?fg(s,d):c==="children"?Pi(s,d):Gc(s,c,d,u)}switch(a){case"input":Eu(s,i);break;case"textarea":dg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ws(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ws(s,!!i.multiple,i.defaultValue,!0):ws(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mi]=i}catch(w){Pe(t,t.return,w)}}break;case 6:if(Ft(e,t),Qt(t),n&4){if(t.stateNode===null)throw Error(A(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Pe(t,t.return,w)}}break;case 3:if(Ft(e,t),Qt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oi(e.containerInfo)}catch(w){Pe(t,t.return,w)}break;case 4:Ft(e,t),Qt(t);break;case 13:Ft(e,t),Qt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cd=Ne())),n&4&&kf(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(tt=(u=tt)||c,Ft(e,t),tt=u):Ft(e,t),Qt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(M=t,c=t.child;c!==null;){for(d=M=c;M!==null;){switch(h=M,p=h.child,h.tag){case 0:case 11:case 14:case 15:yi(4,h,h.return);break;case 1:hs(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Pe(n,r,w)}}break;case 5:hs(h,h.return);break;case 22:if(h.memoizedState!==null){Ef(d);continue}}p!==null?(p.return=h,M=p):Ef(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pg("display",o))}catch(w){Pe(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Pe(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ft(e,t),Qt(t),n&4&&kf(t);break;case 21:break;default:Ft(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Fy(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Pi(s,""),n.flags&=-33);var i=bf(t);oc(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=bf(t);ic(t,a,o);break;default:throw Error(A(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S_(t,e,r){M=t,zy(t)}function zy(t,e,r){for(var n=(t.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ao;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||tt;a=Ao;var u=tt;if(Ao=o,(tt=l)&&!u)for(M=s;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Tf(s):l!==null?(l.return=o,M=l):Tf(s);for(;i!==null;)M=i,zy(i),i=i.sibling;M=s,Ao=a,tt=u}Sf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):Sf(t)}}function Sf(t){for(;M!==null;){var e=M;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||Xa(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!tt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Bt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lf(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lf(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Oi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}tt||e.flags&512&&sc(e)}catch(h){Pe(e,e.return,h)}}if(e===t){M=null;break}if(r=e.sibling,r!==null){r.return=e.return,M=r;break}M=e.return}}function Ef(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var r=e.sibling;if(r!==null){r.return=e.return,M=r;break}M=e.return}}function Tf(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Xa(4,e)}catch(l){Pe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Pe(e,s,l)}}var i=e.return;try{sc(e)}catch(l){Pe(e,i,l)}break;case 5:var o=e.return;try{sc(e)}catch(l){Pe(e,o,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var E_=Math.ceil,xa=Sr.ReactCurrentDispatcher,Ed=Sr.ReactCurrentOwner,Dt=Sr.ReactCurrentBatchConfig,oe=0,We=null,Ve=null,Ze=0,vt=0,fs=ln(0),Ue=0,Wi=null,In=0,el=0,Td=0,vi=null,ct=null,Cd=0,Rs=1/0,ur=null,_a=!1,ac=null,Zr=null,No=!1,Br=null,ba=0,wi=0,lc=null,Jo=-1,Yo=0;function ot(){return oe&6?Ne():Jo!==-1?Jo:Jo=Ne()}function Jr(t){return t.mode&1?oe&2&&Ze!==0?Ze&-Ze:l_.transition!==null?(Yo===0&&(Yo=Cg()),Yo):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Ig(t.type)),t):1}function Jt(t,e,r,n){if(50<wi)throw wi=0,lc=null,Error(A(185));no(t,r,n),(!(oe&2)||t!==We)&&(t===We&&(!(oe&2)&&(el|=r),Ue===4&&Mr(t,Ze)),pt(t,n),r===1&&oe===0&&!(e.mode&1)&&(Rs=Ne()+500,Ja&&un()))}function pt(t,e){var r=t.callbackNode;lx(t,e);var n=ia(t,t===We?Ze:0);if(n===0)r!==null&&Ih(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ih(r),e===1)t.tag===0?a_(Cf.bind(null,t)):Xg(Cf.bind(null,t)),n_(function(){!(oe&6)&&un()}),r=null;else{switch(jg(n)){case 1:r=Xc;break;case 4:r=Eg;break;case 16:r=sa;break;case 536870912:r=Tg;break;default:r=sa}r=Yy(r,Wy.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Wy(t,e){if(Jo=-1,Yo=0,oe&6)throw Error(A(327));var r=t.callbackNode;if(Ss()&&t.callbackNode!==r)return null;var n=ia(t,t===We?Ze:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ka(t,n);else{e=n;var s=oe;oe|=2;var i=Ky();(We!==t||Ze!==e)&&(ur=null,Rs=Ne()+500,jn(t,e));do try{j_();break}catch(a){Hy(t,a)}while(!0);hd(),xa.current=i,oe=s,Ve!==null?e=0:(We=null,Ze=0,e=Ue)}if(e!==0){if(e===2&&(s=Du(t),s!==0&&(n=s,e=uc(t,s))),e===1)throw r=Wi,jn(t,0),Mr(t,n),pt(t,Ne()),r;if(e===6)Mr(t,n);else{if(s=t.current.alternate,!(n&30)&&!T_(s)&&(e=ka(t,n),e===2&&(i=Du(t),i!==0&&(n=i,e=uc(t,i))),e===1))throw r=Wi,jn(t,0),Mr(t,n),pt(t,Ne()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(A(345));case 2:mn(t,ct,ur);break;case 3:if(Mr(t,n),(n&130023424)===n&&(e=Cd+500-Ne(),10<e)){if(ia(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ot(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zu(mn.bind(null,t,ct,ur),e);break}mn(t,ct,ur);break;case 4:if(Mr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Zt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E_(n/1960))-n,10<n){t.timeoutHandle=zu(mn.bind(null,t,ct,ur),n);break}mn(t,ct,ur);break;case 5:mn(t,ct,ur);break;default:throw Error(A(329))}}}return pt(t,Ne()),t.callbackNode===r?Wy.bind(null,t):null}function uc(t,e){var r=vi;return t.current.memoizedState.isDehydrated&&(jn(t,e).flags|=256),t=ka(t,e),t!==2&&(e=ct,ct=r,e!==null&&cc(e)),t}function cc(t){ct===null?ct=t:ct.push.apply(ct,t)}function T_(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~Td,e&=~el,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zt(e),n=1<<r;t[r]=-1,e&=~n}}function Cf(t){if(oe&6)throw Error(A(327));Ss();var e=ia(t,0);if(!(e&1))return pt(t,Ne()),null;var r=ka(t,e);if(t.tag!==0&&r===2){var n=Du(t);n!==0&&(e=n,r=uc(t,n))}if(r===1)throw r=Wi,jn(t,0),Mr(t,e),pt(t,Ne()),r;if(r===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mn(t,ct,ur),pt(t,Ne()),null}function jd(t,e){var r=oe;oe|=1;try{return t(e)}finally{oe=r,oe===0&&(Rs=Ne()+500,Ja&&un())}}function Dn(t){Br!==null&&Br.tag===0&&!(oe&6)&&Ss();var e=oe;oe|=1;var r=Dt.transition,n=ce;try{if(Dt.transition=null,ce=1,t)return t()}finally{ce=n,Dt.transition=r,oe=e,!(oe&6)&&un()}}function Pd(){vt=fs.current,_e(fs)}function jn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,r_(r)),Ve!==null)for(r=Ve.return;r!==null;){var n=r;switch(ud(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ca();break;case 3:As(),_e(ht),_e(rt),vd();break;case 5:yd(n);break;case 4:As();break;case 13:_e(Se);break;case 19:_e(Se);break;case 10:fd(n.type._context);break;case 22:case 23:Pd()}r=r.return}if(We=t,Ve=t=Yr(t.current,null),Ze=vt=e,Ue=0,Wi=null,Td=el=In=0,ct=vi=null,kn!==null){for(e=0;e<kn.length;e++)if(r=kn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}kn=null}return t}function Hy(t,e){do{var r=Ve;try{if(hd(),qo.current=wa,va){for(var n=Te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}va=!1}if(On=0,ze=Fe=Te=null,gi=!1,Ui=0,Ed.current=null,r===null||r.return===null){Ue=1,Wi=e,Ve=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=pf(o);if(p!==null){p.flags&=-257,mf(p,o,a,i,e),p.mode&1&&ff(i,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){ff(i,u,e),Ad();break e}l=Error(A(426))}}else if(be&&a.mode&1){var b=pf(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),mf(b,o,a,i,e),cd(Ns(l,a));break e}}i=l=Ns(l,a),Ue!==4&&(Ue=2),vi===null?vi=[i]:vi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=jy(i,l,e);af(i,v);break e;case 1:a=l;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zr===null||!Zr.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Py(i,a,e);af(i,_);break e}}i=i.return}while(i!==null)}Gy(r)}catch(S){e=S,Ve===r&&r!==null&&(Ve=r=r.return);continue}break}while(!0)}function Ky(){var t=xa.current;return xa.current=wa,t===null?wa:t}function Ad(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),We===null||!(In&268435455)&&!(el&268435455)||Mr(We,Ze)}function ka(t,e){var r=oe;oe|=2;var n=Ky();(We!==t||Ze!==e)&&(ur=null,jn(t,e));do try{C_();break}catch(s){Hy(t,s)}while(!0);if(hd(),oe=r,xa.current=n,Ve!==null)throw Error(A(261));return We=null,Ze=0,Ue}function C_(){for(;Ve!==null;)qy(Ve)}function j_(){for(;Ve!==null&&!Xw();)qy(Ve)}function qy(t){var e=Jy(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?Gy(t):Ve=e,Ed.current=null}function Gy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=__(r,e),r!==null){r.flags&=32767,Ve=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Ve=null;return}}else if(r=x_(r,e,vt),r!==null){Ve=r;return}if(e=e.sibling,e!==null){Ve=e;return}Ve=e=t}while(e!==null);Ue===0&&(Ue=5)}function mn(t,e,r){var n=ce,s=Dt.transition;try{Dt.transition=null,ce=1,P_(t,e,r,n)}finally{Dt.transition=s,ce=n}return null}function P_(t,e,r,n){do Ss();while(Br!==null);if(oe&6)throw Error(A(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(ux(t,i),t===We&&(Ve=We=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||No||(No=!0,Yy(sa,function(){return Ss(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Dt.transition,Dt.transition=null;var o=ce;ce=1;var a=oe;oe|=4,Ed.current=null,k_(t,r),By(r,t),Zx(Uu),oa=!!Fu,Uu=Fu=null,t.current=r,S_(r),ex(),oe=a,ce=o,Dt.transition=i}else t.current=r;if(No&&(No=!1,Br=t,ba=s),i=t.pendingLanes,i===0&&(Zr=null),nx(r.stateNode),pt(t,Ne()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(_a)throw _a=!1,t=ac,ac=null,t;return ba&1&&t.tag!==0&&Ss(),i=t.pendingLanes,i&1?t===lc?wi++:(wi=0,lc=t):wi=0,un(),null}function Ss(){if(Br!==null){var t=jg(ba),e=Dt.transition,r=ce;try{if(Dt.transition=null,ce=16>t?16:t,Br===null)var n=!1;else{if(t=Br,Br=null,ba=0,oe&6)throw Error(A(331));var s=oe;for(oe|=4,M=t.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:yi(8,c,i)}var d=c.child;if(d!==null)d.return=c,M=d;else for(;M!==null;){c=M;var h=c.sibling,p=c.return;if($y(c),c===u){M=null;break}if(h!==null){h.return=p,M=h;break}M=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yi(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,M=v;break e}M=i.return}}var m=t.current;for(M=m;M!==null;){o=M;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,M=g;else e:for(o=m;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xa(9,a)}}catch(S){Pe(a,a.return,S)}if(a===o){M=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,M=_;break e}M=a.return}}if(oe=s,un(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Ha,t)}catch{}n=!0}return n}finally{ce=r,Dt.transition=e}}return!1}function jf(t,e,r){e=Ns(r,e),e=jy(t,e,1),t=Gr(t,e,1),e=ot(),t!==null&&(no(t,1,e),pt(t,e))}function Pe(t,e,r){if(t.tag===3)jf(t,t,r);else for(;e!==null;){if(e.tag===3){jf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zr===null||!Zr.has(n))){t=Ns(r,t),t=Py(e,t,1),e=Gr(e,t,1),t=ot(),e!==null&&(no(e,1,t),pt(e,t));break}}e=e.return}}function A_(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&r,We===t&&(Ze&r)===r&&(Ue===4||Ue===3&&(Ze&130023424)===Ze&&500>Ne()-Cd?jn(t,0):Td|=r),pt(t,e)}function Zy(t,e){e===0&&(t.mode&1?(e=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):e=1);var r=ot();t=xr(t,e),t!==null&&(no(t,e,r),pt(t,r))}function N_(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Zy(t,r)}function R_(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(e),Zy(t,r)}var Jy;Jy=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)dt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dt=!1,w_(t,e,r);dt=!!(t.flags&131072)}else dt=!1,be&&e.flags&1048576&&ey(e,fa,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Zo(t,e),t=e.pendingProps;var s=Cs(e,rt.current);ks(e,r),s=xd(null,e,n,t,s,r);var i=_d();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(n)?(i=!0,da(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,md(e),s.updater=Qa,e.stateNode=s,s._reactInternals=e,Ju(e,n,t,r),e=Xu(null,e,n,!0,i,r)):(e.tag=0,be&&i&&ld(e),it(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Zo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=I_(n),t=Bt(n,t),s){case 0:e=Qu(null,e,n,t,r);break e;case 1:e=vf(null,e,n,t,r);break e;case 11:e=gf(null,e,n,t,r);break e;case 14:e=yf(null,e,n,Bt(n.type,t),r);break e}throw Error(A(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Bt(n,s),Qu(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Bt(n,s),vf(t,e,n,s,r);case 3:e:{if(Oy(e),t===null)throw Error(A(387));n=e.pendingProps,i=e.memoizedState,s=i.element,oy(t,e),ga(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ns(Error(A(423)),e),e=wf(t,e,n,r,s);break e}else if(n!==s){s=Ns(Error(A(424)),e),e=wf(t,e,n,r,s);break e}else for(bt=qr(e.stateNode.containerInfo.firstChild),kt=e,be=!0,Kt=null,r=sy(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(js(),n===s){e=_r(t,e,r);break e}it(t,e,n,r)}e=e.child}return e;case 5:return ay(e),t===null&&qu(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bu(n,s)?o=null:i!==null&&Bu(n,i)&&(e.flags|=32),Ry(t,e),it(t,e,o,r),e.child;case 6:return t===null&&qu(e),null;case 13:return Iy(t,e,r);case 4:return gd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ps(e,null,n,r):it(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Bt(n,s),gf(t,e,n,s,r);case 7:return it(t,e,e.pendingProps,r),e.child;case 8:return it(t,e,e.pendingProps.children,r),e.child;case 12:return it(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge(pa,n._currentValue),n._currentValue=o,i!==null)if(Yt(i.value,o)){if(i.children===s.children&&!ht.current){e=_r(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=mr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Gu(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Gu(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}it(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ks(e,r),s=Lt(s),n=n(s),e.flags|=1,it(t,e,n,r),e.child;case 14:return n=e.type,s=Bt(n,e.pendingProps),s=Bt(n.type,s),yf(t,e,n,s,r);case 15:return Ay(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Bt(n,s),Zo(t,e),e.tag=1,ft(n)?(t=!0,da(e)):t=!1,ks(e,r),Cy(e,n,s),Ju(e,n,s,r),Xu(null,e,n,!0,t,r);case 19:return Dy(t,e,r);case 22:return Ny(t,e,r)}throw Error(A(156,e.tag))};function Yy(t,e){return Sg(t,e)}function O_(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,r,n){return new O_(t,e,r,n)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I_(t){if(typeof t=="function")return Nd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jc)return 11;if(t===Yc)return 14}return 2}function Yr(t,e){var r=t.alternate;return r===null?(r=It(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qo(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Nd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ns:return Pn(r.children,s,i,e);case Zc:o=8,s|=8;break;case xu:return t=It(12,r,e,s|2),t.elementType=xu,t.lanes=i,t;case _u:return t=It(13,r,e,s),t.elementType=_u,t.lanes=i,t;case bu:return t=It(19,r,e,s),t.elementType=bu,t.lanes=i,t;case ag:return tl(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ig:o=10;break e;case og:o=9;break e;case Jc:o=11;break e;case Yc:o=14;break e;case Rr:o=16,n=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=It(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Pn(t,e,r,n){return t=It(7,t,n,e),t.lanes=r,t}function tl(t,e,r,n){return t=It(22,t,n,e),t.elementType=ag,t.lanes=r,t.stateNode={isHidden:!1},t}function Hl(t,e,r){return t=It(6,t,null,e),t.lanes=r,t}function Kl(t,e,r){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function D_(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tl(0),this.expirationTimes=Tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rd(t,e,r,n,s,i,o,a,l){return t=new D_(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=It(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},md(i),t}function L_(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Qy(t){if(!t)return tn;t=t._reactInternals;e:{if(Mn(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var r=t.type;if(ft(r))return Qg(t,r,e)}return e}function Xy(t,e,r,n,s,i,o,a,l){return t=Rd(r,n,!0,t,s,i,o,a,l),t.context=Qy(null),r=t.current,n=ot(),s=Jr(r),i=mr(n,s),i.callback=e??null,Gr(r,i,s),t.current.lanes=s,no(t,s,n),pt(t,n),t}function rl(t,e,r,n){var s=e.current,i=ot(),o=Jr(s);return r=Qy(r),e.context===null?e.context=r:e.pendingContext=r,e=mr(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gr(s,e,o),t!==null&&(Jt(t,s,o,i),Ko(t,s,o)),o}function Sa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Od(t,e){Pf(t,e),(t=t.alternate)&&Pf(t,e)}function V_(){return null}var ev=typeof reportError=="function"?reportError:function(t){console.error(t)};function Id(t){this._internalRoot=t}nl.prototype.render=Id.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));rl(t,e,null,null)};nl.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dn(function(){rl(null,t,null,null)}),e[wr]=null}};function nl(t){this._internalRoot=t}nl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ng();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vr.length&&e!==0&&e<Vr[r].priority;r++);Vr.splice(r,0,t),r===0&&Og(t)}};function Dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Af(){}function M_(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Sa(o);i.call(u)}}var o=Xy(e,n,t,0,null,!1,!1,"",Af);return t._reactRootContainer=o,t[wr]=o.current,Li(t.nodeType===8?t.parentNode:t),Dn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Sa(l);a.call(u)}}var l=Rd(t,0,!1,null,null,!1,!1,"",Af);return t._reactRootContainer=l,t[wr]=l.current,Li(t.nodeType===8?t.parentNode:t),Dn(function(){rl(e,l,r,n)}),l}function il(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Sa(o);a.call(l)}}rl(e,o,t,s)}else o=M_(r,e,t,s,n);return Sa(o)}Pg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=oi(e.pendingLanes);r!==0&&(ed(e,r|1),pt(e,Ne()),!(oe&6)&&(Rs=Ne()+500,un()))}break;case 13:Dn(function(){var n=xr(t,1);if(n!==null){var s=ot();Jt(n,t,1,s)}}),Od(t,1)}};td=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var r=ot();Jt(e,t,134217728,r)}Od(t,134217728)}};Ag=function(t){if(t.tag===13){var e=Jr(t),r=xr(t,e);if(r!==null){var n=ot();Jt(r,t,e,n)}Od(t,e)}};Ng=function(){return ce};Rg=function(t,e){var r=ce;try{return ce=t,e()}finally{ce=r}};Ru=function(t,e,r){switch(e){case"input":if(Eu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Za(n);if(!s)throw Error(A(90));ug(n),Eu(n,s)}}}break;case"textarea":dg(t,r);break;case"select":e=r.value,e!=null&&ws(t,!!r.multiple,e,!1)}};vg=jd;wg=Dn;var $_={usingClientEntryPoint:!1,Events:[io,as,Za,gg,yg,jd]},Qs={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F_={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bg(t),t===null?null:t.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||V_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Ha=Ro.inject(F_),rr=Ro}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$_;Ct.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dd(e))throw Error(A(200));return L_(t,e,null,r)};Ct.createRoot=function(t,e){if(!Dd(t))throw Error(A(299));var r=!1,n="",s=ev;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Rd(t,1,!1,null,null,r,!1,n,s),t[wr]=e.current,Li(t.nodeType===8?t.parentNode:t),new Id(e)};Ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=bg(e),t=t===null?null:t.stateNode,t};Ct.flushSync=function(t){return Dn(t)};Ct.hydrate=function(t,e,r){if(!sl(e))throw Error(A(200));return il(null,t,e,!0,r)};Ct.hydrateRoot=function(t,e,r){if(!Dd(t))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ev;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Xy(e,null,t,1,r??null,s,!1,i,o),t[wr]=e.current,Li(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new nl(e)};Ct.render=function(t,e,r){if(!sl(e))throw Error(A(200));return il(null,t,e,!1,r)};Ct.unmountComponentAtNode=function(t){if(!sl(t))throw Error(A(40));return t._reactRootContainer?(Dn(function(){il(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};Ct.unstable_batchedUpdates=jd;Ct.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!sl(r))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return il(t,e,r,!1,n)};Ct.version="18.3.1-next-f1338f8080-20240426";function tv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tv)}catch(t){console.error(t)}}tv(),tg.exports=Ct;var U_=tg.exports,Nf=U_;vu.createRoot=Nf.createRoot,vu.hydrateRoot=Nf.hydrateRoot;const B_={},Rf=t=>{let e;const r=new Set,n=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(y=>y(e,p))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(B_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,s,l);return l},z_=t=>t?Rf(t):Rf;var rv={exports:{}},nv={},sv={exports:{}},iv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=P;function W_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var H_=typeof Object.is=="function"?Object.is:W_,K_=Os.useState,q_=Os.useEffect,G_=Os.useLayoutEffect,Z_=Os.useDebugValue;function J_(t,e){var r=e(),n=K_({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return G_(function(){s.value=r,s.getSnapshot=e,ql(s)&&i({inst:s})},[t,r,e]),q_(function(){return ql(s)&&i({inst:s}),t(function(){ql(s)&&i({inst:s})})},[t]),Z_(r),r}function ql(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!H_(t,r)}catch{return!0}}function Y_(t,e){return e()}var Q_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Y_:J_;iv.useSyncExternalStore=Os.useSyncExternalStore!==void 0?Os.useSyncExternalStore:Q_;sv.exports=iv;var X_=sv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=P,eb=X_;function tb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rb=typeof Object.is=="function"?Object.is:tb,nb=eb.useSyncExternalStore,sb=ol.useRef,ib=ol.useEffect,ob=ol.useMemo,ab=ol.useDebugValue;nv.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=sb(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ob(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),s!==void 0&&o.hasValue){var y=o.value;if(s(y,p))return d=y}return d=p}if(y=d,rb(c,p))return y;var w=n(p);return s!==void 0&&s(y,w)?(c=p,y):(c=p,d=w)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,s]);var a=nb(t,i[0],i[1]);return ib(function(){o.hasValue=!0,o.value=a},[a]),ab(a),a};rv.exports=nv;var lb=rv.exports;const ub=zm(lb),ov={},{useDebugValue:cb}=Ge,{useSyncExternalStoreWithSelector:db}=ub;let Of=!1;const hb=t=>t;function fb(t,e=hb,r){(ov?"production":void 0)!=="production"&&r&&!Of&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Of=!0);const n=db(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return cb(n),n}const If=t=>{(ov?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?z_(t):t,r=(n,s)=>fb(e,n,s);return Object.assign(r,e),r},pb=t=>t?If(t):If,Df={sex:"male",age:42,heightFeet:5,heightInches:11,weight:215,lifestyle:"1.2",exercise:"0.1",goal:"lose",deficit:25,diet:"carnivore",ratio:"75-25",email:"michael.reynolds@example.com",firstName:"Michael",medications:"Metformin 500mg twice daily, Lisinopril 10mg for blood pressure",conditions:["diabetes","guthealth","inflammation"],allergies:"Shellfish (anaphylaxis), tree nuts",avoidFoods:"Pork (causes bloating and GI distress), chicken thighs (inflammatory response), dairy except butter, seed oils, vegetable oils, peanuts, legumes",previousDiets:'Standard American diet for 20 years (caused prediabetes and chronic inflammation). Tried low-fat diet 2012-2015 (made energy worse). Did keto for 14 months (great results but fell off). Recently did "healthy whole grains" nonsense for 2 years (blood sugar went out of control, gained 40lbs, severe brain fog and joint pain).',carnivoreExperience:"months",selectedProtocol:"carnivore",goals:["weightloss","mental","guthealth"],additionalNotes:"Serious about this time. Have young kids and want to be around to see them grow up. Already seeing family members go through health decline. Mostly want beef (ribeye, ground beef), some salmon and halibut. Open to organ meats (liver is fine). Cannot do pork or chicken. Want simple protocols, no complicated supplements. Have GI issues from years of sugar and processed foods - need gentle transition plan. Blood sugar readings have been 180-220 fasting. Doctor says pre-diabetic but I know I can reverse this with proper diet."},Er=pb(t=>({form:Df,macros:null,currentStep:1,units:"imperial",isPremium:!1,sessionToken:null,setFormField:(e,r)=>t(n=>({form:{...n.form,[e]:r}})),setMacros:e=>t({macros:e}),setCurrentStep:e=>t({currentStep:e}),setUnits:e=>t({units:e}),setIsPremium:e=>t({isPremium:e}),setSessionToken:e=>t({sessionToken:e}),setForm:e=>t(r=>({form:{...r.form,...e}})),resetForm:()=>t({form:Df,currentStep:1,macros:null})}));function al(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function mb(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}const gb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ld extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class yb extends Ld{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Lf extends Ld{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vf extends Ld{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dc||(dc={}));class vb{constructor(e,{headers:r={},customFetch:n,region:s=dc.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=gb(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return mb(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let b=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(b=o.signal,c.addEventListener("abort",()=>o.abort())):b=o.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:b}).catch(S=>{throw new yb(S)}),m=v.headers.get("x-relay-error");if(m&&m==="true")throw new Lf(v);if(!v.ok)throw new Vf(v);let g=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield v.json():g==="application/octet-stream"||g==="application/pdf"?_=yield v.blob():g==="text/event-stream"?_=v:g==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof Vf||a instanceof Lf?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var wb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},xb=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var p;const v=await i.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=v:a=JSON.parse(v))}const w=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&b&&b.length>1&&(l=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var y;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new wb(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,d,h;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${y}`,w&&(a+=` (${w})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},_b=class extends xb{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Mf=new RegExp("[,()]");var Yn=class extends _b{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Mf.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Mf.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},bb=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Yn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new Yn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Yn({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Yn({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},kb=class av{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new bb(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new av(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",u=r);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new Yn({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Sb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Eb="2.89.0",Tb=`realtime-js/${Eb}`,lv="1.0.0",Cb="2.0.0",$f=lv,hc=1e4,jb=1e3,Pb=100;var Ir;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ir||(Ir={}));var $e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})($e||($e={}));var Ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ht||(Ht={}));var fc;(function(t){t.websocket="websocket"})(fc||(fc={}));var xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xn||(xn={}));class Ab{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,a.length),y.setUint8(w++,o.length),y.setUint8(w++,u.length),y.setUint8(w++,d.length),y.setUint8(w++,r),Array.from(l,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(a,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(o,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(d,v=>y.setUint8(w++,v.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class uv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(me||(me={}));const Ff=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Nb(o,t,e,s),i),{}):{}},Nb=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?cv(i,o):pc(o)},cv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Db(e,r)}switch(t){case me.bool:return Rb(e);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return Ob(e);case me.json:case me.jsonb:return Ib(e);case me.timestamp:return Lb(e);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return pc(e);default:return pc(e)}},pc=t=>t,Rb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ob=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ib=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Db=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>cv(e,a))}return t},Lb=t=>typeof t=="string"?t.replace(" ","T"):t,dv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Gl{constructor(e,r,n={},s=hc){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Uf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Uf||(Uf={}));class xi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=xi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),y=c.filter(b=>p.indexOf(b.presence_ref)<0),w=d.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bf||(Bf={}));var _i;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_i||(_i={}));var cr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));class ps{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gl(this,Ht.join,this.params,this.timeout),this.rejoinTimer=new uv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ht.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new xi(this),this.broadcastEndpointURL=dv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[_i.PRESENCE]&&this.bindings[_i.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(cr.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(cr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(cr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,v=[];for(let m=0;m<b;m++){const g=w[m],{filter:{event:_,schema:S,table:T,filter:C}}=g,j=p&&p[m];if(j&&j.event===_&&ps.isFilterValueEqual(j.schema,S)&&ps.isFilterValueEqual(j.table,T)&&ps.isFilterValueEqual(j.filter,C))v.push(Object.assign(Object.assign({},g),{id:j.id}));else{this.unsubscribe(),this.state=$e.errored,e==null||e(cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(cr.SUBSCRIBED);return}}).receive("error",p=>{this.state=$e.errored,e==null||e(cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===$e.joined&&e===_i.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ht.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Gl(this,Ht.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$e.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gl(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Pb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ht;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,w,b;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=p.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,w,b,v,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(m=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:b,commit_timestamp:v,type:m,errors:g}=y;h=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:v,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ps.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ht.close,{},e)}_onError(e){this._on(Ht.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ff(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ff(e.columns,e.old_record)),r}}const Zl=()=>{},Oo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vb=[1e3,2e3,5e3,1e4],Mb=1e4,$b=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fb{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hc,this.transport=null,this.heartbeatIntervalMs=Oo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zl,this.ref=0,this.reconnectTimer=null,this.vsn=$f,this.logger=Zl,this.conn=null,this.sendBuffer=[],this.serializer=new Ab,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${fc.websocket}`,this.httpEndpoint=dv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return xn.Connecting;case Ir.open:return xn.Open;case Ir.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ps(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(jb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Oo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ir.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ir.open||this.conn.readyState===Ir.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ht.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([$b],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Tb};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Ht.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new uv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Oo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,d,h,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:hc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Oo.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Zl,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:$f,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>Vb[y-1]||Mb,this.vsn){case lv:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(y,w)=>w(JSON.parse(y));break;case Cb:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Hi=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ub(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Bb(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function zb(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=Ub(t.baseUrl,n,s),l=await Bb(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const p=d?h:void 0,y=p==null?void 0:p.error;throw new Hi((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Io(t){return t.join("")}var Wb=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Io(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Io(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Io(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Io(t.namespace)}`}),!0}catch(e){if(e instanceof Hi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Hi&&r.status===409)return;throw r}}};function zn(t){return t.join("")}var Hb=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Hi&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Hi&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Kb=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=zb({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Wb(this.client,e),this.tableOps=new Hb(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ll=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var qb=class extends ll{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},mc=class extends ll{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Vd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Gb=()=>Response,gc=t=>{if(Array.isArray(t))return t.map(r=>gc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=gc(n)}),e},Zb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jb=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ki(t){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(t)}function Yb(t,e){if(Ki(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qb(t){var e=Yb(t,"string");return Ki(e)=="symbol"?e:e+""}function Xb(t,e,r){return(e=Qb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zf(Object(r),!0).forEach(function(n){Xb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Jl=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ek=async(t,e,r)=>{t instanceof await Gb()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new qb(Jl(n),s,i))}).catch(n=>{e(new mc(Jl(n),n))}):e(new mc(Jl(t),t))},tk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Zb(n)?(s.headers=J({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),J(J({},s),r))};async function ao(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,tk(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ek(l,a,n))})}async function qi(t,e,r,n){return ao(t,"GET",e,r,n)}async function zt(t,e,r,n,s){return ao(t,"POST",e,n,s,r)}async function yc(t,e,r,n,s){return ao(t,"PUT",e,n,s,r)}async function rk(t,e,r,n){return ao(t,"HEAD",e,J(J({},r),{},{noResolveJson:!0}),n)}async function Md(t,e,r,n,s){return ao(t,"DELETE",e,n,s,r)}var nk=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ke(e))return{data:null,error:e};throw e}}};let hv;hv=Symbol.toStringTag;var sk=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[hv]="BlobDownloadBuilder",this.promise=null}asStream(){return new nk(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ke(e))return{data:null,error:e};throw e}}};const ik={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ok=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Vd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const o=J(J({},Wf),n);let a=J(J({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=J(J({},a),n.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),d=await(t=="PUT"?yc:zt)(s.fetch,`${s.url}/object/${c}`,i,J({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=J({upsert:Wf.upsert},n),c=J(J({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await yc(s.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=J({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await zt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new ll("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await zt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await zt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await zt(n.fetch,`${n.url}/object/sign/${s}`,J({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await zt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>J(J({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>qi(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new sk(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:gc(await qi(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await rk(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ke(n)&&n instanceof mc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await Md(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=J(J(J({},ik),e),{},{prefix:t||""});return{data:await zt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=J({},t);return{data:await zt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const fv="2.89.0",pv={"X-Client-Info":`storage-js/${fv}`};var ak=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=J(J({},pv),e),this.fetch=Vd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await qi(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await qi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await zt(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await yc(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await zt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Md(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},lk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},pv),e),this.fetch=Vd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await zt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await qi(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Md(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!Jb(t))throw new ll("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Kb({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const $d={"X-Client-Info":`storage-js/${fv}`,"Content-Type":"application/json"};var mv=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function wt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Yl=class extends mv{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uk=class extends mv{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Fd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ck=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dk=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new Yl(Hf(i),n,o))}).catch(()=>{const i=n+"";e(new Yl(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new Yl(s.statusText||`HTTP ${n} error`,n,i))}}else e(new uk(Hf(t),t))},hk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(ck(n)?(s.headers=J({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,J(J({},s),r)):s};async function fk(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,hk(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>dk(l,a,n))})}async function xt(t,e,r,n,s){return fk(t,"POST",e,n,s,r)}var pk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},$d),e),this.fetch=Fd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await xt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await xt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await xt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await xt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}},mk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},$d),e),this.fetch=Fd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await xt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await xt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await xt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await xt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await xt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}},gk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},$d),e),this.fetch=Fd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await xt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await xt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await xt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await xt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}},yk=class extends gk{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new vk(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},vk=class extends pk{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new wk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},wk=class extends mk{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},xk=class extends ak{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new ok(this.url,this.headers,t,this.fetch)}get vectors(){return new yk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lk(this.url+"/iceberg",this.headers,this.fetch)}};const gv="2.89.0",Qn=30*1e3,vc=3,Ql=vc*Qn,_k="http://localhost:9999",bk="supabase.auth.token",kk={"X-Client-Info":`gotrue-js/${gv}`},wc="X-Supabase-Api-Version",yv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ek=10*60*1e3;class Gi extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Tk extends Gi{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ck(t){return z(t)&&t.name==="AuthApiError"}class _n extends Gi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Tr extends Gi{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class yt extends Tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jk(t){return z(t)&&t.name==="AuthSessionMissingError"}class Wn extends Tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Do extends Tr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Lo extends Tr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pk(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class Kf extends Tr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ak extends Tr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class xc extends Tr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Xl(t){return z(t)&&t.name==="AuthRetryableFetchError"}class qf extends Tr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class _c extends Tr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gf=` 	
\r=`.split(""),Nk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gf.length;e+=1)t[Gf[e].charCodeAt(0)]=-2;for(let e=0;e<Ea.length;e+=1)t[Ea[e].charCodeAt(0)]=e;return t})();function Zf(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ea[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ea[n]),e.queuedBits-=6}}function vv(t,e,r){const n=Nk[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Jf(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Ik(o,n,r)};for(let o=0;o<t.length;o+=1)vv(t.charCodeAt(o),s,i);return e.join("")}function Rk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ok(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Rk(n,e)}}function Ik(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Es(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)vv(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Dk(t){const e=[];return Ok(t,r=>e.push(r)),new Uint8Array(e)}function En(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Zf(s,r,n)),Zf(null,r,n),e.join("")}function Lk(t){return Math.round(Date.now()/1e3)+t}function Vk(){return Symbol("auth-callback")}const Ke=()=>typeof window<"u"&&typeof document<"u",dn={tested:!1,writable:!1},wv=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dn.tested)return dn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dn.tested=!0,dn.writable=!0}catch{dn.tested=!0,dn.writable=!1}return dn.writable};function Mk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const xv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$k=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},hn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},He=async(t,e)=>{await t.removeItem(e)};class ul{constructor(){this.promise=new ul.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ul.promiseConstructor=Promise;function eu(t){const e=t.split(".");if(e.length!==3)throw new _c("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Sk.test(e[n]))throw new _c("JWT not in base64url format");return{header:JSON.parse(Jf(e[0])),payload:JSON.parse(Jf(e[1])),signature:Es(e[2]),raw:{header:e[0],payload:e[1]}}}async function Fk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Uk(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Bk(t){return("0"+t.toString(16)).substr(-2)}function zk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Bk).join("")}async function Wk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Hk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Wk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hn(t,e,r=!1){const n=zk();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xn(t,`${e}-code-verifier`,s);const i=await Hk(n);return[i,n===i?"plain":"s256"]}const Kk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qk(t){const e=t.headers.get(wc);if(!e||!e.match(Kk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Gk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kn(t){if(!Jk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tu(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yk(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Yf(t){return JSON.parse(JSON.stringify(t))}const gn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qk=[502,503,504];async function Qf(t){var e;if(!$k(t))throw new xc(gn(t),0);if(Qk.includes(t.status))throw new xc(gn(t),t.status);let r;try{r=await t.json()}catch(i){throw new _n(gn(i),i)}let n;const s=qk(t);if(s&&s.getTime()>=yv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qf(gn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new yt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qf(gn(r),t.status,r.weak_password.reasons);throw new Tk(gn(r),t.status||500,n)}const Xk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Z(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[wc]||(i[wc]=yv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await eS(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function eS(t,e,r,n,s,i){const o=Xk(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new xc(gn(l),0)}if(a.ok||await Qf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Qf(l)}}function Ut(t){var e;let r=null;nS(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Lk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Xf(t){const e=Ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $r(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tS(t){return{data:t,error:null}}function rS(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=al(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ep(t){return t}function nS(t){return t.access_token&&t.refresh_token&&t.expires_in}const ru=["global","local","others"];class sS{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=xv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ru[0]){if(ru.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ru.join(", ")}`);try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$r})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=al(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$r})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ep});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Kn(e);try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$r})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Kn(e);try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$r})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Kn(e);try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$r})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Kn(e.userId);try{const{data:r,error:n}=await Z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Kn(e.userId),Kn(e.id);try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ep});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}}function tp(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const qn={debug:!!(globalThis&&wv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _v extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class iS extends _v{}async function oS(t,e,r){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new iS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(qn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function aS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function lS(t){return parseInt(t,16)}function uS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function cS(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=bv(t.address),y=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${p}

${w}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}v+=m}return`${b}
${v}`}class De extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ta extends De{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function dS({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new De({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new De({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new De({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new De({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new De({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new De({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new De({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new De({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(kv(o)){if(i.rp.id!==o)return new De({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new De({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new De({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new De({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(kv(n)){if(r.rpId!==n)return new De({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class fS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const pS=new fS;function mS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=al(t,["challenge","user","excludeCredentials"]),i=Es(e).buffer,o=Object.assign(Object.assign({},r),{id:Es(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Es(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function gS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=al(t,["challenge","allowCredentials"]),s=Es(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Es(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function yS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:En(new Uint8Array(t.response.attestationObject)),clientDataJSON:En(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:En(new Uint8Array(s.authenticatorData)),clientDataJSON:En(new Uint8Array(s.clientDataJSON)),signature:En(new Uint8Array(s.signature)),userHandle:s.userHandle?En(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function rp(){var t,e;return!!(Ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function wS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:dS({error:e,options:t})}}}async function xS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:hS({error:e,options:t})}}}const _S={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},bS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ca(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Ca(a,o):n[i]=Ca(o)}else n[i]=o}return n}function kS(t,e){return Ca(_S,t,e||{})}function SS(t,e){return Ca(bS,t,e||{})}class ES{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??pS.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=kS(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await wS({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=SS(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await xS(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new _n("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Gi("rpId is required for WebAuthn authentication")};try{if(!rp())return{data:null,error:new _n("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new _n("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Gi("rpId is required for WebAuthn registration")};try{if(!rp())return{data:null,error:new _n("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new _n("Unexpected error in register",o)}}}}aS();const TS={url:_k,storageKey:bk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function np(t,e,r){return await r()}const Gn={};class Zi{get jwks(){var e,r;return(r=(e=Gn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Gn[this.storageKey]=Object.assign(Object.assign({},Gn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Gn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gn[this.storageKey]=Object.assign(Object.assign({},Gn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},TS),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Zi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Zi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ke()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sS({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xv(i.fetch),this.lock=i.lock||np,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=oS:this.lock=np,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ES(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=tp(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ke()&&(r=Mk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Pk(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?this._returnResult({error:r}):this._returnResult({error:new _n("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ut}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Hn(this.storage,this.storageKey)),i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Ut})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ut})}else throw new Do("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await He(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await He(this.storage,`${this.storageKey}-code-verifier`),z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xf})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xf})}else throw new Do("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Wn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,d,h;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:w,wallet:b,statement:v,options:m}=e;let g;if(Ke())if(typeof b=="object")g=b;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")g=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=b}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await g.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=bv(S[0]);let C=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const L=await g.request({method:"eth_chainId"});C=lS(L)}const j={domain:_.host,address:T,statement:v,uri:_.href,version:"1",chainId:C,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=cS(j),y=await g.request({method:"personal_sign",params:[uS(p),T]})}try{const{data:w,error:b}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ut});if(b)throw b;if(!w||!w.session||!w.user){const v=new Wn;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(z(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,d,h,p;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:b,wallet:v,statement:m,options:g}=e;let _;if(Ke())if(typeof v=="object")_=v;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))_=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const S=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const T=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let C;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")C=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)C=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const T=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=T}}try{const{data:b,error:v}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:En(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ut});if(v)throw v;if(!b||!b.session||!b.user){const m=new Wn;return this._returnResult({data:{user:null,session:null},error:m})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(z(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await hn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Ak;const{data:i,error:o}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ut});if(await He(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Wn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await He(this.storage,`${this.storageKey}-code-verifier`),z(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ut}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Wn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Hn(this.storage,this.storageKey));const{error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Do("You must provide either an email or phone number.")}catch(a){if(await He(this.storage,`${this.storageKey}-code-verifier`),z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ut});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Hn(this.storage,this.storageKey));const u=await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:tS});return!((i=u.data)===null||i===void 0)&&i.url&&Ke()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await He(this.storage,`${this.storageKey}-code-verifier`),z(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new yt;const{error:s}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(z(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Do("You must provide either an email or phone number and a type")}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ql:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await hn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=tu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Yk(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$r}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yt}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$r})})}catch(r){if(z(r))return jk(r)&&(await this._removeSession(),await He(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new yt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Hn(this.storage,this.storageKey));const{data:u,error:c}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:$r});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await He(this.storage,`${this.storageKey}-code-verifier`),z(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=eu(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(z(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new yt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ke())throw new Lo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Kf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Kf("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Lo("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const p=h-c;p*1e3<=Qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(n){if(z(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await hn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Ck(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await He(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Vk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Hn(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await He(this.storage,`${this.storageKey}-code-verifier`),z(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ke()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(z(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ut}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Wn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await He(this.storage,`${this.storageKey}-code-verifier`),z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Uk(async s=>(s>0&&await Fk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ut})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Xl(i)&&Date.now()+o-n<Qn})}catch(n){if(this._debug(r,"error",n),z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await hn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await hn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Xn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:tu()}else if(s&&!s.user&&!s.user){const o=await hn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await He(this.storage,this.storageKey+"-user"),await Xn(this.storage,this.storageKey,s)):s.user=tu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ql;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ql}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Xl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ul;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),z(i)){const o={data:null,error:i};return Xl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await He(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Yf(s);await Xn(this.storage,this.storageKey,i)}else{const s=Yf(r);await Xn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await He(this.storage,this.storageKey),await He(this.storage,this.storageKey+"-code-verifier"),await He(this.storage,this.storageKey+"-user"),this.userStorage&&await He(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qn}ms, refresh threshold is ${vc} ticks`),s<=vc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _v)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?yS(e.webauthn.credential_response):vS(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:mS(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:gS(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=eu(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Z(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new yt})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new yt});const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ke()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new yt});const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ke()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new yt})})}catch(e){if(z(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yt})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Ek>s)return n;const{data:i,error:o}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=eu(n);r!=null&&r.allowExpired||Gk(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=Zk(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Dk(`${a}.${l}`)))throw new _c("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}}Zi.nextInstanceID={};const CS=Zi,jS="2.89.0";let li="";typeof Deno<"u"?li="deno":typeof document<"u"?li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?li="react-native":li="node";const PS={"X-Client-Info":`supabase-js-${li}/${jS}`},AS={headers:PS},NS={schema:"public"},RS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OS={};function Ji(t){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ji(t)}function IS(t,e){if(Ji(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DS(t){var e=IS(t,"string");return Ji(e)=="symbol"?e:e+""}function LS(t,e,r){return(e=DS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sp(Object(r),!0).forEach(function(n){LS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const VS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MS=()=>Headers,$S=(t,e,r)=>{const n=VS(r),s=MS();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,je(je({},o),{},{headers:u}))}};function FS(t){return t.endsWith("/")?t:t+"/"}function US(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:je(je({},l),s),auth:je(je({},u),i),realtime:je(je({},c),o),storage:{},global:je(je(je({},d),a),{},{headers:je(je({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function BS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(FS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zS=class extends CS{constructor(t){super(t)}},WS=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=BS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:NS,realtime:OS,auth:je(je({},RS),{},{storageKey:o}),global:AS},l=US(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=$S(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new kb(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new xk(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new vb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zS({url:this.authUrl.href,headers:je(je({},h),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Fb(this.realtimeUrl.href,je(je({},t),{},{params:je(je({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const HS=(t,e,r)=>new WS(t,e,r);function KS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qS="https://kwtdpvnjewtahuxjyltn.supabase.co",GS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3dGRwdm5qZXd0YWh1eGp5bHRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQxNjA2NDMsImV4cCI6MTg5MTkyNzI0M30.rWArRuIUh-OGKTGLXx-5nZS8W1K03cG3X-M2RQRR-lg",ja=HS(qS,GS),ip="cw_session",op="cw_session";function ZS(t=32){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";const n=new Uint8Array(t);crypto.getRandomValues(n);for(let s=0;s<t;s++)r+=e[n[s]%e.length];return r}function JS(t,e,r){const n=new Date;n.setTime(n.getTime()+r*60*60*1e3),document.cookie=t+"="+e+";expires="+n.toUTCString()+";path=/;SameSite=Strict"}function YS(t){const e=t+"=",r=document.cookie.split(";");for(const n of r){const s=n.trim();if(s.startsWith(e))return s.substring(e.length)}return null}async function QS(){const t=YS(ip)||localStorage.getItem(op);if(t){const{data:n}=await ja.from("user_sessions").select("*").eq("session_token",t).gte("last_active_at",new Date(Date.now()-1728e5).toISOString()).single();if(n)return n}const e=ZS(32),{data:r}=await ja.from("user_sessions").insert({session_token:e,last_active_at:new Date().toISOString()}).select().single();return JS(ip,e,48),localStorage.setItem(op,e),r}async function XS(t,e){await ja.from("user_sessions").update({last_active_at:new Date().toISOString(),...e&&{form_state:e}}).eq("session_token",t)}function eE(){return window.__CLOUDFLARE_CF_COUNTRY||"US"}function Sv(t,e,r,n){return t==="male"?10*r+6.25*n-5*e+5:10*r+6.25*n-5*e-161}function Ev(t,e,r){return t*(e+r)}function tE(t,e,r,n,s,i,o){let a=t;e==="lose"?a=t*(1-r/100):e==="gain"&&(a=t*(1+r/100));let l=0,u=0,c=0;if(n==="carnivore"){const[d,h]=(s||"70-30").split("-").map(w=>parseInt(w)/100),p=a*d,y=a*h;u=Math.round(p/9),l=Math.round(y/4),c=0}else l=Math.round(a*.25/4),u=Math.round(a*.65/9),c=typeof o=="string"?parseFloat(o):o||20;return{calories:Math.round(a),protein:l,fat:u,carbs:c,tdee:Math.round(t)}}function Tv(t,e){return Math.round((t*12+e)*2.54)}function rE(t){const e=["US","LR","MM"],r=t;return e.includes(r)?"imperial":"metric"}const Cv=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),cl=P.createContext({}),dl=P.createContext(null),hl=typeof document<"u",Ud=hl?P.useLayoutEffect:P.useEffect,jv=P.createContext({strict:!1}),Bd=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),nE="framerAppearId",Pv="data-"+Bd(nE);function sE(t,e,r,n){const{visualElement:s}=P.useContext(cl),i=P.useContext(jv),o=P.useContext(dl),a=P.useContext(Cv).reducedMotion,l=P.useRef();n=n||i.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;P.useInsertionEffect(()=>{u&&u.update(r,o)});const c=P.useRef(!!(r[Pv]&&!window.HandoffComplete));return Ud(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),P.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function ms(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iE(t,e,r){return P.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):ms(r)&&(r.current=n))},[e])}function Yi(t){return typeof t=="string"||Array.isArray(t)}function fl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const zd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wd=["initial",...zd];function pl(t){return fl(t.animate)||Wd.some(e=>Yi(t[e]))}function Av(t){return!!(pl(t)||t.variants)}function oE(t,e){if(pl(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Yi(r)?r:void 0,animate:Yi(n)?n:void 0}}return t.inherit!==!1?e:{}}function aE(t){const{initial:e,animate:r}=oE(t,P.useContext(cl));return P.useMemo(()=>({initial:e,animate:r}),[ap(e),ap(r)])}function ap(t){return Array.isArray(t)?t.join(" "):t}const lp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qi={};for(const t in lp)Qi[t]={isEnabled:e=>lp[t].some(r=>!!e[r])};function lE(t){for(const e in t)Qi[e]={...Qi[e],...t[e]}}const Hd=P.createContext({}),Nv=P.createContext({}),uE=Symbol.for("motionComponentSymbol");function cE({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&lE(t);function i(a,l){let u;const c={...P.useContext(Cv),...a,layoutId:dE(a)},{isStatic:d}=c,h=aE(a),p=n(a,d);if(!d&&hl){h.visualElement=sE(s,p,c,e);const y=P.useContext(Nv),w=P.useContext(jv).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,w,t,y))}return P.createElement(cl.Provider,{value:h},u&&h.visualElement?P.createElement(u,{visualElement:h.visualElement,...c}):null,r(s,a,iE(p,h.visualElement,l),p,d,h.visualElement))}const o=P.forwardRef(i);return o[uE]=s,o}function dE({layoutId:t}){const e=P.useContext(Hd).id;return e&&t!==void 0?e+"-"+t:t}function hE(t){function e(n,s={}){return cE(t(n,s))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,s)=>(r.has(s)||r.set(s,e(s)),r.get(s))})}const fE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kd(t){return typeof t!="string"||t.includes("-")?!1:!!(fE.indexOf(t)>-1||/[A-Z]/.test(t))}const Pa={};function pE(t){Object.assign(Pa,t)}const lo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$n=new Set(lo);function Rv(t,{layout:e,layoutId:r}){return $n.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Pa[t]||t==="opacity")}const mt=t=>!!(t&&t.getVelocity),mE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gE=lo.length;function yE(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<gE;o++){const a=lo[o];if(t[a]!==void 0){const l=mE[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,n?"":i):r&&n&&(i="none"),i}const Ov=t=>e=>typeof e=="string"&&e.startsWith(t),Iv=Ov("--"),bc=Ov("var(--"),vE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,wE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,rn=(t,e,r)=>Math.min(Math.max(r,t),e),Fn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bi={...Fn,transform:t=>rn(0,1,t)},Vo={...Fn,default:1},ki=t=>Math.round(t*1e5)/1e5,ml=/(-)?([\d]*\.?[\d])+/g,Dv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,xE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function uo(t){return typeof t=="string"}const co=t=>({test:e=>uo(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nr=co("deg"),sr=co("%"),Y=co("px"),_E=co("vh"),bE=co("vw"),up={...sr,parse:t=>sr.parse(t)/100,transform:t=>sr.transform(t*100)},cp={...Fn,transform:Math.round},Lv={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,size:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,rotate:Nr,rotateX:Nr,rotateY:Nr,rotateZ:Nr,scale:Vo,scaleX:Vo,scaleY:Vo,scaleZ:Vo,skew:Nr,skewX:Nr,skewY:Nr,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:bi,originX:up,originY:up,originZ:Y,zIndex:cp,fillOpacity:bi,strokeOpacity:bi,numOctaves:cp};function qd(t,e,r,n){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const d in e){const h=e[d];if(Iv(d)){i[d]=h;continue}const p=Lv[d],y=wE(h,p);if($n.has(d)){if(l=!0,o[d]=y,!c)continue;h!==(p.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=y):s[d]=y}if(e.transform||(l||n?s.transform=yE(t.transform,r,c,n):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;s.transformOrigin=`${d} ${h} ${p}`}}const Gd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vv(t,e,r){for(const n in e)!mt(e[n])&&!Rv(n,r)&&(t[n]=e[n])}function kE({transformTemplate:t},e,r){return P.useMemo(()=>{const n=Gd();return qd(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function SE(t,e,r){const n=t.style||{},s={};return Vv(s,n,t),Object.assign(s,kE(t,e,r)),t.transformValues?t.transformValues(s):s}function EE(t,e,r){const n={},s=SE(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const TE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Aa(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TE.has(t)}let Mv=t=>!Aa(t);function CE(t){t&&(Mv=e=>e.startsWith("on")?!Aa(e):t(e))}try{CE(require("@emotion/is-prop-valid").default)}catch{}function jE(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(Mv(s)||r===!0&&Aa(s)||!e&&!Aa(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function dp(t,e,r){return typeof t=="string"?t:Y.transform(e+r*t)}function PE(t,e,r){const n=dp(e,t.x,t.width),s=dp(r,t.y,t.height);return`${n} ${s}`}const AE={offset:"stroke-dashoffset",array:"stroke-dasharray"},NE={offset:"strokeDashoffset",array:"strokeDasharray"};function RE(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?AE:NE;t[i.offset]=Y.transform(-n);const o=Y.transform(e),a=Y.transform(r);t[i.array]=`${o} ${a}`}function Zd(t,{attrX:e,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,h){if(qd(t,u,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:w}=t;p.transform&&(w&&(y.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=PE(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&RE(p,o,a,l,!1)}const $v=()=>({...Gd(),attrs:{}}),Jd=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OE(t,e,r,n){const s=P.useMemo(()=>{const i=$v();return Zd(i,e,{enableHardwareAcceleration:!1},Jd(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Vv(i,t.style,t),s.style={...i,...s.style}}return s}function IE(t=!1){return(r,n,s,{latestValues:i},o)=>{const l=(Kd(r)?OE:EE)(n,i,o,r),c={...jE(n,typeof r=="string",t),...l,ref:s},{children:d}=n,h=P.useMemo(()=>mt(d)?d.get():d,[d]);return P.createElement(r,{...c,children:h})}}function Fv(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const Uv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bv(t,e,r,n){Fv(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(Uv.has(s)?s:Bd(s),e.attrs[s])}function Yd(t,e){const{style:r}=t,n={};for(const s in r)(mt(r[s])||e.style&&mt(e.style[s])||Rv(s,t))&&(n[s]=r[s]);return n}function zv(t,e){const r=Yd(t,e);for(const n in t)if(mt(t[n])||mt(e[n])){const s=lo.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=t[n]}return r}function Qd(t,e,r,n={},s={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,s)),e}function Wv(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Na=t=>Array.isArray(t),DE=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),LE=t=>Na(t)?t[t.length-1]||0:t;function Xo(t){const e=mt(t)?t.get():t;return DE(e)?e.toValue():e}function VE({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,s,i){const o={latestValues:ME(n,s,i,t),renderState:e()};return r&&(o.mount=a=>r(n,a,o)),o}const Hv=t=>(e,r)=>{const n=P.useContext(cl),s=P.useContext(dl),i=()=>VE(t,e,n,s);return r?i():Wv(i)};function ME(t,e,r,n){const s={},i=n(t,{});for(const h in i)s[h]=Xo(i[h]);let{initial:o,animate:a}=t;const l=pl(t),u=Av(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=r?r.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!fl(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const y=Qd(t,p);if(!y)return;const{transitionEnd:w,transition:b,...v}=y;for(const m in v){let g=v[m];if(Array.isArray(g)){const _=c?g.length-1:0;g=g[_]}g!==null&&(s[m]=g)}for(const m in w)s[m]=w[m]}),s}const Re=t=>t;class hp{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function $E(t){let e=new hp,r=new hp,n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&s,h=d?e:r;return u&&o.add(l),h.add(l)&&d&&s&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const Mo=["prepare","read","update","preRender","render","postRender"],FE=40;function UE(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Mo.reduce((d,h)=>(d[h]=$E(()=>r=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(d-s.timestamp,FE),1),s.timestamp=d,s.isProcessing=!0,Mo.forEach(o),s.isProcessing=!1,r&&e&&(n=!1,t(a))},l=()=>{r=!0,n=!0,s.isProcessing||t(a)};return{schedule:Mo.reduce((d,h)=>{const p=i[h];return d[h]=(y,w=!1,b=!1)=>(r||l(),p.schedule(y,w,b)),d},{}),cancel:d=>Mo.forEach(h=>i[h].cancel(d)),state:s,steps:i}}const{schedule:ye,cancel:br,state:et,steps:nu}=UE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Re,!0),BE={useVisualState:Hv({scrapeMotionValuesFromProps:zv,createRenderState:$v,onMount:(t,e,{renderState:r,latestValues:n})=>{ye.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),ye.render(()=>{Zd(r,n,{enableHardwareAcceleration:!1},Jd(e.tagName),t.transformTemplate),Bv(e,r)})}})},zE={useVisualState:Hv({scrapeMotionValuesFromProps:Yd,createRenderState:Gd})};function WE(t,{forwardMotionProps:e=!1},r,n){return{...Kd(t)?BE:zE,preloadedFeatures:r,useRender:IE(e),createVisualElement:n,Component:t}}function pr(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const Kv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function gl(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const HE=t=>e=>Kv(e)&&t(e,gl(e));function gr(t,e,r,n){return pr(t,e,HE(r),n)}const KE=(t,e)=>r=>e(t(r)),Qr=(...t)=>t.reduce(KE);function qv(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const fp=qv("dragHorizontal"),pp=qv("dragVertical");function Gv(t){let e=!1;if(t==="y")e=pp();else if(t==="x")e=fp();else{const r=fp(),n=pp();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function Zv(){const t=Gv(!0);return t?(t(),!1):!0}class cn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function mp(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Zv())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[n]&&ye.update(()=>a[n](i,o))};return gr(t.current,r,s,{passive:!t.getProps()[n]})}class qE extends cn{mount(){this.unmount=Qr(mp(this.node,!0),mp(this.node,!1))}unmount(){}}class GE extends cn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qr(pr(this.node.current,"focus",()=>this.onFocus()),pr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Jv=(t,e)=>e?t===e?!0:Jv(t,e.parentElement):!1;function su(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,gl(r))}class ZE extends cn{constructor(){super(...arguments),this.removeStartListeners=Re,this.removeEndListeners=Re,this.removeAccessibleListeners=Re,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=gr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps();ye.update(()=>{!d&&!Jv(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=gr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Qr(i,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||su("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&ye.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=pr(this.node.current,"keyup",o),su("down",(a,l)=>{this.startPress(a,l)})},r=pr(this.node.current,"keydown",e),n=()=>{this.isPressing&&su("cancel",(i,o)=>this.cancelPress(i,o))},s=pr(this.node.current,"blur",n);this.removeAccessibleListeners=Qr(r,s)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ye.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Zv()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ye.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=gr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=pr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kc=new WeakMap,iu=new WeakMap,JE=t=>{const e=kc.get(t.target);e&&e(t)},YE=t=>{t.forEach(JE)};function QE({root:t,...e}){const r=t||document;iu.has(r)||iu.set(r,{});const n=iu.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(YE,{root:t,...e})),n[s]}function XE(t,e,r){const n=QE(e);return kc.set(t,r),n.observe(t),()=>{kc.delete(t),n.unobserve(t)}}const e1={some:0,all:1};class t1 extends cn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:e1[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return XE(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(r1(e,r))&&this.startObserver()}unmount(){}}function r1({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const n1={inView:{Feature:t1},tap:{Feature:ZE},focus:{Feature:GE},hover:{Feature:qE}};function Yv(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function s1(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function i1(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function yl(t,e,r){const n=t.getProps();return Qd(n,e,r!==void 0?r:n.custom,s1(t),i1(t))}let Xd=Re;const An=t=>t*1e3,yr=t=>t/1e3,o1={current:!1},Qv=t=>Array.isArray(t)&&typeof t[0]=="number";function Xv(t){return!!(!t||typeof t=="string"&&e0[t]||Qv(t)||Array.isArray(t)&&t.every(Xv))}const ui=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,e0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ui([0,.65,.55,1]),circOut:ui([.55,0,1,.45]),backIn:ui([.31,.01,.66,-.59]),backOut:ui([.33,1.53,.69,.99])};function t0(t){if(t)return Qv(t)?ui(t):Array.isArray(t)?t.map(t0):e0[t]}function a1(t,e,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:r};l&&(u.offset=l);const c=t0(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:n,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function l1(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const r0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,u1=1e-7,c1=12;function d1(t,e,r,n,s){let i,o,a=0;do o=e+(r-e)/2,i=r0(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>u1&&++a<c1);return o}function ho(t,e,r,n){if(t===e&&r===n)return Re;const s=i=>d1(i,0,1,t,r);return i=>i===0||i===1?i:r0(s(i),e,n)}const h1=ho(.42,0,1,1),f1=ho(0,0,.58,1),n0=ho(.42,0,.58,1),p1=t=>Array.isArray(t)&&typeof t[0]!="number",s0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,i0=t=>e=>1-t(1-e),eh=t=>1-Math.sin(Math.acos(t)),o0=i0(eh),m1=s0(eh),a0=ho(.33,1.53,.69,.99),th=i0(a0),g1=s0(th),y1=t=>(t*=2)<1?.5*th(t):.5*(2-Math.pow(2,-10*(t-1))),v1={linear:Re,easeIn:h1,easeInOut:n0,easeOut:f1,circIn:eh,circInOut:m1,circOut:o0,backIn:th,backInOut:g1,backOut:a0,anticipate:y1},gp=t=>{if(Array.isArray(t)){Xd(t.length===4);const[e,r,n,s]=t;return ho(e,r,n,s)}else if(typeof t=="string")return v1[t];return t},rh=(t,e)=>r=>!!(uo(r)&&xE.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),l0=(t,e,r)=>n=>{if(!uo(n))return n;const[s,i,o,a]=n.match(ml);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},w1=t=>rn(0,255,t),ou={...Fn,transform:t=>Math.round(w1(t))},Tn={test:rh("rgb","red"),parse:l0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+ou.transform(t)+", "+ou.transform(e)+", "+ou.transform(r)+", "+ki(bi.transform(n))+")"};function x1(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Sc={test:rh("#"),parse:x1,transform:Tn.transform},gs={test:rh("hsl","hue"),parse:l0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+sr.transform(ki(e))+", "+sr.transform(ki(r))+", "+ki(bi.transform(n))+")"},st={test:t=>Tn.test(t)||Sc.test(t)||gs.test(t),parse:t=>Tn.test(t)?Tn.parse(t):gs.test(t)?gs.parse(t):Sc.parse(t),transform:t=>uo(t)?t:t.hasOwnProperty("red")?Tn.transform(t):gs.transform(t)},Ee=(t,e,r)=>-r*t+r*e+t;function au(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function _1({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;s=au(l,a,t+1/3),i=au(l,a,t),o=au(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const lu=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},b1=[Sc,Tn,gs],k1=t=>b1.find(e=>e.test(t));function yp(t){const e=k1(t);let r=e.parse(t);return e===gs&&(r=_1(r)),r}const u0=(t,e)=>{const r=yp(t),n=yp(e),s={...r};return i=>(s.red=lu(r.red,n.red,i),s.green=lu(r.green,n.green,i),s.blue=lu(r.blue,n.blue,i),s.alpha=Ee(r.alpha,n.alpha,i),Tn.transform(s))};function S1(t){var e,r;return isNaN(t)&&uo(t)&&(((e=t.match(ml))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Dv))===null||r===void 0?void 0:r.length)||0)>0}const c0={regex:vE,countKey:"Vars",token:"${v}",parse:Re},d0={regex:Dv,countKey:"Colors",token:"${c}",parse:st.parse},h0={regex:ml,countKey:"Numbers",token:"${n}",parse:Fn.parse};function uu(t,{regex:e,countKey:r,token:n,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+r]=i.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...i.map(s)))}function Ra(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&uu(r,c0),uu(r,d0),uu(r,h0),r}function f0(t){return Ra(t).values}function p0(t){const{values:e,numColors:r,numVars:n,tokenised:s}=Ra(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<n?a=a.replace(c0.token,o[l]):l<n+r?a=a.replace(d0.token,st.transform(o[l])):a=a.replace(h0.token,ki(o[l]));return a}}const E1=t=>typeof t=="number"?0:t;function T1(t){const e=f0(t);return p0(t)(e.map(E1))}const nn={test:S1,parse:f0,createTransformer:p0,getAnimatableNone:T1},m0=(t,e)=>r=>`${r>0?e:t}`;function g0(t,e){return typeof t=="number"?r=>Ee(t,e,r):st.test(t)?u0(t,e):t.startsWith("var(")?m0(t,e):v0(t,e)}const y0=(t,e)=>{const r=[...t],n=r.length,s=t.map((i,o)=>g0(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},C1=(t,e)=>{const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=g0(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},v0=(t,e)=>{const r=nn.createTransformer(e),n=Ra(t),s=Ra(e);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Qr(y0(n.values,s.values),r):m0(t,e)},Xi=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},vp=(t,e)=>r=>Ee(t,e,r);function j1(t){return typeof t=="number"?vp:typeof t=="string"?st.test(t)?u0:v0:Array.isArray(t)?y0:typeof t=="object"?C1:vp}function P1(t,e,r){const n=[],s=r||j1(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Re:e;a=Qr(l,a)}n.push(a)}return n}function w0(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(Xd(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=P1(e,n,s),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Xi(t[c],t[c+1],u);return o[c](d)};return r?u=>l(rn(t[0],t[i-1],u)):l}function A1(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Xi(0,e,n);t.push(Ee(r,1,s))}}function N1(t){const e=[0];return A1(e,t.length-1),e}function R1(t,e){return t.map(r=>r*e)}function O1(t,e){return t.map(()=>e||n0).splice(0,t.length-1)}function Oa({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=p1(n)?n.map(gp):gp(n),i={done:!1,value:e[0]},o=R1(r&&r.length===e.length?r:N1(e),t),a=w0(o,e,{ease:Array.isArray(s)?s:O1(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function x0(t,e){return e?t*(1e3/e):0}const I1=5;function _0(t,e,r){const n=Math.max(e-I1,0);return x0(r-t(n),e-n)}const cu=.001,D1=.01,L1=10,V1=.05,M1=1;function $1({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let s,i,o=1-e;o=rn(V1,M1,o),t=rn(D1,L1,yr(t)),o<1?(s=u=>{const c=u*o,d=c*t,h=c-r,p=Ec(u,o),y=Math.exp(-d);return cu-h/p*y},i=u=>{const d=u*o*t,h=d*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),w=Ec(Math.pow(u,2),o);return(-s(u)+cu>0?-1:1)*((h-p)*y)/w}):(s=u=>{const c=Math.exp(-u*t),d=(u-r)*t+1;return-cu+c*d},i=u=>{const c=Math.exp(-u*t),d=(r-u)*(t*t);return c*d});const a=5/t,l=U1(s,i,a);if(t=An(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const F1=12;function U1(t,e,r){let n=r;for(let s=1;s<F1;s++)n=n-t(n)/e(n);return n}function Ec(t,e){return t*Math.sqrt(1-e*e)}const B1=["duration","bounce"],z1=["stiffness","damping","mass"];function wp(t,e){return e.some(r=>t[r]!==void 0)}function W1(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!wp(t,z1)&&wp(t,B1)){const r=$1(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function b0({keyframes:t,restDelta:e,restSpeed:r,...n}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=W1({...n,velocity:-yr(n.velocity||0)}),p=d||0,y=l/(2*Math.sqrt(a*u)),w=i-s,b=yr(Math.sqrt(a/u)),v=Math.abs(w)<5;r||(r=v?.01:2),e||(e=v?.005:.5);let m;if(y<1){const g=Ec(b,y);m=_=>{const S=Math.exp(-y*b*_);return i-S*((p+y*b*w)/g*Math.sin(g*_)+w*Math.cos(g*_))}}else if(y===1)m=g=>i-Math.exp(-b*g)*(w+(p+b*w)*g);else{const g=b*Math.sqrt(y*y-1);m=_=>{const S=Math.exp(-y*b*_),T=Math.min(g*_,300);return i-S*((p+y*b*w)*Math.sinh(T)+g*w*Math.cosh(T))/g}}return{calculatedDuration:h&&c||null,next:g=>{const _=m(g);if(h)o.done=g>=c;else{let S=p;g!==0&&(y<1?S=_0(m,g,_):S=0);const T=Math.abs(S)<=r,C=Math.abs(i-_)<=e;o.done=T&&C}return o.value=o.done?i:_,o}}}function xp({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},p=j=>a!==void 0&&j<a||l!==void 0&&j>l,y=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let w=r*e;const b=d+w,v=o===void 0?b:o(b);v!==b&&(w=v-d);const m=j=>-w*Math.exp(-j/n),g=j=>v+m(j),_=j=>{const L=m(j),F=g(j);h.done=Math.abs(L)<=u,h.value=h.done?v:F};let S,T;const C=j=>{p(h.value)&&(S=j,T=b0({keyframes:[h.value,y(h.value)],velocity:_0(g,j,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:j=>{let L=!1;return!T&&S===void 0&&(L=!0,_(j),C(j)),S!==void 0&&j>S?T.next(j-S):(!L&&_(j),h)}}}const H1=t=>{const e=({timestamp:r})=>t(r);return{start:()=>ye.update(e,!0),stop:()=>br(e),now:()=>et.isProcessing?et.timestamp:performance.now()}},_p=2e4;function bp(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<_p;)e+=r,n=t.next(e);return e>=_p?1/0:e}const K1={decay:xp,inertia:xp,tween:Oa,keyframes:Oa,spring:b0};function Ia({autoplay:t=!0,delay:e=0,driver:r=H1,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let p=1,y=!1,w,b;const v=()=>{b=new Promise(Q=>{w=Q})};v();let m;const g=K1[s]||Oa;let _;g!==Oa&&typeof n[0]!="number"&&(_=w0([0,100],n,{clamp:!1}),n=[0,100]);const S=g({...h,keyframes:n});let T;a==="mirror"&&(T=g({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let C="idle",j=null,L=null,F=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=bp(S));const{calculatedDuration:ve}=S;let W=1/0,H=1/0;ve!==null&&(W=ve+o,H=W*(i+1)-o);let ee=0;const we=Q=>{if(L===null)return;p>0&&(L=Math.min(L,Q)),p<0&&(L=Math.min(Q-H/p,L)),j!==null?ee=j:ee=Math.round(Q-L)*p;const de=ee-e*(p>=0?1:-1),or=p>=0?de<0:de>H;ee=Math.max(de,0),C==="finished"&&j===null&&(ee=H);let gt=ee,Cr=S;if(i){const Un=Math.min(ee,H)/W;let jr=Math.floor(Un),$t=Un%1;!$t&&Un>=1&&($t=1),$t===1&&jr--,jr=Math.min(jr,i+1),!!(jr%2)&&(a==="reverse"?($t=1-$t,o&&($t-=o/W)):a==="mirror"&&(Cr=T)),gt=rn(0,1,$t)*W}const Ye=or?{done:!1,value:n[0]}:Cr.next(gt);_&&(Ye.value=_(Ye.value));let{done:ar}=Ye;!or&&ve!==null&&(ar=p>=0?ee>=H:ee<=0);const Ws=j===null&&(C==="finished"||C==="running"&&ar);return d&&d(Ye.value),Ws&&I(),Ye},ie=()=>{m&&m.stop(),m=void 0},fe=()=>{C="idle",ie(),w(),v(),L=F=null},I=()=>{C="finished",c&&c(),ie(),w()},K=()=>{if(y)return;m||(m=r(we));const Q=m.now();l&&l(),j!==null?L=Q-j:(!L||C==="finished")&&(L=Q),C==="finished"&&v(),F=L,j=null,C="running",m.start()};t&&K();const X={then(Q,de){return b.then(Q,de)},get time(){return yr(ee)},set time(Q){Q=An(Q),ee=Q,j!==null||!m||p===0?j=Q:L=m.now()-Q/p},get duration(){const Q=S.calculatedDuration===null?bp(S):S.calculatedDuration;return yr(Q)},get speed(){return p},set speed(Q){Q===p||!m||(p=Q,X.time=yr(ee))},get state(){return C},play:K,pause:()=>{C="paused",j=ee},stop:()=>{y=!0,C!=="idle"&&(C="idle",u&&u(),fe())},cancel:()=>{F!==null&&we(F),fe()},complete:()=>{C="finished"},sample:Q=>(L=0,we(Q))};return X}function q1(t){let e;return()=>(e===void 0&&(e=t()),e)}const G1=q1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Z1=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$o=10,J1=2e4,Y1=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Xv(e.ease);function Q1(t,e,{onUpdate:r,onComplete:n,...s}){if(!(G1()&&Z1.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const c=()=>{l=new Promise(g=>{a=g})};c();let{keyframes:d,duration:h=300,ease:p,times:y}=s;if(Y1(e,s)){const g=Ia({...s,repeat:0,delay:0});let _={done:!1,value:d[0]};const S=[];let T=0;for(;!_.done&&T<J1;)_=g.sample(T),S.push(_.value),T+=$o;y=void 0,d=S,h=T-$o,p="linear"}const w=a1(t.owner.current,e,d,{...s,duration:h,ease:p,times:y}),b=()=>{u=!1,w.cancel()},v=()=>{u=!0,ye.update(b),a(),c()};return w.onfinish=()=>{u||(t.set(l1(d,s)),n&&n(),v())},{then(g,_){return l.then(g,_)},attachTimeline(g){return w.timeline=g,w.onfinish=null,Re},get time(){return yr(w.currentTime||0)},set time(g){w.currentTime=An(g)},get speed(){return w.playbackRate},set speed(g){w.playbackRate=g},get duration(){return yr(h)},play:()=>{o||(w.play(),br(b))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:g}=w;if(g){const _=Ia({...s,autoplay:!1});t.setWithVelocity(_.sample(g-$o).value,_.sample(g).value,$o)}v()},complete:()=>{u||w.finish()},cancel:v}}function X1({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const s=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Re,pause:Re,stop:Re,then:i=>(i(),Promise.resolve()),cancel:Re,complete:Re});return e?Ia({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const eT={type:"spring",stiffness:500,damping:25,restSpeed:10},tT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rT={type:"keyframes",duration:.8},nT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sT=(t,{keyframes:e})=>e.length>2?rT:$n.has(t)?t.startsWith("scale")?tT(e[1]):eT:nT,Tc=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(nn.test(e)||e==="0")&&!e.startsWith("url(")),iT=new Set(["brightness","contrast","saturate","opacity"]);function oT(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(ml)||[];if(!n)return t;const s=r.replace(n,"");let i=iT.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const aT=/([a-z-]*)\(.*?\)/g,Cc={...nn,getAnimatableNone:t=>{const e=t.match(aT);return e?e.map(oT).join(" "):t}},lT={...Lv,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:Cc,WebkitFilter:Cc},nh=t=>lT[t];function k0(t,e){let r=nh(t);return r!==Cc&&(r=nn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const S0=t=>/^0[^.\s]+$/.test(t);function uT(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||S0(t)}function cT(t,e,r,n){const s=Tc(e,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:t.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),uT(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];i[c]=k0(e,a)}return i}function dT({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function sh(t,e){return t[e]||t.default||t}const hT={skipAnimations:!1},ih=(t,e,r,n={})=>s=>{const i=sh(n,t)||{},o=i.delay||n.delay||0;let{elapsed:a=0}=n;a=a-An(o);const l=cT(e,t,r,i),u=l[0],c=l[l.length-1],d=Tc(t,u),h=Tc(t,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:y=>{e.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(dT(i)||(p={...p,...sT(t,p)}),p.duration&&(p.duration=An(p.duration)),p.repeatDelay&&(p.repeatDelay=An(p.repeatDelay)),!d||!h||o1.current||i.type===!1||hT.skipAnimations)return X1(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=Q1(e,t,p);if(y)return y}return Ia(p)};function Da(t){return!!(mt(t)&&t.add)}const E0=t=>/^\-?\d*\.?\d+$/.test(t);function oh(t,e){t.indexOf(e)===-1&&t.push(e)}function ah(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class lh{constructor(){this.subscriptions=[]}add(e){return oh(this.subscriptions,e),()=>ah(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fT=t=>!isNaN(parseFloat(t));class pT{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=et;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ye.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ye.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=fT(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new lh);const n=this.events[e].add(r);return e==="change"?()=>{n(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?x0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Is(t,e){return new pT(t,e)}const T0=t=>e=>e.test(t),mT={test:t=>t==="auto",parse:t=>t},C0=[Fn,Y,sr,Nr,bE,_E,mT],Xs=t=>C0.find(T0(t)),gT=[...C0,st,nn],yT=t=>gT.find(T0(t));function vT(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Is(r))}function wT(t,e){const r=yl(t,e);let{transitionEnd:n={},transition:s={},...i}=r?t.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const a=LE(i[o]);vT(t,o,a)}}function xT(t,e,r){var n,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(s=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&s!==void 0?s:e[l]),c!=null&&(typeof c=="string"&&(E0(c)||S0(c))?c=parseFloat(c):!yT(c)&&nn.test(u)&&(c=k0(l,u)),t.addValue(l,Is(c,{owner:t})),r[l]===void 0&&(r[l]=c),c!==null&&t.setBaseTarget(l,c))}}function _T(t,e){return e?(e[t]||e.default||e).from:void 0}function bT(t,e,r){const n={};for(const s in t){const i=_T(s,e);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function kT({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function ST(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function j0(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(i=n);const u=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d),p=a[d];if(!h||p===void 0||c&&kT(c,d))continue;const y={delay:r,elapsed:0,...sh(i||{},d)};if(window.HandoffAppearAnimations){const v=t.getProps()[Pv];if(v){const m=window.HandoffAppearAnimations(v,d,h,ye);m!==null&&(y.elapsed=m,y.isHandoff=!0)}}let w=!y.isHandoff&&!ST(h,p);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(ih(d,h,p,t.shouldReduceMotion&&$n.has(d)?{type:!1}:y));const b=h.animation;Da(l)&&(l.add(d),b.then(()=>l.remove(d))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&wT(t,o)}),u}function jc(t,e,r={}){const n=yl(t,e,r.custom);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(j0(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=s;return ET(t,e,u+l,c,d,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function ET(t,e,r=0,n=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*n,l=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(t.variantChildren).sort(TT).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(jc(u,e,{...i,delay:r+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function TT(t,e){return t.sortNodePosition(e)}function CT(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>jc(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=jc(t,e,r);else{const s=typeof e=="function"?yl(t,e,r.custom):e;n=Promise.all(j0(t,s,r))}return n.then(()=>t.notify("AnimationComplete",e))}const jT=[...zd].reverse(),PT=zd.length;function AT(t){return e=>Promise.all(e.map(({animation:r,options:n})=>CT(t,r,n)))}function NT(t){let e=AT(t);const r=OT();let n=!0;const s=(l,u)=>{const c=yl(t,u);if(c){const{transition:d,transitionEnd:h,...p}=c;l={...l,...p,...h}}return l};function i(l){e=l(t)}function o(l,u){const c=t.getProps(),d=t.getVariantContext(!0)||{},h=[],p=new Set;let y={},w=1/0;for(let v=0;v<PT;v++){const m=jT[v],g=r[m],_=c[m]!==void 0?c[m]:d[m],S=Yi(_),T=m===u?g.isActive:null;T===!1&&(w=v);let C=_===d[m]&&_!==c[m]&&S;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),g.protectedKeys={...y},!g.isActive&&T===null||!_&&!g.prevProp||fl(_)||typeof _=="boolean")continue;let L=RT(g.prevProp,_)||m===u&&g.isActive&&!C&&S||v>w&&S,F=!1;const ve=Array.isArray(_)?_:[_];let W=ve.reduce(s,{});T===!1&&(W={});const{prevResolvedValues:H={}}=g,ee={...H,...W},we=ie=>{L=!0,p.has(ie)&&(F=!0,p.delete(ie)),g.needsAnimating[ie]=!0};for(const ie in ee){const fe=W[ie],I=H[ie];if(y.hasOwnProperty(ie))continue;let K=!1;Na(fe)&&Na(I)?K=!Yv(fe,I):K=fe!==I,K?fe!==void 0?we(ie):p.add(ie):fe!==void 0&&p.has(ie)?we(ie):g.protectedKeys[ie]=!0}g.prevProp=_,g.prevResolvedValues=W,g.isActive&&(y={...y,...W}),n&&t.blockInitialAnimation&&(L=!1),L&&(!C||F)&&h.push(...ve.map(ie=>({animation:ie,options:{type:m,...l}})))}if(p.size){const v={};p.forEach(m=>{const g=t.getBaseTarget(m);g!==void 0&&(v[m]=g)}),h.push({animation:v})}let b=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(h):Promise.resolve()}function a(l,u,c){var d;if(r[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),r[l].isActive=u;const h=o(c,l);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r}}function RT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yv(e,t):!1}function fn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OT(){return{animate:fn(!0),whileInView:fn(),whileHover:fn(),whileTap:fn(),whileDrag:fn(),whileFocus:fn(),exit:fn()}}class IT extends cn{constructor(e){super(e),e.animationState||(e.animationState=NT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),fl(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let DT=0;class LT extends cn{constructor(){super(...arguments),this.id=DT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const VT={animation:{Feature:IT},exit:{Feature:LT}},kp=(t,e)=>Math.abs(t-e);function MT(t,e){const r=kp(t.x,e.x),n=kp(t.y,e.y);return Math.sqrt(r**2+n**2)}class P0{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=hu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=MT(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=d,{timestamp:w}=et;this.history.push({...y,timestamp:w});const{onStart:b,onMove:v}=this.handlers;h||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=du(h,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=hu(d.type==="pointercancel"?this.lastMoveEventInfo:du(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,b),y&&y(d,b)},!Kv(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=gl(e),a=du(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=et;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=r;c&&c(e,hu(a,this.history)),this.removeListeners=Qr(gr(this.contextWindow,"pointermove",this.handlePointerMove),gr(this.contextWindow,"pointerup",this.handlePointerUp),gr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function du(t,e){return e?{point:e(t.point)}:t}function Sp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hu({point:t},e){return{point:t,delta:Sp(t,A0(e)),offset:Sp(t,$T(e)),velocity:FT(e,.1)}}function $T(t){return t[0]}function A0(t){return t[t.length-1]}function FT(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=A0(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>An(e)));)r--;if(!n)return{x:0,y:0};const i=yr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Et(t){return t.max-t.min}function Pc(t,e=0,r=.01){return Math.abs(t-e)<=r}function Ep(t,e,r,n=.5){t.origin=n,t.originPoint=Ee(e.min,e.max,t.origin),t.scale=Et(r)/Et(e),(Pc(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ee(r.min,r.max,t.origin)-t.originPoint,(Pc(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Si(t,e,r,n){Ep(t.x,e.x,r.x,n?n.originX:void 0),Ep(t.y,e.y,r.y,n?n.originY:void 0)}function Tp(t,e,r){t.min=r.min+e.min,t.max=t.min+Et(e)}function UT(t,e,r){Tp(t.x,e.x,r.x),Tp(t.y,e.y,r.y)}function Cp(t,e,r){t.min=e.min-r.min,t.max=t.min+Et(e)}function Ei(t,e,r){Cp(t.x,e.x,r.x),Cp(t.y,e.y,r.y)}function BT(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Ee(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Ee(r,t,n.max):Math.min(t,r)),t}function jp(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function zT(t,{top:e,left:r,bottom:n,right:s}){return{x:jp(t.x,r,s),y:jp(t.y,e,n)}}function Pp(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function WT(t,e){return{x:Pp(t.x,e.x),y:Pp(t.y,e.y)}}function HT(t,e){let r=.5;const n=Et(t),s=Et(e);return s>n?r=Xi(e.min,e.max-n,t.min):n>s&&(r=Xi(t.min,t.max-s,e.min)),rn(0,1,r)}function KT(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ac=.35;function qT(t=Ac){return t===!1?t=0:t===!0&&(t=Ac),{x:Ap(t,"left","right"),y:Ap(t,"top","bottom")}}function Ap(t,e,r){return{min:Np(t,e),max:Np(t,r)}}function Np(t,e){return typeof t=="number"?t:t[e]||0}const Rp=()=>({translate:0,scale:1,origin:0,originPoint:0}),ys=()=>({x:Rp(),y:Rp()}),Op=()=>({min:0,max:0}),Ie=()=>({x:Op(),y:Op()});function Nt(t){return[t("x"),t("y")]}function N0({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function GT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ZT(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function fu(t){return t===void 0||t===1}function Nc({scale:t,scaleX:e,scaleY:r}){return!fu(t)||!fu(e)||!fu(r)}function yn(t){return Nc(t)||R0(t)||t.z||t.rotate||t.rotateX||t.rotateY}function R0(t){return Ip(t.x)||Ip(t.y)}function Ip(t){return t&&t!=="0%"}function La(t,e,r){const n=t-r,s=e*n;return r+s}function Dp(t,e,r,n,s){return s!==void 0&&(t=La(t,s,n)),La(t,r,n)+e}function Rc(t,e=0,r=1,n,s){t.min=Dp(t.min,e,r,n,s),t.max=Dp(t.max,e,r,n,s)}function O0(t,{x:e,y:r}){Rc(t.x,e.translate,e.scale,e.originPoint),Rc(t.y,r.translate,r.scale,r.originPoint)}function JT(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vs(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,O0(t,o)),n&&yn(i.latestValues)&&vs(t,i.latestValues))}e.x=Lp(e.x),e.y=Lp(e.y)}function Lp(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Dr(t,e){t.min=t.min+e,t.max=t.max+e}function Vp(t,e,[r,n,s]){const i=e[s]!==void 0?e[s]:.5,o=Ee(t.min,t.max,i);Rc(t,e[r],e[n],o,e.scale)}const YT=["x","scaleX","originX"],QT=["y","scaleY","originY"];function vs(t,e){Vp(t.x,e,YT),Vp(t.y,e,QT)}function I0(t,e){return N0(ZT(t.getBoundingClientRect(),e))}function XT(t,e,r){const n=I0(t,r),{scroll:s}=e;return s&&(Dr(n.x,s.offset.x),Dr(n.y,s.offset.y)),n}const D0=({current:t})=>t?t.ownerDocument.defaultView:null,eC=new WeakMap;class tC{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ie(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(gl(c,"page").point)},i=(c,d)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Gv(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nt(b=>{let v=this.getAxisMotionValue(b).get()||0;if(sr.test(v)){const{projection:m}=this.visualElement;if(m&&m.layout){const g=m.layout.layoutBox[b];g&&(v=Et(g)*(parseFloat(v)/100))}}this.originPoint[b]=v}),y&&ye.update(()=>y(c,d),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=d;if(p&&this.currentDirection===null){this.currentDirection=rC(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),w&&w(c,d)},a=(c,d)=>this.stop(c,d),l=()=>Nt(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new P0(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:D0(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ye.update(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Fo(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=BT(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&ms(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=zT(s.layoutBox,r):this.constraints=!1,this.elastic=qT(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Nt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=KT(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!ms(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=XT(n,s.root,this.visualElement.getTransformPagePoint());let o=WT(s.layout.layoutBox,i);if(r){const a=r(GT(o));this.hasMutatedConstraints=!!a,a&&(o=N0(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Nt(c=>{if(!Fo(c,r,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:n?e[c]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(ih(e,n,0,r))}stopAnimation(){Nt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nt(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Nt(r=>{const{drag:n}=this.getProps();if(!Fo(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(e[r]-Ee(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ms(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=HT({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Nt(o=>{if(!Fo(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ee(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;eC.set(this.visualElement,this);const e=this.visualElement.current,r=gr(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();ms(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=pr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Nt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ac,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Fo(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function rC(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class nC extends cn{constructor(e){super(e),this.removeGroupControls=Re,this.removeListeners=Re,this.controls=new tC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Re}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mp=t=>(e,r)=>{t&&ye.update(()=>t(e,r))};class sC extends cn{constructor(){super(...arguments),this.removePointerDownListener=Re}onPointerDown(e){this.session=new P0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Mp(e),onStart:Mp(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&ye.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=gr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function iC(){const t=P.useContext(dl);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,s=P.useId();return P.useEffect(()=>n(s),[]),!e&&r?[!1,()=>r&&r(s)]:[!0]}const ea={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $p(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ei={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const r=$p(t,e.target.x),n=$p(t,e.target.y);return`${r}% ${n}%`}},oC={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=nn.parse(t);if(s.length>5)return n;const i=nn.createTransformer(t),o=typeof s[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=Ee(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class aC extends Ge.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;pE(lC),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ea.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ye.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L0(t){const[e,r]=iC(),n=P.useContext(Hd);return Ge.createElement(aC,{...t,layoutGroup:n,switchLayoutGroup:P.useContext(Nv),isPresent:e,safeToRemove:r})}const lC={borderRadius:{...ei,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ei,borderTopRightRadius:ei,borderBottomLeftRadius:ei,borderBottomRightRadius:ei,boxShadow:oC},V0=["TopLeft","TopRight","BottomLeft","BottomRight"],uC=V0.length,Fp=t=>typeof t=="string"?parseFloat(t):t,Up=t=>typeof t=="number"||Y.test(t);function cC(t,e,r,n,s,i){s?(t.opacity=Ee(0,r.opacity!==void 0?r.opacity:1,dC(n)),t.opacityExit=Ee(e.opacity!==void 0?e.opacity:1,0,hC(n))):i&&(t.opacity=Ee(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<uC;o++){const a=`border${V0[o]}Radius`;let l=Bp(e,a),u=Bp(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Up(l)===Up(u)?(t[a]=Math.max(Ee(Fp(l),Fp(u),n),0),(sr.test(u)||sr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=Ee(e.rotate||0,r.rotate||0,n))}function Bp(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dC=M0(0,.5,o0),hC=M0(.5,.95,Re);function M0(t,e,r){return n=>n<t?0:n>e?1:r(Xi(t,e,n))}function zp(t,e){t.min=e.min,t.max=e.max}function At(t,e){zp(t.x,e.x),zp(t.y,e.y)}function Wp(t,e,r,n,s){return t-=e,t=La(t,1/r,n),s!==void 0&&(t=La(t,1/s,n)),t}function fC(t,e=0,r=1,n=.5,s,i=t,o=t){if(sr.test(e)&&(e=parseFloat(e),e=Ee(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ee(i.min,i.max,n);t===i&&(a-=e),t.min=Wp(t.min,e,r,a,s),t.max=Wp(t.max,e,r,a,s)}function Hp(t,e,[r,n,s],i,o){fC(t,e[r],e[n],e[s],e.scale,i,o)}const pC=["x","scaleX","originX"],mC=["y","scaleY","originY"];function Kp(t,e,r,n){Hp(t.x,e,pC,r?r.x:void 0,n?n.x:void 0),Hp(t.y,e,mC,r?r.y:void 0,n?n.y:void 0)}function qp(t){return t.translate===0&&t.scale===1}function $0(t){return qp(t.x)&&qp(t.y)}function gC(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function F0(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Gp(t){return Et(t.x)/Et(t.y)}class yC{constructor(){this.members=[]}add(e){oh(this.members,e),e.scheduleRender()}remove(e){if(ah(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zp(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:u,rotateY:c}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),c&&(n+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const vC=(t,e)=>t.depth-e.depth;class wC{constructor(){this.children=[],this.isDirty=!1}add(e){oh(this.children,e),this.isDirty=!0}remove(e){ah(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vC),this.isDirty=!1,this.children.forEach(e)}}function xC(t,e){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(br(n),t(i-e))};return ye.read(n,!0),()=>br(n)}function _C(t){window.MotionDebug&&window.MotionDebug.record(t)}function bC(t){return t instanceof SVGElement&&t.tagName!=="svg"}function kC(t,e,r){const n=mt(t)?t:Is(t);return n.start(ih("",n,e,r)),n.animation}const Jp=["","X","Y","Z"],SC={visibility:"hidden"},Yp=1e3;let EC=0;const vn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function U0({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=EC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vn.totalNodes=vn.resolvedTargetDeltas=vn.recalculatedProjection=0,this.nodes.forEach(jC),this.nodes.forEach(OC),this.nodes.forEach(IC),this.nodes.forEach(PC),_C(vn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new wC)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lh),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bC(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=xC(h,250),ea.hasAnimatedSinceResize&&(ea.hasAnimatedSinceResize=!1,this.nodes.forEach(Xp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||$C,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=c.getProps(),m=!this.targetLayout||!F0(this.targetLayout,y)||p,g=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const _={...sh(w,"layout"),onPlay:b,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||Xp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qp);return}this.isUpdating||this.nodes.forEach(NC),this.isUpdating=!1,this.nodes.forEach(RC),this.nodes.forEach(TC),this.nodes.forEach(CC),this.clearAllSnapshots();const a=performance.now();et.delta=rn(0,1e3/60,a-et.timestamp),et.timestamp=a,et.isProcessing=!0,nu.update.process(et),nu.preRender.process(et),nu.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(AC),this.sharedNodes.forEach(LC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!$0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||yn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),FC(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ie();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Dr(a.x,l.offset.x),Dr(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ie();At(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){At(a,o);const{scroll:h}=this.root;h&&(Dr(a.x,-h.offset.x),Dr(a.y,-h.offset.y))}Dr(a.x,c.offset.x),Dr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Ie();At(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&vs(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),yn(c.latestValues)&&vs(l,c.latestValues)}return yn(this.latestValues)&&vs(l,this.latestValues),l}removeTransform(o){const a=Ie();At(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!yn(u.latestValues))continue;Nc(u.latestValues)&&u.updateSnapshot();const c=Ie(),d=u.measurePageBox();At(c,d),Kp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return yn(this.latestValues)&&Kp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),Ei(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ie(),this.targetWithTransforms=Ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):At(this.target,this.layout.layoutBox),O0(this.target,this.targetDelta)):At(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),Ei(this.relativeTargetOrigin,this.target,p.target),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nc(this.parent.latestValues)||R0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===et.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;At(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;JT(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=ys(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ys(),this.projectionDeltaWithTransform=ys());const w=this.projectionTransform;Si(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Zp(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),vn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ie(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=p!==y,b=this.getStack(),v=!b||b.members.length<=1,m=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(MC));this.animationProgress=0;let g;this.mixTargetDelta=_=>{const S=_/1e3;em(d.x,o.x,S),em(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ei(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VC(this.relativeTarget,this.relativeTargetOrigin,h,S),g&&gC(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Ie()),At(g,this.relativeTarget)),w&&(this.animationValues=c,cC(c,u,this.latestValues,S,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{ea.hasAnimatedSinceResize=!0,this.currentAnimation=kC(0,Yp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&B0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ie();const d=Et(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Et(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}At(a,l),vs(a,c),Si(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new yC),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Jp.length;c++){const d="rotate"+Jp[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return SC;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Xo(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Xo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!yn(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Zp(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Pa){if(h[w]===void 0)continue;const{correct:b,applyTo:v}=Pa[w],m=u.transform==="none"?h[w]:b(h[w],d);if(v){const g=v.length;for(let _=0;_<g;_++)u[v[_]]=m}else u[w]=m}return this.options.layoutId&&(u.pointerEvents=d===this?Xo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Qp),this.root.sharedNodes.clear()}}}function TC(t){t.updateLayout()}function CC(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?Nt(d=>{const h=o?r.measuredBox[d]:r.layoutBox[d],p=Et(h);h.min=n[d].min,h.max=h.min+p}):B0(i,r.layoutBox,n)&&Nt(d=>{const h=o?r.measuredBox[d]:r.layoutBox[d],p=Et(n[d]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=ys();Si(a,n,r.layoutBox);const l=ys();o?Si(l,t.applyTransform(s,!0),r.measuredBox):Si(l,n,r.layoutBox);const u=!$0(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const y=Ie();Ei(y,r.layoutBox,h.layoutBox);const w=Ie();Ei(w,n,p.layoutBox),F0(y,w)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function jC(t){vn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PC(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AC(t){t.clearSnapshot()}function Qp(t){t.clearMeasurements()}function NC(t){t.isLayoutDirty=!1}function RC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function OC(t){t.resolveTargetDelta()}function IC(t){t.calcProjection()}function DC(t){t.resetRotation()}function LC(t){t.removeLeadSnapshot()}function em(t,e,r){t.translate=Ee(e.translate,0,r),t.scale=Ee(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function tm(t,e,r,n){t.min=Ee(e.min,r.min,n),t.max=Ee(e.max,r.max,n)}function VC(t,e,r,n){tm(t.x,e.x,r.x,n),tm(t.y,e.y,r.y,n)}function MC(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $C={duration:.45,ease:[.4,0,.1,1]},rm=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),nm=rm("applewebkit/")&&!rm("chrome/")?Math.round:Re;function sm(t){t.min=nm(t.min),t.max=nm(t.max)}function FC(t){sm(t.x),sm(t.y)}function B0(t,e,r){return t==="position"||t==="preserve-aspect"&&!Pc(Gp(e),Gp(r),.2)}const UC=U0({attachResizeListener:(t,e)=>pr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pu={current:void 0},z0=U0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pu.current){const t=new UC({});t.mount(window),t.setOptions({layoutScroll:!0}),pu.current=t}return pu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BC={pan:{Feature:sC},drag:{Feature:nC,ProjectionNode:z0,MeasureLayout:L0}},zC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function WC(t){const e=zC.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function Oc(t,e,r=1){const[n,s]=WC(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return E0(o)?parseFloat(o):o}else return bc(s)?Oc(s,e,r+1):s}function HC(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(s=>{const i=s.get();if(!bc(i))return;const o=Oc(i,n);o&&s.set(o)});for(const s in e){const i=e[s];if(!bc(i))continue;const o=Oc(i,n);o&&(e[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:e,transitionEnd:r}}const KC=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),W0=t=>KC.has(t),qC=t=>Object.keys(t).some(W0),im=t=>t===Fn||t===Y,om=(t,e)=>parseFloat(t.split(", ")[e]),am=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return om(s[1],e);{const i=n.match(/^matrix\((.+)\)$/);return i?om(i[1],t):0}},GC=new Set(["x","y","z"]),ZC=lo.filter(t=>!GC.has(t));function JC(t){const e=[];return ZC.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ds={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:am(4,13),y:am(5,14)};Ds.translateX=Ds.x;Ds.translateY=Ds.y;const YC=(t,e,r)=>{const n=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{a[u]=Ds[u](n,i)}),e.render();const l=e.measureViewportBox();return r.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Ds[u](l,i)}),t},QC=(t,e,r={},n={})=>{e={...e},n={...n};const s=Object.keys(e).filter(W0);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=r[l],d=Xs(c);const h=e[l];let p;if(Na(h)){const y=h.length,w=h[0]===null?1:0;c=h[w],d=Xs(c);for(let b=w;b<y&&h[b]!==null;b++)p?Xd(Xs(h[b])===p):p=Xs(h[b])}else p=Xs(h);if(d!==p)if(im(d)&&im(p)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===Y&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(c===0||h===0)?c===0?u.set(p.transform(c)):e[l]=d.transform(h):(o||(i=JC(t),o=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=YC(e,t,a);return i.length&&i.forEach(([c,d])=>{t.getValue(c).set(d)}),t.render(),hl&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function XC(t,e,r,n){return qC(e)?QC(t,e,r,n):{target:e,transitionEnd:n}}const ej=(t,e,r,n)=>{const s=HC(t,e,n);return e=s.target,n=s.transitionEnd,XC(t,e,r,n)},Ic={current:null},H0={current:!1};function tj(){if(H0.current=!0,!!hl)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ic.current=t.matches;t.addListener(e),e()}else Ic.current=!1}function rj(t,e,r){const{willChange:n}=e;for(const s in e){const i=e[s],o=r[s];if(mt(i))t.addValue(s,i),Da(n)&&n.add(s);else if(mt(o))t.addValue(s,Is(i,{owner:t})),Da(n)&&n.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Is(a!==void 0?a:i,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const lm=new WeakMap,K0=Object.keys(Qi),nj=K0.length,um=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],sj=Wd.length;class ij{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ye.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=pl(r),this.isVariantNode=Av(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(r,{});for(const d in c){const h=c[d];a[d]!==void 0&&mt(h)&&(h.set(a[d],!1),Da(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,lm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),H0.current||tj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ic.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lm.delete(this.current),this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=$n.has(e),s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ye.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,s,i){let o,a;for(let l=0;l<nj;l++){const u=K0[l],{isEnabled:c,Feature:d,ProjectionNode:h,MeasureLayout:p}=Qi[u];h&&(o=h),c(r)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&ms(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ie()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<um.length;n++){const s=um[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=rj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<sj;n++){const s=Wd[n],i=this.props[s];(Yi(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Is(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=Qd(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!mt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new lh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class q0 extends ij{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:s},i){let o=bT(n,e||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){xT(this,n,o);const a=ej(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:r,...n}}}function oj(t){return window.getComputedStyle(t)}class aj extends q0{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if($n.has(r)){const n=nh(r);return n&&n.default||0}else{const n=oj(e),s=(Iv(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return I0(e,r)}build(e,r,n,s){qd(e,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Yd(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,s){Fv(e,r,n,s)}}class lj extends q0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if($n.has(r)){const n=nh(r);return n&&n.default||0}return r=Uv.has(r)?r:Bd(r),e.getAttribute(r)}measureInstanceViewportBox(){return Ie()}scrapeMotionValuesFromProps(e,r){return zv(e,r)}build(e,r,n,s){Zd(e,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,r,n,s){Bv(e,r,n,s)}mount(e){this.isSVGTag=Jd(e.tagName),super.mount(e)}}const uj=(t,e)=>Kd(t)?new lj(e,{enableHardwareAcceleration:!1}):new aj(e,{enableHardwareAcceleration:!0}),cj={layout:{ProjectionNode:z0,MeasureLayout:L0}},dj={...VT,...n1,...BC,...cj},G=hE((t,e)=>WE(t,e,dj,uj));function G0(){const t=P.useRef(!1);return Ud(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function hj(){const t=G0(),[e,r]=P.useState(0),n=P.useCallback(()=>{t.current&&r(e+1)},[e]);return[P.useCallback(()=>ye.postRender(n),[n]),e]}class fj extends P.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pj({children:t,isPresent:e}){const r=P.useId(),n=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),P.createElement(fj,{isPresent:e,childRef:n,sizeRef:s},P.cloneElement(t,{ref:n}))}const mu=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Wv(mj),l=P.useId(),u=P.useMemo(()=>({id:l,initial:e,isPresent:r,custom:s,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;n&&n()},register:c=>(a.set(c,!1),()=>a.delete(c))}),i?void 0:[r]);return P.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[r]),P.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(t=P.createElement(pj,{isPresent:r},t)),P.createElement(dl.Provider,{value:u},t)};function mj(){return new Map}function gj(t){return P.useEffect(()=>()=>t(),[])}const wn=t=>t.key||"";function yj(t,e){t.forEach(r=>{const n=wn(r);e.set(n,r)})}function vj(t){const e=[];return P.Children.forEach(t,r=>{P.isValidElement(r)&&e.push(r)}),e}const Z0=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=P.useContext(Hd).forceRender||hj()[0],l=G0(),u=vj(t);let c=u;const d=P.useRef(new Map).current,h=P.useRef(c),p=P.useRef(new Map).current,y=P.useRef(!0);if(Ud(()=>{y.current=!1,yj(u,p),h.current=c}),gj(()=>{y.current=!0,p.clear(),d.clear()}),y.current)return P.createElement(P.Fragment,null,c.map(m=>P.createElement(mu,{key:wn(m),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},m)));c=[...c];const w=h.current.map(wn),b=u.map(wn),v=w.length;for(let m=0;m<v;m++){const g=w[m];b.indexOf(g)===-1&&!d.has(g)&&d.set(g,void 0)}return o==="wait"&&d.size&&(c=[]),d.forEach((m,g)=>{if(b.indexOf(g)!==-1)return;const _=p.get(g);if(!_)return;const S=w.indexOf(g);let T=m;if(!T){const C=()=>{d.delete(g);const j=Array.from(p.keys()).filter(L=>!b.includes(L));if(j.forEach(L=>p.delete(L)),h.current=u.filter(L=>{const F=wn(L);return F===g||j.includes(F)}),!d.size){if(l.current===!1)return;a(),n&&n()}};T=P.createElement(mu,{key:wn(_),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:i,mode:o},_),d.set(g,T)}c.splice(S,0,T)}),c=c.map(m=>{const g=m.key;return d.has(g)?m:P.createElement(mu,{key:wn(m),isPresent:!0,presenceAffectsLayout:i,mode:o},m)}),P.createElement(P.Fragment,null,d.size?c:c.map(m=>P.cloneElement(m)))};var fo=t=>t.type==="checkbox",Cn=t=>t instanceof Date,ut=t=>t==null;const J0=t=>typeof t=="object";var Me=t=>!ut(t)&&!Array.isArray(t)&&J0(t)&&!Cn(t),wj=t=>Me(t)&&t.target?fo(t.target)?t.target.checked:t.target.value:t,xj=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,_j=(t,e)=>t.has(xj(e)),bj=t=>{const e=t.constructor&&t.constructor.prototype;return Me(e)&&e.hasOwnProperty("isPrototypeOf")},uh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Be(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(uh&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Me(t)&&bj(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Be(t[s]));return n}var vl=t=>/^\w*$/.test(t),Ae=t=>t===void 0,ch=t=>Array.isArray(t)?t.filter(Boolean):[],dh=t=>ch(t.replace(/["|']|\]/g,"").split(/\.|\[/)),$=(t,e,r)=>{if(!e||!Me(t))return r;const n=(vl(e)?[e]:dh(e)).reduce((s,i)=>ut(s)?s:s[i],t);return Ae(n)||n===t?Ae(t[e])?r:t[e]:n},er=t=>typeof t=="boolean",qt=t=>typeof t=="function",he=(t,e,r)=>{let n=-1;const s=vl(e)?[e]:dh(e),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const u=t[a];l=Me(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const cm={BLUR:"blur",FOCUS_OUT:"focusout"},Gt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},lr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kj=Ge.createContext(null);kj.displayName="HookFormContext";var Sj=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Gt.all&&(e._proxyFormState[o]=!n||Gt.all),t[o]}});return s};const Ej=typeof window<"u"?Ge.useLayoutEffect:Ge.useEffect;var _t=t=>typeof t=="string",Tj=(t,e,r,n,s)=>_t(t)?(n&&e.watch.add(t),$(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),$(r,i))):(n&&(e.watchAll=!0),r),Dc=t=>ut(t)||!J0(t);function Fr(t,e,r=new WeakSet){if(Dc(t)||Dc(e))return Object.is(t,e);if(Cn(t)&&Cn(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Cn(o)&&Cn(a)||Me(o)&&Me(a)||Array.isArray(o)&&Array.isArray(a)?!Fr(o,a,r):!Object.is(o,a))return!1}}return!0}var Y0=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Ti=t=>Array.isArray(t)?t:[t],dm=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function Q0(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],i=e[n];if(s&&Me(s)&&i){const o=Q0(s,i);Me(o)&&(r[n]=o)}else t[n]&&(r[n]=i)}return r}var nt=t=>Me(t)&&!Object.keys(t).length,hh=t=>t.type==="file",Va=t=>{if(!uh)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},X0=t=>t.type==="select-multiple",fh=t=>t.type==="radio",Cj=t=>fh(t)||fo(t),gu=t=>Va(t)&&t.isConnected;function jj(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ae(t)?n++:t[e[n++]];return t}function Pj(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ae(t[e]))return!1;return!0}function Oe(t,e){const r=Array.isArray(e)?e:vl(e)?[e]:dh(e),n=r.length===1?t:jj(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Me(n)&&nt(n)||Array.isArray(n)&&Pj(n))&&Oe(t,r.slice(0,-1)),t}var Aj=t=>{for(const e in t)if(qt(t[e]))return!0;return!1};function ew(t){return Array.isArray(t)||Me(t)&&!Aj(t)}function Lc(t,e={}){for(const r in t){const n=t[r];ew(n)?(e[r]=Array.isArray(n)?[]:{},Lc(n,e[r])):Ae(n)||(e[r]=!0)}return e}function es(t,e,r){r||(r=Lc(e));for(const n in t){const s=t[n];if(ew(s))Ae(e)||Dc(r[n])?r[n]=Lc(s,Array.isArray(s)?[]:{}):es(s,ut(e)?{}:e[n],r[n]);else{const i=e[n];r[n]=!Fr(s,i)}}return r}const hm={value:!1,isValid:!1},fm={value:!0,isValid:!0};var tw=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ae(t[0].attributes.value)?Ae(t[0].value)||t[0].value===""?fm:{value:t[0].value,isValid:!0}:fm:hm}return hm},rw=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ae(t)?t:e?t===""?NaN:t&&+t:r&&_t(t)?new Date(t):n?n(t):t;const pm={isValid:!1,value:null};var nw=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,pm):pm;function mm(t){const e=t.ref;return hh(e)?e.files:fh(e)?nw(t.refs).value:X0(e)?[...e.selectedOptions].map(({value:r})=>r):fo(e)?tw(t.refs).value:rw(Ae(e.value)?t.ref.value:e.value,t)}var Nj=(t,e,r,n)=>{const s={};for(const i of t){const o=$(e,i);o&&he(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Ma=t=>t instanceof RegExp,ti=t=>Ae(t)?t:Ma(t)?t.source:Me(t)?Ma(t.value)?t.value.source:t.value:t,gm=t=>({isOnSubmit:!t||t===Gt.onSubmit,isOnBlur:t===Gt.onBlur,isOnChange:t===Gt.onChange,isOnAll:t===Gt.all,isOnTouch:t===Gt.onTouched});const ym="AsyncFunction";var Rj=t=>!!t&&!!t.validate&&!!(qt(t.validate)&&t.validate.constructor.name===ym||Me(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ym)),Oj=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),vm=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ci=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=$(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ci(a,e))break}else if(Me(a)&&Ci(a,e))break}}};function wm(t,e,r){const n=$(t,r);if(n||vl(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=$(e,i),a=$(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:r}}var Ij=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return nt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||Gt.all))},Dj=(t,e,r)=>!t||!e||t===e||Ti(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Lj=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,Vj=(t,e)=>!ch($(t,e)).length&&Oe(t,e),Mj=(t,e,r)=>{const n=Ti($(t,r));return he(n,"root",e[r]),he(t,r,n),t};function xm(t,e,r="validate"){if(_t(t)||Array.isArray(t)&&t.every(_t)||er(t)&&!t)return{type:r,message:_t(t)?t:"",ref:e}}var Zn=t=>Me(t)&&!Ma(t)?t:{value:t,message:""},_m=async(t,e,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:c,min:d,max:h,pattern:p,validate:y,name:w,valueAsNumber:b,mount:v}=t._f,m=$(r,w);if(!v||e.has(w))return{};const g=a?a[0]:o,_=W=>{s&&g.reportValidity&&(g.setCustomValidity(er(W)?"":W||""),g.reportValidity())},S={},T=fh(o),C=fo(o),j=T||C,L=(b||hh(o))&&Ae(o.value)&&Ae(m)||Va(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,F=Y0.bind(null,w,n,S),ve=(W,H,ee,we=lr.maxLength,ie=lr.minLength)=>{const fe=W?H:ee;S[w]={type:W?we:ie,message:fe,ref:o,...F(W?we:ie,fe)}};if(i?!Array.isArray(m)||!m.length:l&&(!j&&(L||ut(m))||er(m)&&!m||C&&!tw(a).isValid||T&&!nw(a).isValid)){const{value:W,message:H}=_t(l)?{value:!!l,message:l}:Zn(l);if(W&&(S[w]={type:lr.required,message:H,ref:g,...F(lr.required,H)},!n))return _(H),S}if(!L&&(!ut(d)||!ut(h))){let W,H;const ee=Zn(h),we=Zn(d);if(!ut(m)&&!isNaN(m)){const ie=o.valueAsNumber||m&&+m;ut(ee.value)||(W=ie>ee.value),ut(we.value)||(H=ie<we.value)}else{const ie=o.valueAsDate||new Date(m),fe=X=>new Date(new Date().toDateString()+" "+X),I=o.type=="time",K=o.type=="week";_t(ee.value)&&m&&(W=I?fe(m)>fe(ee.value):K?m>ee.value:ie>new Date(ee.value)),_t(we.value)&&m&&(H=I?fe(m)<fe(we.value):K?m<we.value:ie<new Date(we.value))}if((W||H)&&(ve(!!W,ee.message,we.message,lr.max,lr.min),!n))return _(S[w].message),S}if((u||c)&&!L&&(_t(m)||i&&Array.isArray(m))){const W=Zn(u),H=Zn(c),ee=!ut(W.value)&&m.length>+W.value,we=!ut(H.value)&&m.length<+H.value;if((ee||we)&&(ve(ee,W.message,H.message),!n))return _(S[w].message),S}if(p&&!L&&_t(m)){const{value:W,message:H}=Zn(p);if(Ma(W)&&!m.match(W)&&(S[w]={type:lr.pattern,message:H,ref:o,...F(lr.pattern,H)},!n))return _(H),S}if(y){if(qt(y)){const W=await y(m,r),H=xm(W,g);if(H&&(S[w]={...H,...F(lr.validate,H.message)},!n))return _(H.message),S}else if(Me(y)){let W={};for(const H in y){if(!nt(W)&&!n)break;const ee=xm(await y[H](m,r),g,H);ee&&(W={...ee,...F(H,ee.message)},_(ee.message),n&&(S[w]=W))}if(!nt(W)&&(S[w]={ref:g,...W},!n))return S}}return _(!0),S};const $j={mode:Gt.onSubmit,reValidateMode:Gt.onChange,shouldFocusError:!0};function Fj(t={}){let e={...$j,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:qt(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Me(e.defaultValues)||Me(e.values)?Be(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Be(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...c};let h={...d};const p={array:dm(),state:dm()},y=e.criteriaMode===Gt.all,w=x=>k=>{clearTimeout(u),u=setTimeout(x,k)},b=async x=>{if(!o.keepIsValid&&!e.disabled&&(d.isValid||h.isValid||x)){let k;e.resolver?(k=nt((await j()).errors),v()):k=await F(n,!0),k!==r.isValid&&p.state.next({isValid:k})}},v=(x,k)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((x||Array.from(a.mount)).forEach(E=>{E&&(k?he(r.validatingFields,E,k):Oe(r.validatingFields,E))}),p.state.next({validatingFields:r.validatingFields,isValidating:!nt(r.validatingFields)}))},m=(x,k=[],E,V,O=!0,R=!0)=>{if(V&&E&&!e.disabled){if(o.action=!0,R&&Array.isArray($(n,x))){const q=E($(n,x),V.argA,V.argB);O&&he(n,x,q)}if(R&&Array.isArray($(r.errors,x))){const q=E($(r.errors,x),V.argA,V.argB);O&&he(r.errors,x,q),Vj(r.errors,x)}if((d.touchedFields||h.touchedFields)&&R&&Array.isArray($(r.touchedFields,x))){const q=E($(r.touchedFields,x),V.argA,V.argB);O&&he(r.touchedFields,x,q)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=es(s,i)),p.state.next({name:x,isDirty:W(x,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else he(i,x,k)},g=(x,k)=>{he(r.errors,x,k),p.state.next({errors:r.errors})},_=x=>{r.errors=x,p.state.next({errors:r.errors,isValid:!1})},S=(x,k,E,V)=>{const O=$(n,x);if(O){const R=$(i,x,Ae(E)?$(s,x):E);Ae(R)||V&&V.defaultChecked||k?he(i,x,k?R:mm(O._f)):we(x,R),o.mount&&!o.action&&b()}},T=(x,k,E,V,O)=>{let R=!1,q=!1;const ue={name:x};if(!e.disabled){if(!E||V){(d.isDirty||h.isDirty)&&(q=r.isDirty,r.isDirty=ue.isDirty=W(),R=q!==ue.isDirty);const pe=Fr($(s,x),k);q=!!$(r.dirtyFields,x),pe?Oe(r.dirtyFields,x):he(r.dirtyFields,x,!0),ue.dirtyFields=r.dirtyFields,R=R||(d.dirtyFields||h.dirtyFields)&&q!==!pe}if(E){const pe=$(r.touchedFields,x);pe||(he(r.touchedFields,x,E),ue.touchedFields=r.touchedFields,R=R||(d.touchedFields||h.touchedFields)&&pe!==E)}R&&O&&p.state.next(ue)}return R?ue:{}},C=(x,k,E,V)=>{const O=$(r.errors,x),R=(d.isValid||h.isValid)&&er(k)&&r.isValid!==k;if(e.delayError&&E?(l=w(()=>g(x,E)),l(e.delayError)):(clearTimeout(u),l=null,E?he(r.errors,x,E):Oe(r.errors,x)),(E?!Fr(O,E):O)||!nt(V)||R){const q={...V,...R&&er(k)?{isValid:k}:{},errors:r.errors,name:x};r={...r,...q},p.state.next(q)}},j=async x=>(v(x,!0),await e.resolver(i,e.context,Nj(x||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),L=async x=>{const{errors:k}=await j(x);if(v(x),x)for(const E of x){const V=$(k,E);V?he(r.errors,E,V):Oe(r.errors,E)}else r.errors=k;return k},F=async(x,k,E={valid:!0})=>{for(const V in x){const O=x[V];if(O){const{_f:R,...q}=O;if(R){const ue=a.array.has(R.name),pe=O._f&&Rj(O._f);pe&&d.validatingFields&&v([R.name],!0);const Pt=await _m(O,a.disabled,i,y,e.shouldUseNativeValidation&&!k,ue);if(pe&&d.validatingFields&&v([R.name]),Pt[R.name]&&(E.valid=!1,k))break;!k&&($(Pt,R.name)?ue?Mj(r.errors,Pt,R.name):he(r.errors,R.name,Pt[R.name]):Oe(r.errors,R.name))}!nt(q)&&await F(q,k,E)}}return E.valid},ve=()=>{for(const x of a.unMount){const k=$(n,x);k&&(k._f.refs?k._f.refs.every(E=>!gu(E)):!gu(k._f.ref))&&Ws(x)}a.unMount=new Set},W=(x,k)=>!e.disabled&&(x&&k&&he(i,x,k),!Fr(Q(),s)),H=(x,k,E)=>Tj(x,a,{...o.mount?i:Ae(k)?s:_t(x)?{[x]:k}:k},E,k),ee=x=>ch($(o.mount?i:s,x,e.shouldUnregister?$(s,x,[]):[])),we=(x,k,E={})=>{const V=$(n,x);let O=k;if(V){const R=V._f;R&&(!R.disabled&&he(i,x,rw(k,R)),O=Va(R.ref)&&ut(k)?"":k,X0(R.ref)?[...R.ref.options].forEach(q=>q.selected=O.includes(q.value)):R.refs?fo(R.ref)?R.refs.forEach(q=>{(!q.defaultChecked||!q.disabled)&&(Array.isArray(O)?q.checked=!!O.find(ue=>ue===q.value):q.checked=O===q.value||!!O)}):R.refs.forEach(q=>q.checked=q.value===O):hh(R.ref)?R.ref.value="":(R.ref.value=O,R.ref.type||p.state.next({name:x,values:Be(i)})))}(E.shouldDirty||E.shouldTouch)&&T(x,O,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&X(x)},ie=(x,k,E)=>{for(const V in k){if(!k.hasOwnProperty(V))return;const O=k[V],R=x+"."+V,q=$(n,R);(a.array.has(x)||Me(O)||q&&!q._f)&&!Cn(O)?ie(R,O,E):we(R,O,E)}},fe=(x,k,E={})=>{const V=$(n,x),O=a.array.has(x),R=Be(k);he(i,x,R),O?(p.array.next({name:x,values:Be(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&E.shouldDirty&&p.state.next({name:x,dirtyFields:es(s,i),isDirty:W(x,R)})):V&&!V._f&&!ut(R)?ie(x,R,E):we(x,R,E),vm(x,a)&&p.state.next({...r,name:x}),p.state.next({name:o.mount?x:void 0,values:Be(i)})},I=async x=>{o.mount=!0;const k=x.target;let E=k.name,V=!0;const O=$(n,E),R=pe=>{V=Number.isNaN(pe)||Cn(pe)&&isNaN(pe.getTime())||Fr(pe,$(i,E,pe))},q=gm(e.mode),ue=gm(e.reValidateMode);if(O){let pe,Pt;const mo=k.type?mm(O._f):wj(x),Pr=x.type===cm.BLUR||x.type===cm.FOCUS_OUT,fw=!Oj(O._f)&&!e.resolver&&!$(r.errors,E)&&!O._f.deps||Lj(Pr,$(r.touchedFields,E),r.isSubmitted,ue,q),wl=vm(E,a,Pr);he(i,E,mo),Pr?(!k||!k.readOnly)&&(O._f.onBlur&&O._f.onBlur(x),l&&l(0)):O._f.onChange&&O._f.onChange(x);const xl=T(E,mo,Pr),pw=!nt(xl)||wl;if(!Pr&&p.state.next({name:E,type:x.type,values:Be(i)}),fw)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Pr&&b():Pr||b()),pw&&p.state.next({name:E,...wl?{}:xl});if(!Pr&&wl&&p.state.next({...r}),e.resolver){const{errors:xh}=await j([E]);if(v([E]),R(mo),V){const mw=wm(r.errors,n,E),_h=wm(xh,n,mw.name||E);pe=_h.error,E=_h.name,Pt=nt(xh)}}else v([E],!0),pe=(await _m(O,a.disabled,i,y,e.shouldUseNativeValidation))[E],v([E]),R(mo),V&&(pe?Pt=!1:(d.isValid||h.isValid)&&(Pt=await F(n,!0)));V&&(O._f.deps&&(!Array.isArray(O._f.deps)||O._f.deps.length>0)&&X(O._f.deps),C(E,Pt,pe,xl))}},K=(x,k)=>{if($(r.errors,k)&&x.focus)return x.focus(),1},X=async(x,k={})=>{let E,V;const O=Ti(x);if(e.resolver){const R=await L(Ae(x)?x:O);E=nt(R),V=x?!O.some(q=>$(R,q)):E}else x?(V=(await Promise.all(O.map(async R=>{const q=$(n,R);return await F(q&&q._f?{[R]:q}:q)}))).every(Boolean),!(!V&&!r.isValid)&&b()):V=E=await F(n);return p.state.next({...!_t(x)||(d.isValid||h.isValid)&&E!==r.isValid?{}:{name:x},...e.resolver||!x?{isValid:E}:{},errors:r.errors}),k.shouldFocus&&!V&&Ci(n,K,x?O:a.mount),V},Q=(x,k)=>{let E={...o.mount?i:s};return k&&(E=Q0(k.dirtyFields?r.dirtyFields:r.touchedFields,E)),Ae(x)?E:_t(x)?$(E,x):x.map(V=>$(E,V))},de=(x,k)=>({invalid:!!$((k||r).errors,x),isDirty:!!$((k||r).dirtyFields,x),error:$((k||r).errors,x),isValidating:!!$(r.validatingFields,x),isTouched:!!$((k||r).touchedFields,x)}),or=x=>{x&&Ti(x).forEach(k=>Oe(r.errors,k)),p.state.next({errors:x?r.errors:{}})},gt=(x,k,E)=>{const V=($(n,x,{_f:{}})._f||{}).ref,O=$(r.errors,x)||{},{ref:R,message:q,type:ue,...pe}=O;he(r.errors,x,{...pe,...k,ref:V}),p.state.next({name:x,errors:r.errors,isValid:!1}),E&&E.shouldFocus&&V&&V.focus&&V.focus()},Cr=(x,k)=>qt(x)?p.state.subscribe({next:E=>"values"in E&&x(H(void 0,k),E)}):H(x,k,!0),Ye=x=>p.state.subscribe({next:k=>{Dj(x.name,k.name,x.exact)&&Ij(k,x.formState||d,hw,x.reRenderRoot)&&x.callback({values:{...i},...r,...k,defaultValues:s})}}).unsubscribe,ar=x=>(o.mount=!0,h={...h,...x.formState},Ye({...x,formState:{...c,...x.formState}})),Ws=(x,k={})=>{for(const E of x?Ti(x):a.mount)a.mount.delete(E),a.array.delete(E),k.keepValue||(Oe(n,E),Oe(i,E)),!k.keepError&&Oe(r.errors,E),!k.keepDirty&&Oe(r.dirtyFields,E),!k.keepTouched&&Oe(r.touchedFields,E),!k.keepIsValidating&&Oe(r.validatingFields,E),!e.shouldUnregister&&!k.keepDefaultValue&&Oe(s,E);p.state.next({values:Be(i)}),p.state.next({...r,...k.keepDirty?{isDirty:W()}:{}}),!k.keepIsValid&&b()},Un=({disabled:x,name:k})=>{(er(x)&&o.mount||x||a.disabled.has(k))&&(x?a.disabled.add(k):a.disabled.delete(k))},jr=(x,k={})=>{let E=$(n,x);const V=er(k.disabled)||er(e.disabled);return he(n,x,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:x}},name:x,mount:!0,...k}}),a.mount.add(x),E?Un({disabled:er(k.disabled)?k.disabled:e.disabled,name:x}):S(x,!0,k.value),{...V?{disabled:k.disabled||e.disabled}:{},...e.progressive?{required:!!k.required,min:ti(k.min),max:ti(k.max),minLength:ti(k.minLength),maxLength:ti(k.maxLength),pattern:ti(k.pattern)}:{},name:x,onChange:I,onBlur:I,ref:O=>{if(O){jr(x,k),E=$(n,x);const R=Ae(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,q=Cj(R),ue=E._f.refs||[];if(q?ue.find(pe=>pe===R):R===E._f.ref)return;he(n,x,{_f:{...E._f,...q?{refs:[...ue.filter(gu),R,...Array.isArray($(s,x))?[{}]:[]],ref:{type:R.type,name:x}}:{ref:R}}}),S(x,!1,void 0,R)}else E=$(n,x,{}),E._f&&(E._f.mount=!1),(e.shouldUnregister||k.shouldUnregister)&&!(_j(a.array,x)&&o.action)&&a.unMount.add(x)}}},$t=()=>e.shouldFocusError&&Ci(n,K,a.mount),mh=x=>{er(x)&&(p.state.next({disabled:x}),Ci(n,(k,E)=>{const V=$(n,E);V&&(k.disabled=V._f.disabled||x,Array.isArray(V._f.refs)&&V._f.refs.forEach(O=>{O.disabled=V._f.disabled||x}))},0,!1))},gh=(x,k)=>async E=>{let V;E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let O=Be(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:R,values:q}=await j();v(),r.errors=R,O=Be(q)}else await F(n);if(a.disabled.size)for(const R of a.disabled)Oe(O,R);if(Oe(r.errors,"root"),nt(r.errors)){p.state.next({errors:{}});try{await x(O,E)}catch(R){V=R}}else k&&await k({...r.errors},E),$t(),setTimeout($t);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nt(r.errors)&&!V,submitCount:r.submitCount+1,errors:r.errors}),V)throw V},cw=(x,k={})=>{$(n,x)&&(Ae(k.defaultValue)?fe(x,Be($(s,x))):(fe(x,k.defaultValue),he(s,x,Be(k.defaultValue))),k.keepTouched||Oe(r.touchedFields,x),k.keepDirty||(Oe(r.dirtyFields,x),r.isDirty=k.defaultValue?W(x,Be($(s,x))):W()),k.keepError||(Oe(r.errors,x),d.isValid&&b()),p.state.next({...r}))},yh=(x,k={})=>{const E=x?Be(x):s,V=Be(E),O=nt(x),R=O?s:V;if(k.keepDefaultValues||(s=E),!k.keepValues){if(k.keepDirtyValues){const q=new Set([...a.mount,...Object.keys(es(s,i))]);for(const ue of Array.from(q))$(r.dirtyFields,ue)?he(R,ue,$(i,ue)):fe(ue,$(R,ue))}else{if(uh&&Ae(x))for(const q of a.mount){const ue=$(n,q);if(ue&&ue._f){const pe=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(Va(pe)){const Pt=pe.closest("form");if(Pt){Pt.reset();break}}}}if(k.keepFieldsRef)for(const q of a.mount)fe(q,$(R,q));else n={}}i=e.shouldUnregister?k.keepDefaultValues?Be(s):{}:Be(R),p.array.next({values:{...R}}),p.state.next({values:{...R}})}a={mount:k.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues||!e.shouldUnregister&&!nt(R),o.watch=!!e.shouldUnregister,o.keepIsValid=!!k.keepIsValid,o.action=!1,k.keepErrors||(r.errors={}),p.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:O?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Fr(x,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:O?{}:k.keepDirtyValues?k.keepDefaultValues&&i?es(s,i):r.dirtyFields:k.keepDefaultValues&&x?es(s,x):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},vh=(x,k)=>yh(qt(x)?x(i):x,{...e.resetOptions,...k}),dw=(x,k={})=>{const E=$(n,x),V=E&&E._f;if(V){const O=V.refs?V.refs[0]:V.ref;O.focus&&setTimeout(()=>{O.focus(),k.shouldSelect&&qt(O.select)&&O.select()})}},hw=x=>{r={...r,...x}},wh={control:{register:jr,unregister:Ws,getFieldState:de,handleSubmit:gh,setError:gt,_subscribe:Ye,_runSchema:j,_updateIsValidating:v,_focusError:$t,_getWatch:H,_getDirty:W,_setValid:b,_setFieldArray:m,_setDisabledField:Un,_setErrors:_,_getFieldArray:ee,_reset:yh,_resetDefaultValues:()=>qt(e.defaultValues)&&e.defaultValues().then(x=>{vh(x,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:mh,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(x){o=x},get _defaultValues(){return s},get _names(){return a},set _names(x){a=x},get _formState(){return r},get _options(){return e},set _options(x){e={...e,...x}}},subscribe:ar,trigger:X,register:jr,handleSubmit:gh,watch:Cr,setValue:fe,getValues:Q,reset:vh,resetField:cw,clearErrors:or,unregister:Ws,setError:gt,setFocus:dw,getFieldState:de};return{...wh,formControl:wh}}function po(t={}){const e=Ge.useRef(void 0),r=Ge.useRef(void 0),[n,s]=Ge.useState({isDirty:!1,isValidating:!1,isLoading:qt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:qt(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!qt(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=Fj(t);e.current={...a,formState:n}}const i=e.current.control;return i._options=t,Ej(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),Ge.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ge.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Ge.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Ge.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Ge.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Ge.useEffect(()=>{var o;t.values&&!Fr(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),Ge.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Sj(n,i),e.current}const bm=(t,e,r)=>{if(t&&"reportValidity"in t){const n=$(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},sw=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?bm(n.ref,r,t):n.refs&&n.refs.forEach(s=>bm(s,r,t))}},Uj=(t,e)=>{e.shouldUseNativeValidation&&sw(t,e);const r={};for(const n in t){const s=$(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(Bj(e.names||Object.keys(t),n)){const o=Object.assign({},$(r,n));he(o,"root",i),he(r,n,o)}else he(r,n,i)}return r},Bj=(t,e)=>t.some(r=>r.startsWith(e+"."));var zj=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(c){return c.errors.forEach(function(d){return t.push(d)})}),e){var l=r[o].types,u=l&&l[n.code];r[o]=Y0(o,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},iw=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&sw({},i),{errors:{},values:r.raw?n:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Uj(zj(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},le;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(le||(le={}));var km;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(km||(km={}));const U=le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Lr=t=>{switch(typeof t){case"undefined":return U.undefined;case"string":return U.string;case"number":return Number.isNaN(t)?U.nan:U.number;case"boolean":return U.boolean;case"function":return U.function;case"bigint":return U.bigint;case"symbol":return U.symbol;case"object":return Array.isArray(t)?U.array:t===null?U.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?U.promise:typeof Map<"u"&&t instanceof Map?U.map:typeof Set<"u"&&t instanceof Set?U.set:typeof Date<"u"&&t instanceof Date?U.date:U.object;default:return U.unknown}},N=le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class kr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),n}static assert(e){if(!(e instanceof kr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}kr.create=t=>new kr(t);const Vc=(t,e)=>{let r;switch(t.code){case N.invalid_type:t.received===U.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case N.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,le.jsonStringifyReplacer)}`;break;case N.unrecognized_keys:r=`Unrecognized key(s) in object: ${le.joinValues(t.keys,", ")}`;break;case N.invalid_union:r="Invalid input";break;case N.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${le.joinValues(t.options)}`;break;case N.invalid_enum_value:r=`Invalid enum value. Expected ${le.joinValues(t.options)}, received '${t.received}'`;break;case N.invalid_arguments:r="Invalid function arguments";break;case N.invalid_return_type:r="Invalid function return type";break;case N.invalid_date:r="Invalid date";break;case N.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:le.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case N.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case N.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case N.custom:r="Invalid input";break;case N.invalid_intersection_types:r="Intersection results could not be merged";break;case N.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case N.not_finite:r="Number must be finite";break;default:r=e.defaultError,le.assertNever(t)}return{message:r}};let Wj=Vc;function Hj(){return Wj}const Kj=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function D(t,e){const r=Hj(),n=Kj({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Vc?void 0:Vc].filter(s=>!!s)});t.common.issues.push(n)}class Tt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return te;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Tt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return te;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const te=Object.freeze({status:"aborted"}),ci=t=>({status:"dirty",value:t}),Mt=t=>({status:"valid",value:t}),Sm=t=>t.status==="aborted",Em=t=>t.status==="dirty",Ls=t=>t.status==="valid",$a=t=>typeof Promise<"u"&&t instanceof Promise;var B;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(B||(B={}));class sn{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Tm=(t,e)=>{if(Ls(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new kr(t.common.issues);return this._error=r,this._error}}};function ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??n??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??r??a.defaultError}},description:s}}class ae{get description(){return this._def.description}_getType(e){return Lr(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Lr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Tt,ctx:{common:e.parent.common,data:e.data,parsedType:Lr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if($a(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lr(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Tm(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return Ls(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Ls(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lr(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await($a(s)?s:Promise.resolve(s));return Tm(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:N.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new $s({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Xr.create(this,this._def)}nullable(){return Fs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ir.create(this)}promise(){return za.create(this,this._def)}or(e){return Ua.create([this,e],this._def)}and(e){return Ba.create(this,e,this._def)}transform(e){return new $s({...ne(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new $c({...ne(this._def),innerType:this,defaultValue:r,typeName:re.ZodDefault})}brand(){return new mP({typeName:re.ZodBranded,type:this,...ne(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Fc({...ne(this._def),innerType:this,catchValue:r,typeName:re.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ph.create(this,e)}readonly(){return Uc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qj=/^c[^\s-]{8,}$/i,Gj=/^[0-9a-z]+$/,Zj=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Jj=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Yj=/^[a-z0-9_-]{21}$/i,Qj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,eP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let yu;const rP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ow="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lP=new RegExp(`^${ow}$`);function aw(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function uP(t){return new RegExp(`^${aw(t)}$`)}function cP(t){let e=`${ow}T${aw(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function dP(t,e){return!!((e==="v4"||!e)&&rP.test(t)||(e==="v6"||!e)&&sP.test(t))}function hP(t,e){if(!Qj.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function fP(t,e){return!!((e==="v4"||!e)&&nP.test(t)||(e==="v6"||!e)&&iP.test(t))}class zr extends ae{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==U.string){const i=this._getOrReturnCtx(e);return D(i,{code:N.invalid_type,expected:U.string,received:i.parsedType}),te}const n=new Tt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?D(s,{code:N.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&D(s,{code:N.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")eP.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"email",code:N.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")yu||(yu=new RegExp(tP,"u")),yu.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"emoji",code:N.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Jj.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"uuid",code:N.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Yj.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"nanoid",code:N.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")qj.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"cuid",code:N.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Gj.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"cuid2",code:N.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Zj.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"ulid",code:N.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),D(s,{validation:"url",code:N.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"regex",code:N.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),D(s,{code:N.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),D(s,{code:N.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),D(s,{code:N.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?cP(i).test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{code:N.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?lP.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{code:N.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?uP(i).test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{code:N.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Xj.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"duration",code:N.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?dP(e.data,i.version)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"ip",code:N.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?hP(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"jwt",code:N.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?fP(e.data,i.version)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"cidr",code:N.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?oP.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"base64",code:N.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?aP.test(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{validation:"base64url",code:N.invalid_string,message:i.message}),n.dirty()):le.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:N.invalid_string,...B.errToObj(n)})}_addCheck(e){return new zr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...B.errToObj(e)})}url(e){return this._addCheck({kind:"url",...B.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...B.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...B.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...B.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...B.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...B.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...B.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...B.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...B.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...B.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...B.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...B.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...B.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...B.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...B.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...B.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...B.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...B.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...B.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...B.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...B.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...B.errToObj(r)})}nonempty(e){return this.min(1,B.errToObj(e))}trim(){return new zr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}zr.create=t=>new zr({checks:[],typeName:re.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ne(t)});function pP(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Vs extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==U.number){const i=this._getOrReturnCtx(e);return D(i,{code:N.invalid_type,expected:U.number,received:i.parsedType}),te}let n;const s=new Tt;for(const i of this._def.checks)i.kind==="int"?le.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:N.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?pP(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:N.not_finite,message:i.message}),s.dirty()):le.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,B.toString(r))}gt(e,r){return this.setLimit("min",e,!1,B.toString(r))}lte(e,r){return this.setLimit("max",e,!0,B.toString(r))}lt(e,r){return this.setLimit("max",e,!1,B.toString(r))}setLimit(e,r,n,s){return new Vs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:B.toString(s)}]})}_addCheck(e){return new Vs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:B.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:B.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&le.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Vs.create=t=>new Vs({checks:[],typeName:re.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ne(t)});class eo extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==U.bigint)return this._getInvalidInput(e);let n;const s=new Tt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):le.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return D(r,{code:N.invalid_type,expected:U.bigint,received:r.parsedType}),te}gte(e,r){return this.setLimit("min",e,!0,B.toString(r))}gt(e,r){return this.setLimit("min",e,!1,B.toString(r))}lte(e,r){return this.setLimit("max",e,!0,B.toString(r))}lt(e,r){return this.setLimit("max",e,!1,B.toString(r))}setLimit(e,r,n,s){return new eo({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:B.toString(s)}]})}_addCheck(e){return new eo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}eo.create=t=>new eo({checks:[],typeName:re.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ne(t)});class Cm extends ae{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==U.boolean){const n=this._getOrReturnCtx(e);return D(n,{code:N.invalid_type,expected:U.boolean,received:n.parsedType}),te}return Mt(e.data)}}Cm.create=t=>new Cm({typeName:re.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ne(t)});class Fa extends ae{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==U.date){const i=this._getOrReturnCtx(e);return D(i,{code:N.invalid_type,expected:U.date,received:i.parsedType}),te}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return D(i,{code:N.invalid_date}),te}const n=new Tt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):le.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Fa({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:B.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:B.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Fa.create=t=>new Fa({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:re.ZodDate,...ne(t)});class jm extends ae{_parse(e){if(this._getType(e)!==U.symbol){const n=this._getOrReturnCtx(e);return D(n,{code:N.invalid_type,expected:U.symbol,received:n.parsedType}),te}return Mt(e.data)}}jm.create=t=>new jm({typeName:re.ZodSymbol,...ne(t)});class Pm extends ae{_parse(e){if(this._getType(e)!==U.undefined){const n=this._getOrReturnCtx(e);return D(n,{code:N.invalid_type,expected:U.undefined,received:n.parsedType}),te}return Mt(e.data)}}Pm.create=t=>new Pm({typeName:re.ZodUndefined,...ne(t)});class Am extends ae{_parse(e){if(this._getType(e)!==U.null){const n=this._getOrReturnCtx(e);return D(n,{code:N.invalid_type,expected:U.null,received:n.parsedType}),te}return Mt(e.data)}}Am.create=t=>new Am({typeName:re.ZodNull,...ne(t)});class Nm extends ae{constructor(){super(...arguments),this._any=!0}_parse(e){return Mt(e.data)}}Nm.create=t=>new Nm({typeName:re.ZodAny,...ne(t)});class Rm extends ae{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mt(e.data)}}Rm.create=t=>new Rm({typeName:re.ZodUnknown,...ne(t)});class on extends ae{_parse(e){const r=this._getOrReturnCtx(e);return D(r,{code:N.invalid_type,expected:U.never,received:r.parsedType}),te}}on.create=t=>new on({typeName:re.ZodNever,...ne(t)});class Om extends ae{_parse(e){if(this._getType(e)!==U.undefined){const n=this._getOrReturnCtx(e);return D(n,{code:N.invalid_type,expected:U.void,received:n.parsedType}),te}return Mt(e.data)}}Om.create=t=>new Om({typeName:re.ZodVoid,...ne(t)});class ir extends ae{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==U.array)return D(r,{code:N.invalid_type,expected:U.array,received:r.parsedType}),te;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(D(r,{code:o?N.too_big:N.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(D(r,{code:N.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(D(r,{code:N.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new sn(r,o,r.path,a)))).then(o=>Tt.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new sn(r,o,r.path,a)));return Tt.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new ir({...this._def,minLength:{value:e,message:B.toString(r)}})}max(e,r){return new ir({...this._def,maxLength:{value:e,message:B.toString(r)}})}length(e,r){return new ir({...this._def,exactLength:{value:e,message:B.toString(r)}})}nonempty(e){return this.min(1,e)}}ir.create=(t,e)=>new ir({type:t,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...ne(e)});function ts(t){if(t instanceof Le){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Xr.create(ts(n))}return new Le({...t._def,shape:()=>e})}else return t instanceof ir?new ir({...t._def,type:ts(t.element)}):t instanceof Xr?Xr.create(ts(t.unwrap())):t instanceof Fs?Fs.create(ts(t.unwrap())):t instanceof Ln?Ln.create(t.items.map(e=>ts(e))):t}class Le extends ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=le.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==U.object){const u=this._getOrReturnCtx(e);return D(u,{code:N.invalid_type,expected:U.object,received:u.parsedType}),te}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof on&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=i[u],d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new sn(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof on){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")a.length>0&&(D(s,{code:N.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new sn(s,d,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>Tt.mergeObjectSync(n,u)):Tt.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return B.errToObj,new Le({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:B.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Le({...this._def,unknownKeys:"strip"})}passthrough(){return new Le({...this._def,unknownKeys:"passthrough"})}extend(e){return new Le({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Le({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:re.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Le({...this._def,catchall:e})}pick(e){const r={};for(const n of le.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Le({...this._def,shape:()=>r})}omit(e){const r={};for(const n of le.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Le({...this._def,shape:()=>r})}deepPartial(){return ts(this)}partial(e){const r={};for(const n of le.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Le({...this._def,shape:()=>r})}required(e){const r={};for(const n of le.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Xr;)i=i._def.innerType;r[n]=i}return new Le({...this._def,shape:()=>r})}keyof(){return lw(le.objectKeys(this.shape))}}Le.create=(t,e)=>new Le({shape:()=>t,unknownKeys:"strip",catchall:on.create(),typeName:re.ZodObject,...ne(e)});Le.strictCreate=(t,e)=>new Le({shape:()=>t,unknownKeys:"strict",catchall:on.create(),typeName:re.ZodObject,...ne(e)});Le.lazycreate=(t,e)=>new Le({shape:t,unknownKeys:"strip",catchall:on.create(),typeName:re.ZodObject,...ne(e)});class Ua extends ae{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new kr(a.ctx.common.issues));return D(r,{code:N.invalid_union,unionErrors:o}),te}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new kr(l));return D(r,{code:N.invalid_union,unionErrors:a}),te}}get options(){return this._def.options}}Ua.create=(t,e)=>new Ua({options:t,typeName:re.ZodUnion,...ne(e)});function Mc(t,e){const r=Lr(t),n=Lr(e);if(t===e)return{valid:!0,data:t};if(r===U.object&&n===U.object){const s=le.objectKeys(e),i=le.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Mc(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===U.array&&n===U.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Mc(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===U.date&&n===U.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ba extends ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(Sm(i)||Sm(o))return te;const a=Mc(i.value,o.value);return a.valid?((Em(i)||Em(o))&&r.dirty(),{status:r.value,value:a.data}):(D(n,{code:N.invalid_intersection_types}),te)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ba.create=(t,e,r)=>new Ba({left:t,right:e,typeName:re.ZodIntersection,...ne(r)});class Ln extends ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==U.array)return D(n,{code:N.invalid_type,expected:U.array,received:n.parsedType}),te;if(n.data.length<this._def.items.length)return D(n,{code:N.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),te;!this._def.rest&&n.data.length>this._def.items.length&&(D(n,{code:N.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new sn(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Tt.mergeArray(r,o)):Tt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Ln({...this._def,rest:e})}}Ln.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ln({items:t,typeName:re.ZodTuple,rest:null,...ne(e)})};class Im extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==U.map)return D(n,{code:N.invalid_type,expected:U.map,received:n.parsedType}),te;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],u)=>({key:s._parse(new sn(n,a,n.path,[u,"key"])),value:i._parse(new sn(n,l,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return te;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return te;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}}}}Im.create=(t,e,r)=>new Im({valueType:e,keyType:t,typeName:re.ZodMap,...ne(r)});class to extends ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==U.set)return D(n,{code:N.invalid_type,expected:U.set,received:n.parsedType}),te;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(D(n,{code:N.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(D(n,{code:N.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return te;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((l,u)=>i._parse(new sn(n,l,n.path,u)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,r){return new to({...this._def,minSize:{value:e,message:B.toString(r)}})}max(e,r){return new to({...this._def,maxSize:{value:e,message:B.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}to.create=(t,e)=>new to({valueType:t,minSize:null,maxSize:null,typeName:re.ZodSet,...ne(e)});class Dm extends ae{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Dm.create=(t,e)=>new Dm({getter:t,typeName:re.ZodLazy,...ne(e)});class Lm extends ae{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return D(r,{received:r.data,code:N.invalid_literal,expected:this._def.value}),te}return{status:"valid",value:e.data}}get value(){return this._def.value}}Lm.create=(t,e)=>new Lm({value:t,typeName:re.ZodLiteral,...ne(e)});function lw(t,e){return new Ms({values:t,typeName:re.ZodEnum,...ne(e)})}class Ms extends ae{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return D(r,{expected:le.joinValues(n),received:r.parsedType,code:N.invalid_type}),te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return D(r,{received:r.data,code:N.invalid_enum_value,options:n}),te}return Mt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ms.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ms.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ms.create=lw;class Vm extends ae{_parse(e){const r=le.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==U.string&&n.parsedType!==U.number){const s=le.objectValues(r);return D(n,{expected:le.joinValues(s),received:n.parsedType,code:N.invalid_type}),te}if(this._cache||(this._cache=new Set(le.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=le.objectValues(r);return D(n,{received:n.data,code:N.invalid_enum_value,options:s}),te}return Mt(e.data)}get enum(){return this._def.values}}Vm.create=(t,e)=>new Vm({values:t,typeName:re.ZodNativeEnum,...ne(e)});class za extends ae{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==U.promise&&r.common.async===!1)return D(r,{code:N.invalid_type,expected:U.promise,received:r.parsedType}),te;const n=r.parsedType===U.promise?r.data:Promise.resolve(r.data);return Mt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}za.create=(t,e)=>new za({type:t,typeName:re.ZodPromise,...ne(e)});class $s extends ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{D(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return te;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?te:l.status==="dirty"||r.value==="dirty"?ci(l.value):l});{if(r.value==="aborted")return te;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?te:a.status==="dirty"||r.value==="dirty"?ci(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?te:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?te:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ls(o))return te;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ls(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):te);le.assertNever(s)}}$s.create=(t,e,r)=>new $s({schema:t,typeName:re.ZodEffects,effect:e,...ne(r)});$s.createWithPreprocess=(t,e,r)=>new $s({schema:e,effect:{type:"preprocess",transform:t},typeName:re.ZodEffects,...ne(r)});class Xr extends ae{_parse(e){return this._getType(e)===U.undefined?Mt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xr.create=(t,e)=>new Xr({innerType:t,typeName:re.ZodOptional,...ne(e)});class Fs extends ae{_parse(e){return this._getType(e)===U.null?Mt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fs.create=(t,e)=>new Fs({innerType:t,typeName:re.ZodNullable,...ne(e)});class $c extends ae{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===U.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$c.create=(t,e)=>new $c({innerType:t,typeName:re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ne(e)});class Fc extends ae{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $a(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new kr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new kr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Fc.create=(t,e)=>new Fc({innerType:t,typeName:re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ne(e)});class Mm extends ae{_parse(e){if(this._getType(e)!==U.nan){const n=this._getOrReturnCtx(e);return D(n,{code:N.invalid_type,expected:U.nan,received:n.parsedType}),te}return{status:"valid",value:e.data}}}Mm.create=t=>new Mm({typeName:re.ZodNaN,...ne(t)});class mP extends ae{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ph extends ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?te:i.status==="dirty"?(r.dirty(),ci(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?te:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new ph({in:e,out:r,typeName:re.ZodPipeline})}}class Uc extends ae{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Ls(s)&&(s.value=Object.freeze(s.value)),s);return $a(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Uc.create=(t,e)=>new Uc({innerType:t,typeName:re.ZodReadonly,...ne(e)});var re;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(re||(re={}));const Jn=zr.create,ri=Vs.create;on.create;const gP=ir.create,uw=Le.create;Ua.create;Ba.create;Ln.create;const yP=Ms.create;za.create;Xr.create;Fs.create;const vP=uw({sex:yP(["male","female"]),age:ri().min(14).max(99),heightFeet:ri().min(3).max(8).optional(),heightInches:ri().min(0).max(11).optional(),heightCm:ri().min(120).max(230).optional(),weight:ri().min(80).max(500)});function wP({onNext:t}){const{form:e,units:r,setFormField:n}=Er(),{register:s,handleSubmit:i,formState:{errors:o}}=po({resolver:iw(vP),defaultValues:{sex:e.sex,age:e.age,heightFeet:e.heightFeet,heightInches:e.heightInches,heightCm:e.heightCm,weight:e.weight},mode:"onBlur"}),a=l=>{n("sex",l.sex),n("age",l.age),r==="imperial"?(n("heightFeet",l.heightFeet),n("heightInches",l.heightInches)):n("heightCm",l.heightCm),n("weight",l.weight),t()};return f.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display font-bold text-dark mb-2",children:"Let's Get Started"}),f.jsx("p",{className:"text-gray-600",children:"Basic information about you"})]}),f.jsxs("form",{onSubmit:i(a),className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Sex"}),f.jsxs("select",{...s("sex"),className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20",children:[f.jsx("option",{value:"male",children:"Male"}),f.jsx("option",{value:"female",children:"Female"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Age"}),f.jsx("input",{type:"number",...s("age",{valueAsNumber:!0}),min:"14",max:"99",className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20"}),o.age&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.age.message})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-semibold text-dark mb-2",children:["Height ",r==="imperial"?"(feet & inches)":"(cm)"]}),r==="imperial"?f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("div",{children:f.jsx("input",{type:"number",...s("heightFeet",{valueAsNumber:!0}),min:"3",max:"8",placeholder:"Feet",className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20"})}),f.jsx("div",{children:f.jsx("input",{type:"number",...s("heightInches",{valueAsNumber:!0}),min:"0",max:"11",placeholder:"Inches",className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20"})})]}):f.jsx("input",{type:"number",...s("heightCm",{valueAsNumber:!0}),min:"120",max:"230",placeholder:"Centimeters",className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20"}),(o.heightFeet||o.heightInches||o.heightCm)&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Please enter valid height"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-semibold text-dark mb-2",children:["Weight ",r==="imperial"?"(lbs)":"(kg)"]}),f.jsx("input",{type:"number",...s("weight",{valueAsNumber:!0}),step:"0.1",min:"80",max:"500",className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20"}),o.weight&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.weight.message})]}),f.jsx("button",{type:"submit",className:"w-full btn-primary",children:"Continue to Activity Level"})]})]})}function xP({onNext:t,onPrev:e}){const{form:r,units:n,setFormField:s}=Er(),{register:i,handleSubmit:o,watch:a}=po({defaultValues:{lifestyle:r.lifestyle,exercise:r.exercise},mode:"onChange"}),l=a("lifestyle"),u=a("exercise"),c=n==="imperial"?Tv(r.heightFeet||5,r.heightInches||10):r.heightCm||178,d=Sv(r.sex,r.age,r.weight,c),h=Ev(d,parseFloat(l),parseFloat(u)),p=(parseFloat(l)+parseFloat(u)).toFixed(2),y=w=>{s("lifestyle",w.lifestyle),s("exercise",w.exercise),t()};return f.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display font-bold text-dark mb-2",children:"Your Activity Level"}),f.jsx("p",{className:"text-gray-600",children:"How active is your daily life?"})]}),f.jsxs("form",{onSubmit:o(y),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Daily Lifestyle"}),f.jsxs("select",{...i("lifestyle"),className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20",children:[f.jsx("option",{value:"1.2",children:"Desk job, minimal walking"}),f.jsx("option",{value:"1.3",children:"Desk job, walk 30-60 min/day"}),f.jsx("option",{value:"1.4",children:"Standing job (retail, teaching)"}),f.jsx("option",{value:"1.5",children:"Active job (server, nurse, on feet)"}),f.jsx("option",{value:"1.6",children:"Physical labor (construction, farming)"})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Your occupation, not gym time"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Structured Exercise"}),f.jsxs("select",{...i("exercise"),className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20",children:[f.jsx("option",{value:"0",children:"None"}),f.jsx("option",{value:"0.1",children:"1-2x/week, light (walking, yoga)"}),f.jsx("option",{value:"0.2",children:"3-4x/week, moderate (lifting, jogging)"}),f.jsx("option",{value:"0.3",children:"4-5x/week, intense (CrossFit, HIIT)"}),f.jsx("option",{value:"0.4",children:"6-7x/week, athlete (serious training)"})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Gym sessions only, not daily movement"})]}),f.jsxs(G.div,{layout:!0,className:"bg-gradient-to-r from-secondary/20 to-secondary/10 border border-secondary/30 rounded-lg p-4 space-y-3",children:[f.jsxs("p",{className:"text-sm text-dark",children:[f.jsx("span",{className:"font-semibold",children:"Total Activity Multiplier:"})," ",p,"x BMR"]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("div",{className:"bg-white rounded p-3 text-center",children:[f.jsx("p",{className:"text-xs text-gray-500",children:"BMR"}),f.jsx("p",{className:"text-lg font-bold text-primary",children:Math.round(d)}),f.jsx("p",{className:"text-xs text-gray-500",children:"cal/day"})]}),f.jsxs("div",{className:"bg-white rounded p-3 text-center",children:[f.jsx("p",{className:"text-xs text-gray-500",children:"TDEE"}),f.jsx("p",{className:"text-lg font-bold text-primary",children:Math.round(h)}),f.jsx("p",{className:"text-xs text-gray-500",children:"cal/day"})]}),f.jsxs("div",{className:"bg-white rounded p-3 text-center",children:[f.jsx("p",{className:"text-xs text-gray-500",children:"Multiplier"}),f.jsxs("p",{className:"text-lg font-bold text-primary",children:[p,"x"]})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:e,className:"flex-1 btn-secondary",children:"Back"}),f.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:"Continue to Diet"})]})]})]})}function _P({onNext:t,onPrev:e,onShowResults:r}){const{form:n,units:s,setFormField:i,setMacros:o}=Er(),{register:a,handleSubmit:l,watch:u}=po({defaultValues:{goal:n.goal,deficit:n.deficit,diet:n.diet,ratio:n.ratio,proteinMin:n.proteinMin,netCarbs:n.netCarbs},mode:"onChange"}),c=u("goal"),d=u("deficit"),h=u("diet"),p=u("ratio"),y=u("netCarbs"),w=s==="imperial"?Tv(n.heightFeet||5,n.heightInches||10):n.heightCm||178,b=Sv(n.sex,n.age,n.weight,w),v=Ev(b,parseFloat(n.lifestyle),parseFloat(n.exercise)),m=typeof d=="string"?parseFloat(d):d||0,g=typeof y=="string"?parseFloat(y):y,_=tE(v,c,m,h,p,n.proteinMin,g),S=C=>{i("goal",C.goal),i("deficit",C.deficit),i("diet",C.diet),h==="carnivore"?i("ratio",C.ratio):i("netCarbs",C.netCarbs),o(_),r(_)},T=c==="lose"?"Calorie Deficit (%)":c==="gain"?"Calorie Surplus (%)":"Adjustment (%)";return f.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display font-bold text-dark mb-2",children:"Your Goals & Diet"}),f.jsx("p",{className:"text-gray-600",children:"Customize macros for your specific goal"})]}),f.jsxs("form",{onSubmit:l(S),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Goal"}),f.jsxs("select",{...a("goal"),className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20",children:[f.jsx("option",{value:"lose",children:"Lose Fat"}),f.jsx("option",{value:"maintain",children:"Maintain Weight"}),f.jsx("option",{value:"gain",children:"Gain Muscle"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:T}),f.jsx("input",{type:"number",...a("deficit",{valueAsNumber:!0}),min:"0",max:"40",step:"5",className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20"}),f.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"15-25% is sustainable for most people"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Diet Style"}),f.jsxs("select",{...a("diet"),className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20",children:[f.jsx("option",{value:"carnivore",children:"Carnivore (0-5g carbs)"}),f.jsx("option",{value:"keto",children:"Keto (~20g net carbs)"}),f.jsx("option",{value:"lowcarb",children:"Low-Carb (~75g net carbs)"})]})]}),h==="carnivore"&&f.jsx("div",{className:"space-y-4 p-4 bg-secondary/10 rounded-lg border border-secondary/30",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Fat/Protein Ratio"}),f.jsxs("select",{...a("ratio"),className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20",children:[f.jsx("option",{value:"65-35",children:"65% fat / 35% protein (leaner)"}),f.jsx("option",{value:"70-30",children:"70% fat / 30% protein (standard)"}),f.jsx("option",{value:"80-20",children:"80% fat / 20% protein (therapeutic)"})]})]})}),(h==="keto"||h==="lowcarb")&&f.jsx("div",{className:"space-y-4 p-4 bg-secondary/10 rounded-lg border border-secondary/30",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Net Carbs (g/day)"}),f.jsx("input",{type:"number",...a("netCarbs",{valueAsNumber:!0}),min:"0",max:"150",className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20"})]})}),f.jsxs(G.div,{layout:!0,className:"bg-gradient-to-r from-primary/5 to-secondary/5 border-2 border-primary rounded-lg p-6 space-y-4",children:[f.jsx("h3",{className:"font-semibold text-dark text-center",children:"Your Personalized Macros"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Calories"}),f.jsx("p",{className:"text-3xl font-bold text-primary",children:_.calories}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"kcal/day"})]}),f.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"TDEE"}),f.jsx("p",{className:"text-3xl font-bold text-secondary",children:_.tdee}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"maintenance"})]}),f.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Protein"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[_.protein,"g"]})]}),f.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Fat"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[_.fat,"g"]})]}),f.jsxs("div",{className:"bg-white rounded-lg p-4 text-center col-span-2",children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Net Carbs"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[_.carbs,"g"]})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:e,className:"flex-1 btn-secondary",children:"Back"}),f.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:"See Results"})]})]})]})}const bP=uw({email:Jn().email("Valid email required"),firstName:Jn().optional(),medications:Jn().optional(),conditions:gP(Jn()).optional(),allergies:Jn().optional(),avoidFoods:Jn().optional()}),kP=[{id:"diabetes",label:"Type 2 Diabetes / Pre-diabetes"},{id:"thyroid",label:"Thyroid Issues (Hashimoto's, hypothyroid)"},{id:"autoimmune",label:"Autoimmune Condition"},{id:"gut",label:"Digestive Issues (IBS, Crohn's, colitis)"},{id:"heart",label:"Heart/Cardiovascular Condition"},{id:"weight",label:"Significant Weight Issues"}];function SP({onNext:t,onPrev:e}){const{form:r,setFormField:n}=Er(),{register:s,handleSubmit:i,watch:o,formState:{errors:a}}=po({resolver:iw(bP),defaultValues:{email:r.email,firstName:r.firstName,medications:r.medications,conditions:r.conditions||[],allergies:r.allergies,avoidFoods:r.avoidFoods},mode:"onBlur"});o("conditions");const l=u=>{n("email",u.email),n("firstName",u.firstName),n("medications",u.medications),n("conditions",u.conditions),n("allergies",u.allergies),n("avoidFoods",u.avoidFoods),t()};return f.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display font-bold text-dark mb-2",children:"Health & Medical Info"}),f.jsx("p",{className:"text-gray-600",children:"Help us personalize your protocol (optional)"})]}),f.jsxs("form",{onSubmit:i(l),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Email Address *"}),f.jsx("input",{type:"email",...s("email"),placeholder:"your@email.com",className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20"}),a.email&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.email.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"First Name (optional)"}),f.jsx("input",{type:"text",...s("firstName"),placeholder:"e.g., John",className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Current Medications (optional)"}),f.jsx("textarea",{...s("medications"),placeholder:"e.g., Metformin for diabetes, levothyroxine for thyroid...",rows:3,className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20 resize-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-3",children:"Existing Health Conditions (optional)"}),f.jsx("div",{className:"space-y-2",children:kP.map(({id:u,label:c})=>f.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer",children:[f.jsx("input",{type:"checkbox",value:u,...s("conditions"),className:"w-5 h-5 rounded border-secondary text-primary"}),f.jsx("span",{className:"text-sm text-dark",children:c})]},u))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Food Allergies (optional)"}),f.jsx("textarea",{...s("allergies"),placeholder:"e.g., Shellfish allergy, lactose intolerant, egg allergy",rows:3,className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20 resize-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Foods You Can't/Won't Eat (optional)"}),f.jsx("textarea",{...s("avoidFoods"),placeholder:"e.g., Don't like fish, can't digest dairy, won't eat organ meat",rows:3,className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20 resize-none"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:e,className:"flex-1 btn-secondary",children:"Back"}),f.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:"Continue"})]})]})]})}const EP=[{id:"weightloss",label:"Weight Loss"},{id:"muscle",label:"Build Muscle"},{id:"energy",label:"More Energy"},{id:"mental",label:"Mental Clarity / Focus"},{id:"guthealth",label:"Fix Gut Health"},{id:"inflammation",label:"Reduce Inflammation"}];function TP({onNext:t,onPrev:e}){const{form:r,setFormField:n}=Er(),{register:s,handleSubmit:i,watch:o}=po({defaultValues:{previousDiets:r.previousDiets,carnivoreExperience:r.carnivoreExperience,selectedProtocol:r.selectedProtocol,goals:r.goals||[],additionalNotes:r.additionalNotes},mode:"onChange"}),a=o("goals")||[],l=u=>{n("previousDiets",u.previousDiets),n("carnivoreExperience",u.carnivoreExperience),n("selectedProtocol",u.selectedProtocol),n("goals",u.goals),n("additionalNotes",u.additionalNotes),t()};return f.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display font-bold text-dark mb-2",children:"Goals & Preferences"}),f.jsx("p",{className:"text-gray-600",children:"What matters most to you? (optional)"})]}),f.jsxs("form",{onSubmit:i(l),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Previous Diets Tried (optional)"}),f.jsx("textarea",{...s("previousDiets"),placeholder:"e.g., Keto for 6 months (lost weight but plateaued), vegan (felt terrible)...",rows:3,className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20 resize-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Carnivore Experience (optional)"}),f.jsxs("select",{...s("carnivoreExperience"),className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20",children:[f.jsx("option",{value:"",children:"Select one..."}),f.jsx("option",{value:"never",children:"Never tried carnivore"}),f.jsx("option",{value:"dabbled",children:"Tried it briefly (days/weeks)"}),f.jsx("option",{value:"months",children:"Did it for months"}),f.jsx("option",{value:"current",children:"Currently on carnivore"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Which Protocol Interests You? (optional)"}),f.jsxs("select",{...s("selectedProtocol"),className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20",children:[f.jsx("option",{value:"",children:"Select one..."}),f.jsx("option",{value:"carnivore",children:"Carnivore (beef, poultry, fish, eggs, dairy)"}),f.jsx("option",{value:"pescatarian",children:"Pescatarian Carnivore (fish, eggs, dairy only)"}),f.jsx("option",{value:"lion",children:"Lion Diet (beef, salt, water only)"}),f.jsx("option",{value:"keto",children:"Keto (low-carb, includes some plants)"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-3",children:"Primary Goals - Select Top 3 (optional)"}),f.jsx("div",{className:"space-y-2",children:EP.map(({id:u,label:c})=>f.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer",children:[f.jsx("input",{type:"checkbox",value:u,...s("goals"),disabled:a.length>=3&&!a.includes(u),className:"w-5 h-5 rounded border-secondary text-primary disabled:opacity-50"}),f.jsx("span",{className:"text-sm text-dark",children:c})]},u))}),a.length>0&&f.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Selected: ",a.length,"/3"]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Anything Else We Should Know? (optional)"}),f.jsx("textarea",{...s("additionalNotes"),placeholder:"Any other preferences, constraints, or information that would help us personalize your protocol...",rows:3,className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20 resize-none"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:e,className:"flex-1 btn-secondary",children:"Back"}),f.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:"Continue"})]})]})]})}function CP({currentStep:t,totalSteps:e,labels:r}){const n=t/e*100;return f.jsxs("div",{className:"space-y-3 mb-8",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("h3",{className:"text-sm font-semibold text-dark",children:["Step ",t," of ",e]}),f.jsx("p",{className:"text-xs text-gray-500",children:r[t-1]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:f.jsx(G.div,{className:"h-full bg-gradient-to-r from-primary to-secondary",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.3}})}),f.jsx("div",{className:"flex justify-between items-center",children:r.map((s,i)=>f.jsx("div",{className:`text-xs font-medium ${i<t?"text-primary":i===t-1?"text-dark":"text-gray-400"}`,children:i+1},i))})]})}function $m({macros:t,loading:e}){if(!t)return null;const r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},n={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}};return f.jsxs(G.div,{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",variants:r,initial:"hidden",animate:"visible",children:[f.jsx("h3",{className:"font-semibold text-dark text-center mb-4",children:"Your Macros Preview"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs(G.div,{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 text-center",variants:n,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Daily Calories"}),f.jsx("p",{className:"text-2xl font-bold text-primary",children:t.calories}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"kcal"})]}),f.jsxs(G.div,{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-4 text-center",variants:n,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Maintenance"}),f.jsx("p",{className:"text-2xl font-bold text-primary",children:t.tdee}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"TDEE"})]}),f.jsxs(G.div,{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 text-center",variants:n,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Protein"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[t.protein,"g"]})]}),f.jsxs(G.div,{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 text-center",variants:n,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Fat"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[t.fat,"g"]})]}),f.jsxs(G.div,{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 text-center",variants:n,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Carbs"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[t.carbs,"g"]})]}),f.jsxs(G.div,{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 text-center",variants:n,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Macro Split"}),f.jsxs("p",{className:"text-sm font-bold text-primary",children:[Math.round(t.fat*9/t.calories*100),"%"]}),f.jsx("p",{className:"text-xs text-gray-500",children:"fat"})]})]}),e&&f.jsx("div",{className:"text-center py-4",children:f.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),AP=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>P.createElement("svg",{ref:c,...jP,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${PP(t)}`,a].join(" "),...u},[...e.map(([d,h])=>P.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=AP("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function RP({title:t,price:e,description:r,features:n,popular:s=!1,onClick:i}){return f.jsxs(G.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`rounded-xl p-6 transition-all ${s?"bg-gradient-to-br from-primary to-primary/90 text-white border-2 border-secondary shadow-2xl":"bg-white border-2 border-gray-200 hover:border-secondary text-dark"}`,children:[s&&f.jsx("div",{className:"bg-secondary text-primary text-xs font-bold px-3 py-1 rounded-full w-fit mb-4",children:"Most Popular"}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:t}),r&&f.jsx("p",{className:`text-sm mb-4 ${s?"text-white/80":"text-gray-600"}`,children:r}),f.jsxs("div",{className:"mb-6",children:[f.jsx("span",{className:"text-4xl font-bold",children:e}),e!=="Free"&&f.jsx("span",{className:`text-sm ml-2 ${s?"text-white/80":"text-gray-600"}`,children:"one-time"})]}),f.jsx("ul",{className:"space-y-3 mb-6",children:n.map((o,a)=>f.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[f.jsx(NP,{className:"w-5 h-5 flex-shrink-0"}),f.jsx("span",{children:o})]},a))}),f.jsx("button",{onClick:i,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all ${s?"bg-secondary text-primary hover:bg-secondary/90":"bg-primary text-accent hover:bg-primary/90"}`,children:"Choose Plan"})]})}function OP({tierId:t,tierTitle:e,tierPrice:r,onSuccess:n,onCancel:s}){const[i,o]=P.useState(!1),[a,l]=P.useState("4242 4242 4242 4242"),[u,c]=P.useState("12/25"),[d,h]=P.useState("123"),p=async y=>{y.preventDefault(),o(!0),await new Promise(w=>setTimeout(w,2e3)),o(!1),n()};return f.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs(G.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",children:[f.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/90 text-accent p-6",children:[f.jsx("button",{onClick:s,disabled:i,className:"absolute top-4 right-4 text-2xl hover:opacity-80 disabled:opacity-50",children:""}),f.jsx("h2",{className:"text-2xl font-display font-bold mb-1",children:"Complete Payment"}),f.jsx("p",{className:"text-accent/80 text-sm",children:"Mock payment for testing"})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-dark",children:e}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Plan ID: ",t]})]}),f.jsx("p",{className:"text-lg font-bold text-primary",children:r})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600",children:"Subtotal"}),f.jsx("span",{className:"font-semibold",children:r})]}),f.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[f.jsx("span",{className:"text-gray-600",children:"Tax"}),f.jsx("span",{className:"font-semibold",children:"$0.00"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-dark mt-2 pt-2 border-t border-gray-200",children:[f.jsx("span",{children:"Total"}),f.jsx("span",{children:r})]})]})]}),f.jsxs(G.form,{onSubmit:p,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Card Number"}),f.jsx("input",{type:"text",value:a,onChange:y=>l(y.target.value),disabled:i,className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20 disabled:bg-gray-100 disabled:opacity-50",placeholder:"4242 4242 4242 4242"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" This is a test form. Use any card number."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"Expiry"}),f.jsx("input",{type:"text",value:u,onChange:y=>c(y.target.value),disabled:i,className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20 disabled:bg-gray-100 disabled:opacity-50",placeholder:"MM/YY"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-2",children:"CVC"}),f.jsx("input",{type:"text",value:d,onChange:y=>h(y.target.value),disabled:i,className:"w-full px-4 py-3 rounded-lg border border-secondary/30 focus:border-secondary focus:ring-2 focus:ring-secondary/20 disabled:bg-gray-100 disabled:opacity-50",placeholder:"123"})]})]}),i&&f.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[f.jsx("div",{className:"inline-block",children:f.jsx(G.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}),f.jsx("p",{className:"text-sm font-semibold text-dark mt-2",children:"Processing payment..."})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:s,disabled:i,className:"flex-1 px-4 py-3 rounded-lg border-2 border-secondary text-dark font-semibold hover:bg-secondary/10 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-3 rounded-lg bg-gradient-to-r from-primary to-primary/90 text-accent font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition",children:i?"Processing...":"Pay "+r})]})]}),f.jsx("p",{className:"text-xs text-gray-500 text-center",children:" This is a mock payment form for testing. No actual charges will be made."})]})]})})}const Fm=[{id:"bundle",title:"Complete Protocol Bundle",price:"$9.99",popular:!0,description:"Everything included",features:["13-section personalized protocol","30-day meal plan with recipes","Weekly shopping lists","Doctor consultation guide","Macro & electrolyte calculations","AI-customized obstacle protocol","Adaptation timeline"]},{id:"meal_plan",title:"30-Day Meal Plan",price:"$27",description:"Just meals",features:["30-day meal plan with variety","Recipe suggestions","Ingredient macros","Based on your preferences"]},{id:"shopping",title:"Shopping Lists",price:"$19",description:"Grocery focused",features:["4-week organized lists","Budget-aware options","Macro tracking","Store organization"]},{id:"doctor",title:"Doctor Script",price:"$15",description:"Talk to your MD",features:["Medication review","Lab work discussion","Safety talking points","Doctor conversation guide"]}];function IP({onClose:t,onProceed:e}){const{sessionToken:r}=Er(),[n,s]=P.useState(null),i=()=>Fm.find(c=>c.id===n),o=c=>{s(c)},a=async()=>{n&&(await ja.from("user_sessions").update({pricing_tier:n}).eq("session_token",r),s(null),e(n))},l=()=>{s(null)},u=i();return f.jsxs(f.Fragment,{children:[f.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs(G.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-primary to-primary/90 text-accent p-8 border-b-2 border-secondary",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-2xl hover:opacity-80",children:""}),f.jsx("h2",{className:"text-3xl font-display font-bold mb-2",children:"Choose Your Plan"}),f.jsx("p",{className:"text-accent/80",children:"Select the features that matter most to you"})]}),f.jsxs("div",{className:"p-8",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Fm.map(c=>f.jsx(RP,{title:c.title,price:c.price,description:c.description,features:c.features,popular:c.popular,onClick:()=>o(c.id)},c.id))}),f.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-r from-secondary/10 to-primary/10 rounded-lg p-6 border border-secondary/30",children:[f.jsx("h3",{className:"font-bold text-dark mb-4",children:"What You Get"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-dark mb-2",children:" Every Plan Includes"}),f.jsxs("ul",{className:"text-sm space-y-1 text-gray-600",children:[f.jsx("li",{children:" Personalized macro calculations"}),f.jsx("li",{children:" Your calorie targets"}),f.jsx("li",{children:" Instant results"})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-dark mb-2",children:" Value Breakdown"}),f.jsxs("ul",{className:"text-sm space-y-1 text-gray-600",children:[f.jsx("li",{children:"Complete bundle: $298 value"}),f.jsx("li",{children:"Your price: $9.99"}),f.jsx("li",{children:"Save: 96.6%"})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-dark mb-2",children:" 100% Money Back"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Not satisfied? Full refund within 7 days, no questions asked."})]})]})]})]})]})}),f.jsx(Z0,{children:n&&u&&f.jsx(OP,{tierId:n,tierTitle:u.title,tierPrice:u.price,onSuccess:a,onCancel:l})})]})}function DP({onRestart:t}){const{form:e,macros:r}=Er();return f.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8 text-center",children:[f.jsx(G.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"flex justify-center",children:f.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-5xl",children:""})})}),f.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:[f.jsx("h1",{className:"text-4xl font-display font-bold text-dark mb-2",children:"Your Protocol is Ready!"}),f.jsx("p",{className:"text-lg text-gray-600",children:"We're generating your personalized carnivore protocol"})]}),f.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-r from-primary/5 to-secondary/5 rounded-lg p-8 border-2 border-primary/30",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Calorie Target"}),f.jsx("p",{className:"text-3xl font-bold text-primary",children:(r==null?void 0:r.calories)||""}),f.jsx("p",{className:"text-xs text-gray-500",children:"kcal/day"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Protein"}),f.jsxs("p",{className:"text-3xl font-bold text-primary",children:[(r==null?void 0:r.protein)||"","g"]}),f.jsx("p",{className:"text-xs text-gray-500",children:"per day"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Fat"}),f.jsxs("p",{className:"text-3xl font-bold text-primary",children:[(r==null?void 0:r.fat)||"","g"]}),f.jsx("p",{className:"text-xs text-gray-500",children:"per day"})]})]}),f.jsxs("div",{className:"border-t border-primary/30 pt-6",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Your Report Includes:"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left",children:[f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary font-bold",children:""}),f.jsx("span",{className:"text-sm text-gray-700",children:"13-section protocol"})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary font-bold",children:""}),f.jsx("span",{className:"text-sm text-gray-700",children:"30-day meal plan"})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary font-bold",children:""}),f.jsx("span",{className:"text-sm text-gray-700",children:"Shopping lists"})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary font-bold",children:""}),f.jsx("span",{className:"text-sm text-gray-700",children:"Doctor script"})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary font-bold",children:""}),f.jsx("span",{className:"text-sm text-gray-700",children:"Personalized tips"})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary font-bold",children:""}),f.jsx("span",{className:"text-sm text-gray-700",children:"Adaptation guide"})]})]})]})]}),f.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[f.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Email:"})," ",e.email||"Not provided"]}),f.jsx("p",{className:"text-xs text-gray-600",children:"Your complete protocol will be sent to this email within 1 minute"})]}),f.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1},className:"flex flex-col gap-3",children:[f.jsx("button",{onClick:t,className:"btn-primary w-full",children:"Create Another Protocol"}),f.jsx("p",{className:"text-xs text-gray-500",children:"Check your email for your complete personalized protocol"})]}),f.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"pt-4",children:[f.jsxs("div",{className:"flex justify-center gap-2",children:[f.jsx(G.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-2 h-2 bg-primary rounded-full"}),f.jsx(G.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.2},className:"w-2 h-2 bg-secondary rounded-full"}),f.jsx(G.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.4},className:"w-2 h-2 bg-primary rounded-full"})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Generating your report..."})]})]})}const ni=["Quick Start Protocol","Macronutrient Targets","30-Day Meal Plan","Weekly Shopping Lists","Food Quality Standards","Supplement Recommendations","Lab Work & Testing","Common Issues & Solutions","Doctor Conversation Guide","Tracking & Metrics","Adaptation Timeline","Obstacle Protocol","Community Resources"],Um=5e4;function LP({isComplete:t=!1}){const[e,r]=P.useState(0),[n,s]=P.useState(0),[i,o]=P.useState(0);P.useEffect(()=>{if(t){r(100),s(ni.length);return}const l=setInterval(()=>{o(u=>{const c=u+1,d=c/Um*100,h=Math.random()*2,p=Math.min(d+h,98),y=Math.floor(p/100*ni.length);return s(Math.min(y,ni.length-1)),r(p),c})},1e3);return()=>clearInterval(l)},[t]);const a=Math.max(1,Math.ceil((100-e)/100*Um/1e3));return f.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8 py-12",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("h2",{className:"text-3xl font-display font-bold text-dark",children:"Generating Your Protocol"}),f.jsx("p",{className:"text-gray-600",children:"Creating your personalized 13-section carnivore protocol..."})]}),f.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"space-y-4",children:[f.jsxs("div",{className:"flex items-end justify-between",children:[f.jsx("span",{className:"text-sm font-semibold text-dark",children:"Progress"}),f.jsxs("span",{className:"text-sm font-semibold text-primary",children:[Math.round(e),"%"]})]}),f.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:f.jsx(G.div,{initial:{width:0},animate:{width:`${e}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-primary to-secondary rounded-full"})}),f.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[f.jsxs("span",{children:["Estimated time remaining: ",a,"s"]}),f.jsxs("span",{children:[n," of ",ni.length," sections"]})]})]}),f.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-primary/5 to-secondary/5 rounded-lg p-6 border border-primary/20",children:[f.jsx("p",{className:"text-sm font-semibold text-dark mb-4",children:"Report Sections Being Generated:"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ni.map((l,u)=>f.jsxs(G.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:u*.05},className:"flex items-center gap-3",children:[f.jsx(G.div,{initial:{scale:0},animate:{scale:u<n?1:.8},className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center font-bold text-sm ${u<n?"bg-green-500 text-white":u===n?"bg-primary text-white animate-pulse":"bg-gray-300 text-gray-500"}`,children:u<n?f.jsx(G.span,{initial:{scale:0},animate:{scale:1},className:"text-lg",children:""}):u===n?f.jsx(G.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-3 h-3 border-2 border-transparent border-t-white rounded-full"}):u+1}),f.jsx("span",{className:`text-sm font-medium ${u<n?"text-green-600 line-through":"text-dark"}`,children:l})]},l))})]}),f.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center",children:f.jsx("p",{className:"text-sm text-gray-600",children:" Our AI is analyzing your health data and crafting personalized recommendations..."})})]})}function VP({accessToken:t}){const[e,r]=P.useState(""),[n,s]=P.useState(!0),[i,o]=P.useState("");return P.useEffect(()=>{(async()=>{try{s(!0),console.log("Fetching report with token:",t);const l=`https://kwtdpvnjewtahuxjyltn.supabase.co/rest/v1/generated_reports?access_token=eq.${t}&select=report_html`;console.log("Fetching from:",l);const u=await fetch(l,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3dGRwdm5qZXd0YWh1eGp5bHRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQxNjA2NDMsImV4cCI6MTg5MTgyNzI0M30.qyZNTfEcTbTqXhDPZqWKJ0J2pI5rTf6Q8VTk2xvCIZc"}});if(console.log("Response status:",u.status),!u.ok){const d=await u.text();throw console.error("API Error:",d),new Error(`Failed to load report: ${u.status} ${d}`)}const c=await u.json();if(console.log("Response data:",c),!c||c.length===0)throw new Error("Report not found in database");if(!c[0].report_html)throw new Error("Report HTML is empty");r(c[0].report_html),o("")}catch(l){const u=l instanceof Error?l.message:"Failed to load report";console.error("Report fetch error:",u),o(u)}finally{s(!1)}})()},[t]),n?f.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4 p-8",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(G.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}),f.jsx("p",{className:"text-center text-gray-600 font-semibold",children:"Loading your personalized report..."})]}):i?f.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-50 border border-red-200 rounded-lg p-8 text-center",children:[f.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Unable to load report"}),f.jsx("p",{className:"text-red-500 text-sm",children:i})]}):f.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[f.jsx("div",{className:"prose prose-sm max-w-none p-8",dangerouslySetInnerHTML:{__html:e}}),f.jsxs("div",{className:"border-t border-gray-200 p-6 flex gap-4 justify-center",children:[f.jsx("button",{onClick:()=>window.print(),className:"btn-primary",children:" Print Report"}),f.jsx("button",{onClick:()=>{const a=document.createElement("a");a.href=`data:text/html;charset=utf-8,${encodeURIComponent(e)}`,a.download="carnivore-protocol.html",a.click()},className:"btn-secondary",children:" Download Report"})]})]})}const Bm={FREE:["Basics","Activity","Results"],PREMIUM:["Basics","Activity","Results","Health","Goals"]};function MP(){const{currentStep:t,setCurrentStep:e,isPremium:r,setIsPremium:n,macros:s,sessionToken:i,form:o}=Er(),[a,l]=P.useState(!1),[u,c]=P.useState(!1),[d,h]=P.useState(null),[p,y]=P.useState(!1),[w,b]=P.useState(!1),[v,m]=P.useState(null),g=r?Bm.PREMIUM:Bm.FREE,_=g.length;P.useEffect(()=>{const H=setInterval(()=>{i&&XS(i,{})},5e3);return()=>clearInterval(H)},[i]);const S=()=>{t<_&&e(t+1)},T=()=>{t>1&&e(t-1)},C=H=>{h(H),c(!0),e(3)},j=async()=>{n(!0),l(!0)},L=async()=>{c(!1),e(4)},F=async()=>{l(!1),e(4)},ve=async()=>{b(!0);try{console.log("Submitting premium form to API...");const H=await fetch("https://carnivore-report-api-production.iambrew.workers.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,sessionToken:i})});if(!H.ok)throw new Error("Failed to generate report");const ee=await H.json();if(ee.success&&ee.accessToken)console.log("Report generated successfully:",ee.accessToken),m(ee.accessToken),y(!0);else throw new Error(ee.error||"Failed to generate report")}catch(H){console.error("Error generating report:",H),alert("Failed to generate report. Please try again."),b(!1)}},W=()=>{e(1),y(!1),c(!1),n(!1)};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4",children:[f.jsxs("div",{className:"max-w-2xl mx-auto",children:[f.jsxs(G.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[f.jsx("h1",{className:"font-display text-4xl font-bold text-dark mb-2",children:"Carnivore Calculator"}),f.jsx("p",{className:"text-gray-600",children:r?"Get your complete personalized protocol":"Calculate your perfect macros"})]}),f.jsx(CP,{currentStep:t,totalSteps:_,labels:g}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx(G.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-8",children:f.jsxs(Z0,{mode:"wait",children:[t===1&&f.jsx(wP,{onNext:S},"step1"),t===2&&f.jsx(xP,{onNext:S,onPrev:T},"step2"),t===3&&!u&&f.jsx(_P,{onNext:S,onPrev:T,onShowResults:C},"step3"),t===3&&u&&f.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-display font-bold text-dark",children:"Your Results"}),f.jsx($m,{macros:d}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:()=>c(!1),className:"w-full btn-secondary text-sm",children:" Adjust Macros"}),r?f.jsx("button",{onClick:L,className:"w-full btn-primary",children:"Continue to Details "}):f.jsx("button",{onClick:j,className:"w-full bg-gradient-to-r from-primary to-primary/90 text-accent font-semibold py-3 px-4 rounded-lg hover:from-primary/90 hover:to-primary/80 transition-all",children:" Upgrade for Full Protocol"})]})]}),t===4&&r&&f.jsx(SP,{onNext:S,onPrev:T},"step4"),t===5&&r&&!p&&!w&&f.jsx(TP,{onNext:ve,onPrev:T},"step5"),w&&f.jsx(LP,{isComplete:p},"generating"),p&&v&&f.jsx(VP,{accessToken:v},"report"),p&&!v&&!w&&f.jsx(DP,{onRestart:W},"completion")]})},`step-${t}`)}),f.jsxs("div",{className:"lg:col-span-1",children:[s&&t!==3&&f.jsx($m,{macros:s}),f.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-8 bg-white rounded-lg shadow-lg p-6 space-y-3",children:[f.jsx("h3",{className:"font-semibold text-dark mb-4",children:"Why Trust Us"}),f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"text-green-500 font-bold",children:""}),f.jsx("span",{className:"text-gray-700",children:"Data encrypted & private"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"text-green-500 font-bold",children:""}),f.jsx("span",{className:"text-gray-700",children:"Used by 50k+ carnivores"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"text-green-500 font-bold",children:""}),f.jsx("span",{className:"text-gray-700",children:" 4.9/5 stars"})]})]})]})]})]}),a&&f.jsx(IP,{onClose:()=>l(!1),onProceed:F})]})}function $P(){const{setSessionToken:t,setUnits:e,setIsPremium:r}=Er();return P.useEffect(()=>{async function n(){try{const s=await QS();t(s.session_token);const i=eE(),o=rE(i);e(o);const a=new URLSearchParams(window.location.search),l=a.get("payment"),u=a.get("session");l==="success"&&u&&(r(!0),window.history.replaceState({},"",window.location.pathname))}catch(s){console.error("Failed to initialize app:",s)}}n()},[t,e,r]),f.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100",children:f.jsx(MP,{})})}vu.createRoot(document.getElementById("root")).render(f.jsx(Ge.StrictMode,{children:f.jsx($P,{})}));
