(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pf={exports:{}},ko={},jf={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),Oy=Symbol.for("react.portal"),Iy=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),Ly=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),My=Symbol.for("react.context"),Uy=Symbol.for("react.forward_ref"),Vy=Symbol.for("react.suspense"),Fy=Symbol.for("react.memo"),By=Symbol.for("react.lazy"),$c=Symbol.iterator;function zy(e){return e===null||typeof e!="object"?null:(e=$c&&e[$c]||e["@@iterator"],typeof e=="function"?e:null)}var Rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Af=Object.assign,Nf={};function Ur(e,t,n){this.props=e,this.context=t,this.refs=Nf,this.updater=n||Rf}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Of(){}Of.prototype=Ur.prototype;function gu(e,t,n){this.props=e,this.context=t,this.refs=Nf,this.updater=n||Rf}var yu=gu.prototype=new Of;yu.constructor=gu;Af(yu,Ur.prototype);yu.isPureReactComponent=!0;var Mc=Array.isArray,If=Object.prototype.hasOwnProperty,vu={current:null},Df={key:!0,ref:!0,__self:!0,__source:!0};function Lf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)If.call(t,r)&&!Df.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ks,type:e,key:i,ref:o,props:s,_owner:vu.current}}function Wy(e,t){return{$$typeof:Ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ks}function Hy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uc=/\/+/g;function ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hy(""+e.key):t.toString(36)}function Pi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ks:case Oy:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ea(o,0):r,Mc(s)?(n="",e!=null&&(n=e.replace(Uc,"$&/")+"/"),Pi(s,t,n,"",function(u){return u})):s!=null&&(wu(s)&&(s=Wy(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Mc(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+ea(i,a);o+=Pi(i,t,n,l,s)}else if(l=zy(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+ea(i,a++),o+=Pi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ri(e,t,n){if(e==null)return e;var r=[],s=0;return Pi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ky(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},ji={transition:null},qy={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ji,ReactCurrentOwner:vu};function $f(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ri,forEach:function(e,t,n){ri(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ri(e,function(){t++}),t},toArray:function(e){return ri(e,function(t){return t})||[]},only:function(e){if(!wu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=Ur;U.Fragment=Iy;U.Profiler=Ly;U.PureComponent=gu;U.StrictMode=Dy;U.Suspense=Vy;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qy;U.act=$f;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Af({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)If.call(t,l)&&!Df.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ks,type:e.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(e){return e={$$typeof:My,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$y,_context:e},e.Consumer=e};U.createElement=Lf;U.createFactory=function(e){var t=Lf.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Uy,render:e}};U.isValidElement=wu;U.lazy=function(e){return{$$typeof:By,_payload:{_status:-1,_result:e},_init:Ky}};U.memo=function(e,t){return{$$typeof:Fy,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=ji.transition;ji.transition={};try{e()}finally{ji.transition=t}};U.unstable_act=$f;U.useCallback=function(e,t){return Ae.current.useCallback(e,t)};U.useContext=function(e){return Ae.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};U.useEffect=function(e,t){return Ae.current.useEffect(e,t)};U.useId=function(){return Ae.current.useId()};U.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return Ae.current.useMemo(e,t)};U.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};U.useRef=function(e){return Ae.current.useRef(e)};U.useState=function(e){return Ae.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return Ae.current.useTransition()};U.version="18.3.1";jf.exports=U;var T=jf.exports;const Eo=Cf(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy=T,Jy=Symbol.for("react.element"),Yy=Symbol.for("react.fragment"),Qy=Object.prototype.hasOwnProperty,Xy=Gy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zy={key:!0,ref:!0,__self:!0,__source:!0};function Mf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Qy.call(t,r)&&!Zy.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Jy,type:e,key:i,ref:o,props:s,_owner:Xy.current}}ko.Fragment=Yy;ko.jsx=Mf;ko.jsxs=Mf;Pf.exports=ko;var f=Pf.exports,Xa={},Uf={exports:{}},Ge={},Vf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var M=P.length;P.push(L);e:for(;0<M;){var $=M-1>>>1,G=P[$];if(0<s(G,L))P[$]=L,P[M]=G,M=$;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var L=P[0],M=P.pop();if(M!==L){P[0]=M;e:for(var $=0,G=P.length,yn=G>>>1;$<yn;){var gt=2*($+1)-1,Gn=P[gt],Ue=gt+1,vn=P[Ue];if(0>s(Gn,M))Ue<G&&0>s(vn,Gn)?(P[$]=vn,P[Ue]=M,$=Ue):(P[$]=Gn,P[gt]=M,$=gt);else if(Ue<G&&0>s(vn,M))P[$]=vn,P[Ue]=M,$=Ue;else break e}}return L}function s(P,L){var M=P.sortIndex-L.sortIndex;return M!==0?M:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=P)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function x(P){if(w=!1,g(P),!v)if(n(l)!==null)v=!0,re(b);else{var L=n(u);L!==null&&Ye(x,L.startTime-P)}}function b(P,L){v=!1,w&&(w=!1,y(E),E=-1),p=!0;var M=h;try{for(g(L),d=n(l);d!==null&&(!(d.expirationTime>L)||P&&!oe());){var $=d.callback;if(typeof $=="function"){d.callback=null,h=d.priorityLevel;var G=$(d.expirationTime<=L);L=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),g(L)}else r(l);d=n(l)}if(d!==null)var yn=!0;else{var gt=n(u);gt!==null&&Ye(x,gt.startTime-L),yn=!1}return yn}finally{d=null,h=M,p=!1}}var S=!1,k=null,E=-1,R=5,N=-1;function oe(){return!(e.unstable_now()-N<R)}function de(){if(k!==null){var P=e.unstable_now();N=P;var L=!0;try{L=k(!0,P)}finally{L?ye():(S=!1,k=null)}}else S=!1}var ye;if(typeof m=="function")ye=function(){m(de)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Vt=ae.port2;ae.port1.onmessage=de,ye=function(){Vt.postMessage(null)}}else ye=function(){_(de,0)};function re(P){k=P,S||(S=!0,ye())}function Ye(P,L){E=_(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,re(b))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var M=h;h=L;try{return P()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=h;h=P;try{return L()}finally{h=M}},e.unstable_scheduleCallback=function(P,L,M){var $=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?$+M:$):M=$,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=M+G,P={id:c++,callback:L,priorityLevel:P,startTime:M,expirationTime:G,sortIndex:-1},M>$?(P.sortIndex=M,t(u,P),n(l)===null&&P===n(u)&&(w?(y(E),E=-1):w=!0,Ye(x,M-$))):(P.sortIndex=G,t(l,P),v||p||(v=!0,re(b))),P},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(P){var L=h;return function(){var M=h;h=L;try{return P.apply(this,arguments)}finally{h=M}}}})(Ff);Vf.exports=Ff;var ev=Vf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv=T,Ke=ev;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bf=new Set,xs={};function Wn(e,t){jr(e,t),jr(e+"Capture",t)}function jr(e,t){for(xs[e]=t,e=0;e<t.length;e++)Bf.add(t[e])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=Object.prototype.hasOwnProperty,nv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vc={},Fc={};function rv(e){return Za.call(Fc,e)?!0:Za.call(Vc,e)?!1:nv.test(e)?Fc[e]=!0:(Vc[e]=!0,!1)}function sv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iv(e,t,n,r){if(t===null||typeof t>"u"||sv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ne(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Ne(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Ne(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Ne(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Ne(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Ne(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Ne(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new Ne(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new Ne(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new Ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function _u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xu,_u);be[t]=new Ne(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xu,_u);be[t]=new Ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xu,_u);be[t]=new Ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Ne(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new Ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function bu(e,t,n,r){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iv(t,n,s,r)&&(n=null),r||s===null?rv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mt=tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,si=Symbol.for("react.element"),ir=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),Su=Symbol.for("react.strict_mode"),el=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Wf=Symbol.for("react.context"),ku=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),Hf=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function Br(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,ta;function Zr(e){if(ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ta=t&&t[1]||""}return`
`+ta+e}var na=!1;function ra(e,t){if(!e||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{na=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zr(e):""}function ov(e){switch(e.tag){case 5:return Zr(e.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return e=ra(e.type,!1),e;case 11:return e=ra(e.type.render,!1),e;case 1:return e=ra(e.type,!0),e;default:return""}}function rl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case ir:return"Portal";case el:return"Profiler";case Su:return"StrictMode";case tl:return"Suspense";case nl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wf:return(e.displayName||"Context")+".Consumer";case zf:return(e._context.displayName||"Context")+".Provider";case ku:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eu:return t=e.displayName||null,t!==null?t:rl(e.type)||"Memo";case Wt:t=e._payload,e=e._init;try{return rl(e(t))}catch{}}return null}function av(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rl(t);case 8:return t===Su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lv(e){var t=Kf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ii(e){e._valueTracker||(e._valueTracker=lv(e))}function qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Kf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sl(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gf(e,t){t=t.checked,t!=null&&bu(e,"checked",t,!1)}function il(e,t){Gf(e,t);var n=un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&ol(e,t.type,un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ol(e,t,n){(t!=="number"||Bi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var es=Array.isArray;function br(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+un(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(es(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:un(n)}}function Jf(e,t){var n=un(t.value),r=un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Kc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oi,Qf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uv=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(e){uv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),is[t]=is[e]})});function Xf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||is.hasOwnProperty(e)&&is[e]?(""+t).trim():t+"px"}function Zf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Xf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var cv=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(e,t){if(t){if(cv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function cl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function Tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hl=null,Sr=null,kr=null;function qc(e){if(e=Js(e)){if(typeof hl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Ro(t),hl(e.stateNode,e.type,t))}}function ep(e){Sr?kr?kr.push(e):kr=[e]:Sr=e}function tp(){if(Sr){var e=Sr,t=kr;if(kr=Sr=null,qc(e),t)for(e=0;e<t.length;e++)qc(t[e])}}function np(e,t){return e(t)}function rp(){}var sa=!1;function sp(e,t,n){if(sa)return e(t,n);sa=!0;try{return np(e,t,n)}finally{sa=!1,(Sr!==null||kr!==null)&&(rp(),tp())}}function bs(e,t){var n=e.stateNode;if(n===null)return null;var r=Ro(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var fl=!1;if(Ot)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){fl=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{fl=!1}function dv(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var os=!1,zi=null,Wi=!1,pl=null,hv={onError:function(e){os=!0,zi=e}};function fv(e,t,n,r,s,i,o,a,l){os=!1,zi=null,dv.apply(hv,arguments)}function pv(e,t,n,r,s,i,o,a,l){if(fv.apply(this,arguments),os){if(os){var u=zi;os=!1,zi=null}else throw Error(C(198));Wi||(Wi=!0,pl=u)}}function Hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ip(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gc(e){if(Hn(e)!==e)throw Error(C(188))}function mv(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Gc(s),e;if(i===r)return Gc(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function op(e){return e=mv(e),e!==null?ap(e):null}function ap(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ap(e);if(t!==null)return t;e=e.sibling}return null}var lp=Ke.unstable_scheduleCallback,Jc=Ke.unstable_cancelCallback,gv=Ke.unstable_shouldYield,yv=Ke.unstable_requestPaint,se=Ke.unstable_now,vv=Ke.unstable_getCurrentPriorityLevel,Cu=Ke.unstable_ImmediatePriority,up=Ke.unstable_UserBlockingPriority,Hi=Ke.unstable_NormalPriority,wv=Ke.unstable_LowPriority,cp=Ke.unstable_IdlePriority,To=null,_t=null;function xv(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(To,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Sv,_v=Math.log,bv=Math.LN2;function Sv(e){return e>>>=0,e===0?32:31-(_v(e)/bv|0)|0}var ai=64,li=4194304;function ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ki(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ts(a):(i&=o,i!==0&&(r=ts(i)))}else o=n&~s,o!==0?r=ts(o):i!==0&&(r=ts(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ft(t),s=1<<n,r|=e[n],t&=~s;return r}function kv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ev(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ft(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=kv(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dp(){var e=ai;return ai<<=1,!(ai&4194240)&&(ai=64),e}function ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=n}function Tv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ft(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Pu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var F=0;function hp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fp,ju,pp,mp,gp,gl=!1,ui=[],Zt=null,en=null,tn=null,Ss=new Map,ks=new Map,Gt=[],Cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yc(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Wr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Js(t),t!==null&&ju(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Pv(e,t,n,r,s){switch(t){case"focusin":return Zt=Wr(Zt,e,t,n,r,s),!0;case"dragenter":return en=Wr(en,e,t,n,r,s),!0;case"mouseover":return tn=Wr(tn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ss.set(i,Wr(Ss.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ks.set(i,Wr(ks.get(i)||null,e,t,n,r,s)),!0}return!1}function yp(e){var t=An(e.target);if(t!==null){var n=Hn(t);if(n!==null){if(t=n.tag,t===13){if(t=ip(n),t!==null){e.blockedOn=t,gp(e.priority,function(){pp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dl=r,n.target.dispatchEvent(r),dl=null}else return t=Js(n),t!==null&&ju(t),e.blockedOn=n,!1;t.shift()}return!0}function Qc(e,t,n){Ri(e)&&n.delete(t)}function jv(){gl=!1,Zt!==null&&Ri(Zt)&&(Zt=null),en!==null&&Ri(en)&&(en=null),tn!==null&&Ri(tn)&&(tn=null),Ss.forEach(Qc),ks.forEach(Qc)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,gl||(gl=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,jv)))}function Es(e){function t(s){return Hr(s,e)}if(0<ui.length){Hr(ui[0],e);for(var n=1;n<ui.length;n++){var r=ui[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zt!==null&&Hr(Zt,e),en!==null&&Hr(en,e),tn!==null&&Hr(tn,e),Ss.forEach(t),ks.forEach(t),n=0;n<Gt.length;n++)r=Gt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)yp(n),n.blockedOn===null&&Gt.shift()}var Er=Mt.ReactCurrentBatchConfig,qi=!0;function Rv(e,t,n,r){var s=F,i=Er.transition;Er.transition=null;try{F=1,Ru(e,t,n,r)}finally{F=s,Er.transition=i}}function Av(e,t,n,r){var s=F,i=Er.transition;Er.transition=null;try{F=4,Ru(e,t,n,r)}finally{F=s,Er.transition=i}}function Ru(e,t,n,r){if(qi){var s=yl(e,t,n,r);if(s===null)ma(e,t,r,Gi,n),Yc(e,r);else if(Pv(s,e,t,n,r))r.stopPropagation();else if(Yc(e,r),t&4&&-1<Cv.indexOf(e)){for(;s!==null;){var i=Js(s);if(i!==null&&fp(i),i=yl(e,t,n,r),i===null&&ma(e,t,r,Gi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ma(e,t,r,null,n)}}var Gi=null;function yl(e,t,n,r){if(Gi=null,e=Tu(r),e=An(e),e!==null)if(t=Hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ip(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gi=e,null}function vp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vv()){case Cu:return 1;case up:return 4;case Hi:case wv:return 16;case cp:return 536870912;default:return 16}default:return 16}}var Qt=null,Au=null,Ai=null;function wp(){if(Ai)return Ai;var e,t=Au,n=t.length,r,s="value"in Qt?Qt.value:Qt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ai=s.slice(e,1<r?1-r:void 0)}function Ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function Xc(){return!1}function Je(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ci:Xc,this.isPropagationStopped=Xc,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Je(Vr),Gs=ee({},Vr,{view:0,detail:0}),Nv=Je(Gs),oa,aa,Kr,Co=ee({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(oa=e.screenX-Kr.screenX,aa=e.screenY-Kr.screenY):aa=oa=0,Kr=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Zc=Je(Co),Ov=ee({},Co,{dataTransfer:0}),Iv=Je(Ov),Dv=ee({},Gs,{relatedTarget:0}),la=Je(Dv),Lv=ee({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),$v=Je(Lv),Mv=ee({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uv=Je(Mv),Vv=ee({},Vr,{data:0}),ed=Je(Vv),Fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zv[e])?!!t[e]:!1}function Ou(){return Wv}var Hv=ee({},Gs,{key:function(e){if(e.key){var t=Fv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kv=Je(Hv),qv=ee({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),td=Je(qv),Gv=ee({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),Jv=Je(Gv),Yv=ee({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qv=Je(Yv),Xv=ee({},Co,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zv=Je(Xv),e0=[9,13,27,32],Iu=Ot&&"CompositionEvent"in window,as=null;Ot&&"documentMode"in document&&(as=document.documentMode);var t0=Ot&&"TextEvent"in window&&!as,xp=Ot&&(!Iu||as&&8<as&&11>=as),nd=" ",rd=!1;function _p(e,t){switch(e){case"keyup":return e0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function n0(e,t){switch(e){case"compositionend":return bp(t);case"keypress":return t.which!==32?null:(rd=!0,nd);case"textInput":return e=t.data,e===nd&&rd?null:e;default:return null}}function r0(e,t){if(ar)return e==="compositionend"||!Iu&&_p(e,t)?(e=wp(),Ai=Au=Qt=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xp&&t.locale!=="ko"?null:t.data;default:return null}}var s0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s0[e.type]:t==="textarea"}function Sp(e,t,n,r){ep(r),t=Ji(t,"onChange"),0<t.length&&(n=new Nu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ls=null,Ts=null;function i0(e){Ip(e,0)}function Po(e){var t=cr(e);if(qf(t))return e}function o0(e,t){if(e==="change")return t}var kp=!1;if(Ot){var ua;if(Ot){var ca="oninput"in document;if(!ca){var id=document.createElement("div");id.setAttribute("oninput","return;"),ca=typeof id.oninput=="function"}ua=ca}else ua=!1;kp=ua&&(!document.documentMode||9<document.documentMode)}function od(){ls&&(ls.detachEvent("onpropertychange",Ep),Ts=ls=null)}function Ep(e){if(e.propertyName==="value"&&Po(Ts)){var t=[];Sp(t,Ts,e,Tu(e)),sp(i0,t)}}function a0(e,t,n){e==="focusin"?(od(),ls=t,Ts=n,ls.attachEvent("onpropertychange",Ep)):e==="focusout"&&od()}function l0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(Ts)}function u0(e,t){if(e==="click")return Po(t)}function c0(e,t){if(e==="input"||e==="change")return Po(t)}function d0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:d0;function Cs(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Za.call(t,s)||!mt(e[s],t[s]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ld(e,t){var n=ad(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ad(n)}}function Tp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cp(){for(var e=window,t=Bi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bi(e.document)}return t}function Du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h0(e){var t=Cp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tp(n.ownerDocument.documentElement,n)){if(r!==null&&Du(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ld(n,i);var o=ld(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var f0=Ot&&"documentMode"in document&&11>=document.documentMode,lr=null,vl=null,us=null,wl=!1;function ud(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wl||lr==null||lr!==Bi(r)||(r=lr,"selectionStart"in r&&Du(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),us&&Cs(us,r)||(us=r,r=Ji(vl,"onSelect"),0<r.length&&(t=new Nu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},da={},Pp={};Ot&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function jo(e){if(da[e])return da[e];if(!ur[e])return e;var t=ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pp)return da[e]=t[n];return e}var jp=jo("animationend"),Rp=jo("animationiteration"),Ap=jo("animationstart"),Np=jo("transitionend"),Op=new Map,cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,t){Op.set(e,t),Wn(t,[e])}for(var ha=0;ha<cd.length;ha++){var fa=cd[ha],p0=fa.toLowerCase(),m0=fa[0].toUpperCase()+fa.slice(1);fn(p0,"on"+m0)}fn(jp,"onAnimationEnd");fn(Rp,"onAnimationIteration");fn(Ap,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(Np,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function dd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pv(r,t,void 0,e),e.currentTarget=null}function Ip(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;dd(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;dd(s,a,u),i=l}}}if(Wi)throw e=pl,Wi=!1,pl=null,e}function H(e,t){var n=t[kl];n===void 0&&(n=t[kl]=new Set);var r=e+"__bubble";n.has(r)||(Dp(t,e,2,!1),n.add(r))}function pa(e,t,n){var r=0;t&&(r|=4),Dp(n,e,r,t)}var hi="_reactListening"+Math.random().toString(36).slice(2);function Ps(e){if(!e[hi]){e[hi]=!0,Bf.forEach(function(n){n!=="selectionchange"&&(g0.has(n)||pa(n,!1,e),pa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hi]||(t[hi]=!0,pa("selectionchange",!1,t))}}function Dp(e,t,n,r){switch(vp(t)){case 1:var s=Rv;break;case 4:s=Av;break;default:s=Ru}n=s.bind(null,t,n,e),s=void 0,!fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ma(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=An(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}sp(function(){var u=i,c=Tu(n),d=[];e:{var h=Op.get(e);if(h!==void 0){var p=Nu,v=e;switch(e){case"keypress":if(Ni(n)===0)break e;case"keydown":case"keyup":p=Kv;break;case"focusin":v="focus",p=la;break;case"focusout":v="blur",p=la;break;case"beforeblur":case"afterblur":p=la;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Jv;break;case jp:case Rp:case Ap:p=$v;break;case Np:p=Qv;break;case"scroll":p=Nv;break;case"wheel":p=Zv;break;case"copy":case"cut":case"paste":p=Uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=td}var w=(t&4)!==0,_=!w&&e==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var m=u,g;m!==null;){g=m;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,y!==null&&(x=bs(m,y),x!=null&&w.push(js(m,x,g)))),_)break;m=m.return}0<w.length&&(h=new p(h,v,null,n,c),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==dl&&(v=n.relatedTarget||n.fromElement)&&(An(v)||v[It]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?An(v):null,v!==null&&(_=Hn(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=Zc,x="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=td,x="onPointerLeave",y="onPointerEnter",m="pointer"),_=p==null?h:cr(p),g=v==null?h:cr(v),h=new w(x,m+"leave",p,n,c),h.target=_,h.relatedTarget=g,x=null,An(c)===u&&(w=new w(y,m+"enter",v,n,c),w.target=g,w.relatedTarget=_,x=w),_=x,p&&v)t:{for(w=p,y=v,m=0,g=w;g;g=Jn(g))m++;for(g=0,x=y;x;x=Jn(x))g++;for(;0<m-g;)w=Jn(w),m--;for(;0<g-m;)y=Jn(y),g--;for(;m--;){if(w===y||y!==null&&w===y.alternate)break t;w=Jn(w),y=Jn(y)}w=null}else w=null;p!==null&&hd(d,h,p,w,!1),v!==null&&_!==null&&hd(d,_,v,w,!0)}}e:{if(h=u?cr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=o0;else if(sd(h))if(kp)b=c0;else{b=l0;var S=a0}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=u0);if(b&&(b=b(e,u))){Sp(d,b,n,c);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&ol(h,"number",h.value)}switch(S=u?cr(u):window,e){case"focusin":(sd(S)||S.contentEditable==="true")&&(lr=S,vl=u,us=null);break;case"focusout":us=vl=lr=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,ud(d,n,c);break;case"selectionchange":if(f0)break;case"keydown":case"keyup":ud(d,n,c)}var k;if(Iu)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ar?_p(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(xp&&n.locale!=="ko"&&(ar||E!=="onCompositionStart"?E==="onCompositionEnd"&&ar&&(k=wp()):(Qt=c,Au="value"in Qt?Qt.value:Qt.textContent,ar=!0)),S=Ji(u,E),0<S.length&&(E=new ed(E,e,null,n,c),d.push({event:E,listeners:S}),k?E.data=k:(k=bp(n),k!==null&&(E.data=k)))),(k=t0?n0(e,n):r0(e,n))&&(u=Ji(u,"onBeforeInput"),0<u.length&&(c=new ed("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}Ip(d,t)})}function js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ji(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=bs(e,n),i!=null&&r.unshift(js(e,i,s)),i=bs(e,t),i!=null&&r.push(js(e,i,s))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=bs(n,i),l!=null&&o.unshift(js(n,l,a))):s||(l=bs(n,i),l!=null&&o.push(js(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var y0=/\r\n?/g,v0=/\u0000|\uFFFD/g;function fd(e){return(typeof e=="string"?e:""+e).replace(y0,`
`).replace(v0,"")}function fi(e,t,n){if(t=fd(t),fd(e)!==t&&n)throw Error(C(425))}function Yi(){}var xl=null,_l=null;function bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sl=typeof setTimeout=="function"?setTimeout:void 0,w0=typeof clearTimeout=="function"?clearTimeout:void 0,pd=typeof Promise=="function"?Promise:void 0,x0=typeof queueMicrotask=="function"?queueMicrotask:typeof pd<"u"?function(e){return pd.resolve(null).then(e).catch(_0)}:Sl;function _0(e){setTimeout(function(){throw e})}function ga(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Es(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Es(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function md(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),wt="__reactFiber$"+Fr,Rs="__reactProps$"+Fr,It="__reactContainer$"+Fr,kl="__reactEvents$"+Fr,b0="__reactListeners$"+Fr,S0="__reactHandles$"+Fr;function An(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[It]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=md(e);e!==null;){if(n=e[wt])return n;e=md(e)}return t}e=n,n=e.parentNode}return null}function Js(e){return e=e[wt]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Ro(e){return e[Rs]||null}var El=[],dr=-1;function pn(e){return{current:e}}function q(e){0>dr||(e.current=El[dr],El[dr]=null,dr--)}function z(e,t){dr++,El[dr]=e.current,e.current=t}var cn={},Ce=pn(cn),De=pn(!1),Un=cn;function Rr(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Le(e){return e=e.childContextTypes,e!=null}function Qi(){q(De),q(Ce)}function gd(e,t,n){if(Ce.current!==cn)throw Error(C(168));z(Ce,t),z(De,n)}function Lp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,av(e)||"Unknown",s));return ee({},n,r)}function Xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Un=Ce.current,z(Ce,e),z(De,De.current),!0}function yd(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Lp(e,t,Un),r.__reactInternalMemoizedMergedChildContext=e,q(De),q(Ce),z(Ce,e)):q(De),z(De,n)}var Tt=null,Ao=!1,ya=!1;function $p(e){Tt===null?Tt=[e]:Tt.push(e)}function k0(e){Ao=!0,$p(e)}function mn(){if(!ya&&Tt!==null){ya=!0;var e=0,t=F;try{var n=Tt;for(F=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tt=null,Ao=!1}catch(s){throw Tt!==null&&(Tt=Tt.slice(e+1)),lp(Cu,mn),s}finally{F=t,ya=!1}}return null}var hr=[],fr=0,Zi=null,eo=0,Ze=[],et=0,Vn=null,Ct=1,Pt="";function Sn(e,t){hr[fr++]=eo,hr[fr++]=Zi,Zi=e,eo=t}function Mp(e,t,n){Ze[et++]=Ct,Ze[et++]=Pt,Ze[et++]=Vn,Vn=e;var r=Ct;e=Pt;var s=32-ft(r)-1;r&=~(1<<s),n+=1;var i=32-ft(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ct=1<<32-ft(t)+s|n<<s|r,Pt=i+e}else Ct=1<<i|n<<s|r,Pt=e}function Lu(e){e.return!==null&&(Sn(e,1),Mp(e,1,0))}function $u(e){for(;e===Zi;)Zi=hr[--fr],hr[fr]=null,eo=hr[--fr],hr[fr]=null;for(;e===Vn;)Vn=Ze[--et],Ze[et]=null,Pt=Ze[--et],Ze[et]=null,Ct=Ze[--et],Ze[et]=null}var He=null,We=null,J=!1,ht=null;function Up(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,He=e,We=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,He=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:Ct,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,He=e,We=null,!0):!1;default:return!1}}function Tl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cl(e){if(J){var t=We;if(t){var n=t;if(!vd(e,t)){if(Tl(e))throw Error(C(418));t=nn(n.nextSibling);var r=He;t&&vd(e,t)?Up(r,n):(e.flags=e.flags&-4097|2,J=!1,He=e)}}else{if(Tl(e))throw Error(C(418));e.flags=e.flags&-4097|2,J=!1,He=e}}}function wd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;He=e}function pi(e){if(e!==He)return!1;if(!J)return wd(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bl(e.type,e.memoizedProps)),t&&(t=We)){if(Tl(e))throw Vp(),Error(C(418));for(;t;)Up(e,t),t=nn(t.nextSibling)}if(wd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=He?nn(e.stateNode.nextSibling):null;return!0}function Vp(){for(var e=We;e;)e=nn(e.nextSibling)}function Ar(){We=He=null,J=!1}function Mu(e){ht===null?ht=[e]:ht.push(e)}var E0=Mt.ReactCurrentBatchConfig;function qr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function mi(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xd(e){var t=e._init;return t(e._payload)}function Fp(e){function t(y,m){if(e){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=an(y,m),y.index=0,y.sibling=null,y}function i(y,m,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,g,x){return m===null||m.tag!==6?(m=ka(g,y.mode,x),m.return=y,m):(m=s(m,g),m.return=y,m)}function l(y,m,g,x){var b=g.type;return b===or?c(y,m,g.props.children,x,g.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wt&&xd(b)===m.type)?(x=s(m,g.props),x.ref=qr(y,m,g),x.return=y,x):(x=Ui(g.type,g.key,g.props,null,y.mode,x),x.ref=qr(y,m,g),x.return=y,x)}function u(y,m,g,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Ea(g,y.mode,x),m.return=y,m):(m=s(m,g.children||[]),m.return=y,m)}function c(y,m,g,x,b){return m===null||m.tag!==7?(m=$n(g,y.mode,x,b),m.return=y,m):(m=s(m,g),m.return=y,m)}function d(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ka(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case si:return g=Ui(m.type,m.key,m.props,null,y.mode,g),g.ref=qr(y,null,m),g.return=y,g;case ir:return m=Ea(m,y.mode,g),m.return=y,m;case Wt:var x=m._init;return d(y,x(m._payload),g)}if(es(m)||Br(m))return m=$n(m,y.mode,g,null),m.return=y,m;mi(y,m)}return null}function h(y,m,g,x){var b=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:a(y,m,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case si:return g.key===b?l(y,m,g,x):null;case ir:return g.key===b?u(y,m,g,x):null;case Wt:return b=g._init,h(y,m,b(g._payload),x)}if(es(g)||Br(g))return b!==null?null:c(y,m,g,x,null);mi(y,g)}return null}function p(y,m,g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(g)||null,a(m,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case si:return y=y.get(x.key===null?g:x.key)||null,l(m,y,x,b);case ir:return y=y.get(x.key===null?g:x.key)||null,u(m,y,x,b);case Wt:var S=x._init;return p(y,m,g,S(x._payload),b)}if(es(x)||Br(x))return y=y.get(g)||null,c(m,y,x,b,null);mi(m,x)}return null}function v(y,m,g,x){for(var b=null,S=null,k=m,E=m=0,R=null;k!==null&&E<g.length;E++){k.index>E?(R=k,k=null):R=k.sibling;var N=h(y,k,g[E],x);if(N===null){k===null&&(k=R);break}e&&k&&N.alternate===null&&t(y,k),m=i(N,m,E),S===null?b=N:S.sibling=N,S=N,k=R}if(E===g.length)return n(y,k),J&&Sn(y,E),b;if(k===null){for(;E<g.length;E++)k=d(y,g[E],x),k!==null&&(m=i(k,m,E),S===null?b=k:S.sibling=k,S=k);return J&&Sn(y,E),b}for(k=r(y,k);E<g.length;E++)R=p(k,y,E,g[E],x),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?E:R.key),m=i(R,m,E),S===null?b=R:S.sibling=R,S=R);return e&&k.forEach(function(oe){return t(y,oe)}),J&&Sn(y,E),b}function w(y,m,g,x){var b=Br(g);if(typeof b!="function")throw Error(C(150));if(g=b.call(g),g==null)throw Error(C(151));for(var S=b=null,k=m,E=m=0,R=null,N=g.next();k!==null&&!N.done;E++,N=g.next()){k.index>E?(R=k,k=null):R=k.sibling;var oe=h(y,k,N.value,x);if(oe===null){k===null&&(k=R);break}e&&k&&oe.alternate===null&&t(y,k),m=i(oe,m,E),S===null?b=oe:S.sibling=oe,S=oe,k=R}if(N.done)return n(y,k),J&&Sn(y,E),b;if(k===null){for(;!N.done;E++,N=g.next())N=d(y,N.value,x),N!==null&&(m=i(N,m,E),S===null?b=N:S.sibling=N,S=N);return J&&Sn(y,E),b}for(k=r(y,k);!N.done;E++,N=g.next())N=p(k,y,E,N.value,x),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?E:N.key),m=i(N,m,E),S===null?b=N:S.sibling=N,S=N);return e&&k.forEach(function(de){return t(y,de)}),J&&Sn(y,E),b}function _(y,m,g,x){if(typeof g=="object"&&g!==null&&g.type===or&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case si:e:{for(var b=g.key,S=m;S!==null;){if(S.key===b){if(b=g.type,b===or){if(S.tag===7){n(y,S.sibling),m=s(S,g.props.children),m.return=y,y=m;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wt&&xd(b)===S.type){n(y,S.sibling),m=s(S,g.props),m.ref=qr(y,S,g),m.return=y,y=m;break e}n(y,S);break}else t(y,S);S=S.sibling}g.type===or?(m=$n(g.props.children,y.mode,x,g.key),m.return=y,y=m):(x=Ui(g.type,g.key,g.props,null,y.mode,x),x.ref=qr(y,m,g),x.return=y,y=x)}return o(y);case ir:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(y,m.sibling),m=s(m,g.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=Ea(g,y.mode,x),m.return=y,y=m}return o(y);case Wt:return S=g._init,_(y,m,S(g._payload),x)}if(es(g))return v(y,m,g,x);if(Br(g))return w(y,m,g,x);mi(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,g),m.return=y,y=m):(n(y,m),m=ka(g,y.mode,x),m.return=y,y=m),o(y)):n(y,m)}return _}var Nr=Fp(!0),Bp=Fp(!1),to=pn(null),no=null,pr=null,Uu=null;function Vu(){Uu=pr=no=null}function Fu(e){var t=to.current;q(to),e._currentValue=t}function Pl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){no=e,Uu=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(Uu!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(no===null)throw Error(C(308));pr=e,no.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var Nn=null;function Bu(e){Nn===null?Nn=[e]:Nn.push(e)}function zp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Bu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Dt(e,r)}function Dt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Dt(e,n)}return s=r.interleaved,s===null?(t.next=t,Bu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Dt(e,n)}function Oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pu(e,n)}}function _d(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ro(e,t,n,r){var s=e.updateQueue;Ht=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(h=t,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=ee({},d,h);break e;case 2:Ht=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Bn|=o,e.lanes=o,e.memoizedState=d}}function bd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var Ys={},bt=pn(Ys),As=pn(Ys),Ns=pn(Ys);function On(e){if(e===Ys)throw Error(C(174));return e}function Wu(e,t){switch(z(Ns,t),z(As,e),z(bt,Ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ll(t,e)}q(bt),z(bt,t)}function Or(){q(bt),q(As),q(Ns)}function Hp(e){On(Ns.current);var t=On(bt.current),n=ll(t,e.type);t!==n&&(z(As,e),z(bt,n))}function Hu(e){As.current===e&&(q(bt),q(As))}var Q=pn(0);function so(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var va=[];function Ku(){for(var e=0;e<va.length;e++)va[e]._workInProgressVersionPrimary=null;va.length=0}var Ii=Mt.ReactCurrentDispatcher,wa=Mt.ReactCurrentBatchConfig,Fn=0,Z=null,fe=null,me=null,io=!1,cs=!1,Os=0,T0=0;function Se(){throw Error(C(321))}function qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function Gu(e,t,n,r,s,i){if(Fn=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ii.current=e===null||e.memoizedState===null?R0:A0,e=n(r,s),cs){i=0;do{if(cs=!1,Os=0,25<=i)throw Error(C(301));i+=1,me=fe=null,t.updateQueue=null,Ii.current=N0,e=n(r,s)}while(cs)}if(Ii.current=oo,t=fe!==null&&fe.next!==null,Fn=0,me=fe=Z=null,io=!1,t)throw Error(C(300));return e}function Ju(){var e=Os!==0;return Os=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Z.memoizedState=me=e:me=me.next=e,me}function st(){if(fe===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?Z.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(C(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?Z.memoizedState=me=e:me=me.next=e}return me}function Is(e,t){return typeof t=="function"?t(e):t}function xa(e){var t=st(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Fn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Z.lanes|=c,Bn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,mt(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,Bn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=st(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);mt(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Kp(){}function qp(e,t){var n=Z,r=st(),s=t(),i=!mt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ie=!0),r=r.queue,Yu(Yp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Ds(9,Jp.bind(null,n,r,s,t),void 0,null),ge===null)throw Error(C(349));Fn&30||Gp(n,t,s)}return s}function Gp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jp(e,t,n,r){t.value=n,t.getSnapshot=r,Qp(t)&&Xp(e)}function Yp(e,t,n){return n(function(){Qp(t)&&Xp(e)})}function Qp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function Xp(e){var t=Dt(e,1);t!==null&&pt(t,e,1,-1)}function Sd(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=j0.bind(null,Z,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zp(){return st().memoizedState}function Di(e,t,n,r){var s=vt();Z.flags|=e,s.memoizedState=Ds(1|t,n,void 0,r===void 0?null:r)}function No(e,t,n,r){var s=st();r=r===void 0?null:r;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,r!==null&&qu(r,o.deps)){s.memoizedState=Ds(t,n,i,r);return}}Z.flags|=e,s.memoizedState=Ds(1|t,n,i,r)}function kd(e,t){return Di(8390656,8,e,t)}function Yu(e,t){return No(2048,8,e,t)}function em(e,t){return No(4,2,e,t)}function tm(e,t){return No(4,4,e,t)}function nm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rm(e,t,n){return n=n!=null?n.concat([e]):null,No(4,4,nm.bind(null,t,e),n)}function Qu(){}function sm(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function im(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function om(e,t,n){return Fn&21?(mt(n,t)||(n=dp(),Z.lanes|=n,Bn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function C0(e,t){var n=F;F=n!==0&&4>n?n:4,e(!0);var r=wa.transition;wa.transition={};try{e(!1),t()}finally{F=n,wa.transition=r}}function am(){return st().memoizedState}function P0(e,t,n){var r=on(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lm(e))um(t,n);else if(n=zp(e,t,n,r),n!==null){var s=Re();pt(n,e,r,s),cm(n,t,r)}}function j0(e,t,n){var r=on(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lm(e))um(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,mt(a,o)){var l=t.interleaved;l===null?(s.next=s,Bu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=zp(e,t,s,r),n!==null&&(s=Re(),pt(n,e,r,s),cm(n,t,r))}}function lm(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function um(e,t){cs=io=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pu(e,n)}}var oo={readContext:rt,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},R0={readContext:rt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:kd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Di(4194308,4,nm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Di(4194308,4,e,t)},useInsertionEffect:function(e,t){return Di(4,2,e,t)},useMemo:function(e,t){var n=vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=P0.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:Sd,useDebugValue:Qu,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=Sd(!1),t=e[0];return e=C0.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,s=vt();if(J){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ge===null)throw Error(C(349));Fn&30||Gp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,kd(Yp.bind(null,r,i,e),[e]),r.flags|=2048,Ds(9,Jp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vt(),t=ge.identifierPrefix;if(J){var n=Pt,r=Ct;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Os++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=T0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},A0={readContext:rt,useCallback:sm,useContext:rt,useEffect:Yu,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:im,useReducer:xa,useRef:Zp,useState:function(){return xa(Is)},useDebugValue:Qu,useDeferredValue:function(e){var t=st();return om(t,fe.memoizedState,e)},useTransition:function(){var e=xa(Is)[0],t=st().memoizedState;return[e,t]},useMutableSource:Kp,useSyncExternalStore:qp,useId:am,unstable_isNewReconciler:!1},N0={readContext:rt,useCallback:sm,useContext:rt,useEffect:Yu,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:im,useReducer:_a,useRef:Zp,useState:function(){return _a(Is)},useDebugValue:Qu,useDeferredValue:function(e){var t=st();return fe===null?t.memoizedState=e:om(t,fe.memoizedState,e)},useTransition:function(){var e=_a(Is)[0],t=st().memoizedState;return[e,t]},useMutableSource:Kp,useSyncExternalStore:qp,useId:am,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oo={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),s=on(e),i=Rt(r,s);i.payload=t,n!=null&&(i.callback=n),t=rn(e,i,s),t!==null&&(pt(t,e,s,r),Oi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),s=on(e),i=Rt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rn(e,i,s),t!==null&&(pt(t,e,s,r),Oi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=on(e),s=Rt(n,r);s.tag=2,t!=null&&(s.callback=t),t=rn(e,s,r),t!==null&&(pt(t,e,r,n),Oi(t,e,r))}};function Ed(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Cs(n,r)||!Cs(s,i):!0}function dm(e,t,n){var r=!1,s=cn,i=t.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=Le(t)?Un:Ce.current,r=t.contextTypes,i=(r=r!=null)?Rr(e,s):cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Td(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oo.enqueueReplaceState(t,t.state,null)}function Rl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},zu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=Le(t)?Un:Ce.current,s.context=Rr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Oo.enqueueReplaceState(s,s.state,null),ro(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ir(e,t){try{var n="",r=t;do n+=ov(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ba(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Al(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var O0=typeof WeakMap=="function"?WeakMap:Map;function hm(e,t,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lo||(lo=!0,Fl=r),Al(e,t)},n}function fm(e,t,n){n=Rt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Al(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Al(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Cd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new O0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=q0.bind(null,e,t,n),t.then(e,e))}function Pd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rt(-1,1),t.tag=2,rn(n,t,1))),n.lanes|=1),e)}var I0=Mt.ReactCurrentOwner,Ie=!1;function je(e,t,n,r){t.child=e===null?Bp(t,null,n,r):Nr(t,e.child,n,r)}function Rd(e,t,n,r,s){n=n.render;var i=t.ref;return Tr(t,s),r=Gu(e,t,n,r,i,s),n=Ju(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(J&&n&&Lu(t),t.flags|=1,je(e,t,r,s),t.child)}function Ad(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ic(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,pm(e,t,i,r,s)):(e=Ui(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Cs,n(o,r)&&e.ref===t.ref)return Lt(e,t,s)}return t.flags|=1,e=an(i,r),e.ref=t.ref,e.return=t,t.child=e}function pm(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Cs(i,r)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Lt(e,t,s)}return Nl(e,t,n,r,s)}function mm(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(gr,Fe),Fe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,z(gr,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,z(gr,Fe),Fe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,z(gr,Fe),Fe|=r;return je(e,t,s,n),t.child}function gm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,n,r,s){var i=Le(n)?Un:Ce.current;return i=Rr(t,i),Tr(t,s),n=Gu(e,t,n,r,i,s),r=Ju(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(J&&r&&Lu(t),t.flags|=1,je(e,t,n,s),t.child)}function Nd(e,t,n,r,s){if(Le(n)){var i=!0;Xi(t)}else i=!1;if(Tr(t,s),t.stateNode===null)Li(e,t),dm(t,n,r),Rl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=Le(n)?Un:Ce.current,u=Rr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Td(t,o,r,u),Ht=!1;var h=t.memoizedState;o.state=h,ro(t,r,o,s),l=t.memoizedState,a!==r||h!==l||De.current||Ht?(typeof c=="function"&&(jl(t,n,c,r),l=t.memoizedState),(a=Ht||Ed(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Wp(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:at(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rt(l):(l=Le(n)?Un:Ce.current,l=Rr(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Td(t,o,r,l),Ht=!1,h=t.memoizedState,o.state=h,ro(t,r,o,s);var v=t.memoizedState;a!==d||h!==v||De.current||Ht?(typeof p=="function"&&(jl(t,n,p,r),v=t.memoizedState),(u=Ht||Ed(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ol(e,t,n,r,i,s)}function Ol(e,t,n,r,s,i){gm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&yd(t,n,!1),Lt(e,t,i);r=t.stateNode,I0.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Nr(t,e.child,null,i),t.child=Nr(t,null,a,i)):je(e,t,a,i),t.memoizedState=r.state,s&&yd(t,n,!0),t.child}function ym(e){var t=e.stateNode;t.pendingContext?gd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gd(e,t.context,!1),Wu(e,t.containerInfo)}function Od(e,t,n,r,s){return Ar(),Mu(s),t.flags|=256,je(e,t,n,r),t.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function vm(e,t,n){var r=t.pendingProps,s=Q.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),z(Q,s&1),e===null)return Cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Lo(o,r,0,null),e=$n(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Dl(n),t.memoizedState=Il,e):Xu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return D0(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=an(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=an(a,i):(i=$n(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Dl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Il,r}return i=e.child,e=i.sibling,r=an(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xu(e,t){return t=Lo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gi(e,t,n,r){return r!==null&&Mu(r),Nr(t,e.child,null,n),e=Xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function D0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ba(Error(C(422))),gi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Lo({mode:"visible",children:r.children},s,0,null),i=$n(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Nr(t,e.child,null,o),t.child.memoizedState=Dl(o),t.memoizedState=Il,i);if(!(t.mode&1))return gi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=ba(i,r,void 0),gi(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ie||a){if(r=ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dt(e,s),pt(r,e,s,-1))}return sc(),r=ba(Error(C(421))),gi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=G0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,We=nn(s.nextSibling),He=t,J=!0,ht=null,e!==null&&(Ze[et++]=Ct,Ze[et++]=Pt,Ze[et++]=Vn,Ct=e.id,Pt=e.overflow,Vn=t),t=Xu(t,r.children),t.flags|=4096,t)}function Id(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pl(e.return,t,n)}function Sa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(je(e,t,r.children,n),r=Q.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Id(e,n,t);else if(e.tag===19)Id(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(z(Q,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&so(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Sa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&so(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Sa(t,!0,n,null,i);break;case"together":Sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Li(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function L0(e,t,n){switch(t.tag){case 3:ym(t),Ar();break;case 5:Hp(t);break;case 1:Le(t.type)&&Xi(t);break;case 4:Wu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;z(to,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(z(Q,Q.current&1),t.flags|=128,null):n&t.child.childLanes?vm(e,t,n):(z(Q,Q.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);z(Q,Q.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(Q,Q.current),r)break;return null;case 22:case 23:return t.lanes=0,mm(e,t,n)}return Lt(e,t,n)}var xm,Ll,_m,bm;xm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ll=function(){};_m=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,On(bt.current);var i=null;switch(n){case"input":s=sl(e,s),r=sl(e,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=al(e,s),r=al(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yi)}ul(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&H("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};bm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gr(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $0(e,t,n){var r=t.pendingProps;switch($u(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Le(t.type)&&Qi(),ke(t),null;case 3:return r=t.stateNode,Or(),q(De),q(Ce),Ku(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Wl(ht),ht=null))),Ll(e,t),ke(t),null;case 5:Hu(t);var s=On(Ns.current);if(n=t.type,e!==null&&t.stateNode!=null)_m(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return ke(t),null}if(e=On(bt.current),pi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[wt]=t,r[Rs]=i,e=(t.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(s=0;s<ns.length;s++)H(ns[s],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":zc(r,i),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},H("invalid",r);break;case"textarea":Hc(r,i),H("invalid",r)}ul(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&fi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&fi(r.textContent,a,e),s=["children",""+a]):xs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":ii(r),Wc(r,i,!0);break;case"textarea":ii(r),Kc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[wt]=t,e[Rs]=r,xm(e,t,!1,!1),t.stateNode=e;e:{switch(o=cl(n,r),n){case"dialog":H("cancel",e),H("close",e),s=r;break;case"iframe":case"object":case"embed":H("load",e),s=r;break;case"video":case"audio":for(s=0;s<ns.length;s++)H(ns[s],e);s=r;break;case"source":H("error",e),s=r;break;case"img":case"image":case"link":H("error",e),H("load",e),s=r;break;case"details":H("toggle",e),s=r;break;case"input":zc(e,r),s=sl(e,r),H("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),H("invalid",e);break;case"textarea":Hc(e,r),s=al(e,r),H("invalid",e);break;default:s=r}ul(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Zf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qf(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_s(e,l):typeof l=="number"&&_s(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&H("scroll",e):l!=null&&bu(e,i,l,o))}switch(n){case"input":ii(e),Wc(e,r,!1);break;case"textarea":ii(e),Kc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+un(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?br(e,!!r.multiple,i,!1):r.defaultValue!=null&&br(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)bm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=On(Ns.current),On(bt.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[wt]=t,(i=r.nodeValue!==n)&&(e=He,e!==null))switch(e.tag){case 3:fi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wt]=t,t.stateNode=r}return ke(t),null;case 13:if(q(Q),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&We!==null&&t.mode&1&&!(t.flags&128))Vp(),Ar(),t.flags|=98560,i=!1;else if(i=pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[wt]=t}else Ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else ht!==null&&(Wl(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Q.current&1?pe===0&&(pe=3):sc())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return Or(),Ll(e,t),e===null&&Ps(t.stateNode.containerInfo),ke(t),null;case 10:return Fu(t.type._context),ke(t),null;case 17:return Le(t.type)&&Qi(),ke(t),null;case 19:if(q(Q),i=t.memoizedState,i===null)return ke(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Gr(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=so(e),o!==null){for(t.flags|=128,Gr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return z(Q,Q.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>Dr&&(t.flags|=128,r=!0,Gr(i,!1),t.lanes=4194304)}else{if(!r)if(e=so(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ke(t),null}else 2*se()-i.renderingStartTime>Dr&&n!==1073741824&&(t.flags|=128,r=!0,Gr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,n=Q.current,z(Q,r?n&1|2:n&1),t):(ke(t),null);case 22:case 23:return rc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fe&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function M0(e,t){switch($u(t),t.tag){case 1:return Le(t.type)&&Qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),q(De),q(Ce),Ku(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hu(t),null;case 13:if(q(Q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Q),null;case 4:return Or(),null;case 10:return Fu(t.type._context),null;case 22:case 23:return rc(),null;case 24:return null;default:return null}}var yi=!1,Te=!1,U0=typeof WeakSet=="function"?WeakSet:Set,j=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function $l(e,t,n){try{n()}catch(r){ne(e,t,r)}}var Dd=!1;function V0(e,t){if(xl=qi,e=Cp(),Du(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_l={focusedElem:e,selectionRange:n},qi=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:at(t.type,w),_);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(x){ne(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return v=Dd,Dd=!1,v}function ds(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&$l(t,n,i)}s=s.next}while(s!==r)}}function Io(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ml(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sm(e){var t=e.alternate;t!==null&&(e.alternate=null,Sm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[Rs],delete t[kl],delete t[b0],delete t[S0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function km(e){return e.tag===5||e.tag===3||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yi));else if(r!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}function Vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}var xe=null,ut=!1;function Ft(e,t,n){for(n=n.child;n!==null;)Em(e,t,n),n=n.sibling}function Em(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(To,n)}catch{}switch(n.tag){case 5:Te||mr(n,t);case 6:var r=xe,s=ut;xe=null,Ft(e,t,n),xe=r,ut=s,xe!==null&&(ut?(e=xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(ut?(e=xe,n=n.stateNode,e.nodeType===8?ga(e.parentNode,n):e.nodeType===1&&ga(e,n),Es(e)):ga(xe,n.stateNode));break;case 4:r=xe,s=ut,xe=n.stateNode.containerInfo,ut=!0,Ft(e,t,n),xe=r,ut=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$l(n,t,o),s=s.next}while(s!==r)}Ft(e,t,n);break;case 1:if(!Te&&(mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ne(n,t,a)}Ft(e,t,n);break;case 21:Ft(e,t,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,Ft(e,t,n),Te=r):Ft(e,t,n);break;default:Ft(e,t,n)}}function $d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new U0),t.forEach(function(r){var s=J0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,ut=!1;break e;case 3:xe=a.stateNode.containerInfo,ut=!0;break e;case 4:xe=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(xe===null)throw Error(C(160));Em(i,o,s),xe=null,ut=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tm(t,e),t=t.sibling}function Tm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),yt(e),r&4){try{ds(3,e,e.return),Io(3,e)}catch(w){ne(e,e.return,w)}try{ds(5,e,e.return)}catch(w){ne(e,e.return,w)}}break;case 1:it(t,e),yt(e),r&512&&n!==null&&mr(n,n.return);break;case 5:if(it(t,e),yt(e),r&512&&n!==null&&mr(n,n.return),e.flags&32){var s=e.stateNode;try{_s(s,"")}catch(w){ne(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Gf(s,i),cl(a,o);var u=cl(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Zf(s,d):c==="dangerouslySetInnerHTML"?Qf(s,d):c==="children"?_s(s,d):bu(s,c,d,u)}switch(a){case"input":il(s,i);break;case"textarea":Jf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?br(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?br(s,!!i.multiple,i.defaultValue,!0):br(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rs]=i}catch(w){ne(e,e.return,w)}}break;case 6:if(it(t,e),yt(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ne(e,e.return,w)}}break;case 3:if(it(t,e),yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(w){ne(e,e.return,w)}break;case 4:it(t,e),yt(e);break;case 13:it(t,e),yt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tc=se())),r&4&&$d(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(u=Te)||c,it(t,e),Te=u):it(t,e),yt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(j=e,c=e.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,p=h.child,h.tag){case 0:case 11:case 14:case 15:ds(4,h,h.return);break;case 1:mr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ne(r,n,w)}}break;case 5:mr(h,h.return);break;case 22:if(h.memoizedState!==null){Ud(d);continue}}p!==null?(p.return=h,j=p):Ud(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xf("display",o))}catch(w){ne(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ne(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:it(t,e),yt(e),r&4&&$d(e);break;case 21:break;default:it(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(km(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_s(s,""),r.flags&=-33);var i=Ld(e);Vl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ld(e);Ul(e,a,o);break;default:throw Error(C(161))}}catch(l){ne(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function F0(e,t,n){j=e,Cm(e)}function Cm(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||yi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Te;a=yi;var u=Te;if(yi=o,(Te=l)&&!u)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Vd(s):l!==null?(l.return=o,j=l):Vd(s);for(;i!==null;)j=i,Cm(i),i=i.sibling;j=s,yi=a,Te=u}Md(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):Md(e)}}function Md(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||Io(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:at(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Es(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Te||t.flags&512&&Ml(t)}catch(h){ne(t,t.return,h)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function Ud(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function Vd(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Io(4,t)}catch(l){ne(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ne(t,s,l)}}var i=t.return;try{Ml(t)}catch(l){ne(t,i,l)}break;case 5:var o=t.return;try{Ml(t)}catch(l){ne(t,o,l)}}}catch(l){ne(t,t.return,l)}if(t===e){j=null;break}var a=t.sibling;if(a!==null){a.return=t.return,j=a;break}j=t.return}}var B0=Math.ceil,ao=Mt.ReactCurrentDispatcher,Zu=Mt.ReactCurrentOwner,nt=Mt.ReactCurrentBatchConfig,V=0,ge=null,ce=null,_e=0,Fe=0,gr=pn(0),pe=0,Ls=null,Bn=0,Do=0,ec=0,hs=null,Oe=null,tc=0,Dr=1/0,kt=null,lo=!1,Fl=null,sn=null,vi=!1,Xt=null,uo=0,fs=0,Bl=null,$i=-1,Mi=0;function Re(){return V&6?se():$i!==-1?$i:$i=se()}function on(e){return e.mode&1?V&2&&_e!==0?_e&-_e:E0.transition!==null?(Mi===0&&(Mi=dp()),Mi):(e=F,e!==0||(e=window.event,e=e===void 0?16:vp(e.type)),e):1}function pt(e,t,n,r){if(50<fs)throw fs=0,Bl=null,Error(C(185));qs(e,n,r),(!(V&2)||e!==ge)&&(e===ge&&(!(V&2)&&(Do|=n),pe===4&&Jt(e,_e)),$e(e,r),n===1&&V===0&&!(t.mode&1)&&(Dr=se()+500,Ao&&mn()))}function $e(e,t){var n=e.callbackNode;Ev(e,t);var r=Ki(e,e===ge?_e:0);if(r===0)n!==null&&Jc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jc(n),t===1)e.tag===0?k0(Fd.bind(null,e)):$p(Fd.bind(null,e)),x0(function(){!(V&6)&&mn()}),n=null;else{switch(hp(r)){case 1:n=Cu;break;case 4:n=up;break;case 16:n=Hi;break;case 536870912:n=cp;break;default:n=Hi}n=Dm(n,Pm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pm(e,t){if($i=-1,Mi=0,V&6)throw Error(C(327));var n=e.callbackNode;if(Cr()&&e.callbackNode!==n)return null;var r=Ki(e,e===ge?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=co(e,r);else{t=r;var s=V;V|=2;var i=Rm();(ge!==e||_e!==t)&&(kt=null,Dr=se()+500,Ln(e,t));do try{H0();break}catch(a){jm(e,a)}while(!0);Vu(),ao.current=i,V=s,ce!==null?t=0:(ge=null,_e=0,t=pe)}if(t!==0){if(t===2&&(s=ml(e),s!==0&&(r=s,t=zl(e,s))),t===1)throw n=Ls,Ln(e,0),Jt(e,r),$e(e,se()),n;if(t===6)Jt(e,r);else{if(s=e.current.alternate,!(r&30)&&!z0(s)&&(t=co(e,r),t===2&&(i=ml(e),i!==0&&(r=i,t=zl(e,i))),t===1))throw n=Ls,Ln(e,0),Jt(e,r),$e(e,se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:kn(e,Oe,kt);break;case 3:if(Jt(e,r),(r&130023424)===r&&(t=tc+500-se(),10<t)){if(Ki(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Sl(kn.bind(null,e,Oe,kt),t);break}kn(e,Oe,kt);break;case 4:if(Jt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ft(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B0(r/1960))-r,10<r){e.timeoutHandle=Sl(kn.bind(null,e,Oe,kt),r);break}kn(e,Oe,kt);break;case 5:kn(e,Oe,kt);break;default:throw Error(C(329))}}}return $e(e,se()),e.callbackNode===n?Pm.bind(null,e):null}function zl(e,t){var n=hs;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=co(e,t),e!==2&&(t=Oe,Oe=n,t!==null&&Wl(t)),e}function Wl(e){Oe===null?Oe=e:Oe.push.apply(Oe,e)}function z0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~ec,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function Fd(e){if(V&6)throw Error(C(327));Cr();var t=Ki(e,0);if(!(t&1))return $e(e,se()),null;var n=co(e,t);if(e.tag!==0&&n===2){var r=ml(e);r!==0&&(t=r,n=zl(e,r))}if(n===1)throw n=Ls,Ln(e,0),Jt(e,t),$e(e,se()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kn(e,Oe,kt),$e(e,se()),null}function nc(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(Dr=se()+500,Ao&&mn())}}function zn(e){Xt!==null&&Xt.tag===0&&!(V&6)&&Cr();var t=V;V|=1;var n=nt.transition,r=F;try{if(nt.transition=null,F=1,e)return e()}finally{F=r,nt.transition=n,V=t,!(V&6)&&mn()}}function rc(){Fe=gr.current,q(gr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,w0(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch($u(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qi();break;case 3:Or(),q(De),q(Ce),Ku();break;case 5:Hu(r);break;case 4:Or();break;case 13:q(Q);break;case 19:q(Q);break;case 10:Fu(r.type._context);break;case 22:case 23:rc()}n=n.return}if(ge=e,ce=e=an(e.current,null),_e=Fe=t,pe=0,Ls=null,ec=Do=Bn=0,Oe=hs=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Nn=null}return e}function jm(e,t){do{var n=ce;try{if(Vu(),Ii.current=oo,io){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}io=!1}if(Fn=0,me=fe=Z=null,cs=!1,Os=0,Zu.current=null,n===null||n.return===null){pe=1,Ls=t,ce=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Pd(o);if(p!==null){p.flags&=-257,jd(p,o,a,i,t),p.mode&1&&Cd(i,u,t),t=p,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){Cd(i,u,t),sc();break e}l=Error(C(426))}}else if(J&&a.mode&1){var _=Pd(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),jd(_,o,a,i,t),Mu(Ir(l,a));break e}}i=l=Ir(l,a),pe!==4&&(pe=2),hs===null?hs=[i]:hs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=hm(i,l,t);_d(i,y);break e;case 1:a=l;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sn===null||!sn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=fm(i,a,t);_d(i,x);break e}}i=i.return}while(i!==null)}Nm(n)}catch(b){t=b,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function Rm(){var e=ao.current;return ao.current=oo,e===null?oo:e}function sc(){(pe===0||pe===3||pe===2)&&(pe=4),ge===null||!(Bn&268435455)&&!(Do&268435455)||Jt(ge,_e)}function co(e,t){var n=V;V|=2;var r=Rm();(ge!==e||_e!==t)&&(kt=null,Ln(e,t));do try{W0();break}catch(s){jm(e,s)}while(!0);if(Vu(),V=n,ao.current=r,ce!==null)throw Error(C(261));return ge=null,_e=0,pe}function W0(){for(;ce!==null;)Am(ce)}function H0(){for(;ce!==null&&!gv();)Am(ce)}function Am(e){var t=Im(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?Nm(e):ce=t,Zu.current=null}function Nm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=M0(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,ce=null;return}}else if(n=$0(n,t,Fe),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);pe===0&&(pe=5)}function kn(e,t,n){var r=F,s=nt.transition;try{nt.transition=null,F=1,K0(e,t,n,r)}finally{nt.transition=s,F=r}return null}function K0(e,t,n,r){do Cr();while(Xt!==null);if(V&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Tv(e,i),e===ge&&(ce=ge=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vi||(vi=!0,Dm(Hi,function(){return Cr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var o=F;F=1;var a=V;V|=4,Zu.current=null,V0(e,n),Tm(n,e),h0(_l),qi=!!xl,_l=xl=null,e.current=n,F0(n),yv(),V=a,F=o,nt.transition=i}else e.current=n;if(vi&&(vi=!1,Xt=e,uo=s),i=e.pendingLanes,i===0&&(sn=null),xv(n.stateNode),$e(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lo)throw lo=!1,e=Fl,Fl=null,e;return uo&1&&e.tag!==0&&Cr(),i=e.pendingLanes,i&1?e===Bl?fs++:(fs=0,Bl=e):fs=0,mn(),null}function Cr(){if(Xt!==null){var e=hp(uo),t=nt.transition,n=F;try{if(nt.transition=null,F=16>e?16:e,Xt===null)var r=!1;else{if(e=Xt,Xt=null,uo=0,V&6)throw Error(C(331));var s=V;for(V|=4,j=e.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:ds(8,c,i)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,p=c.return;if(Sm(c),c===u){j=null;break}if(h!==null){h.return=p,j=h;break}j=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ds(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,j=y;break e}j=i.return}}var m=e.current;for(j=m;j!==null;){o=j;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,j=g;else e:for(o=m;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Io(9,a)}}catch(b){ne(a,a.return,b)}if(a===o){j=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,j=x;break e}j=a.return}}if(V=s,mn(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(To,e)}catch{}r=!0}return r}finally{F=n,nt.transition=t}}return!1}function Bd(e,t,n){t=Ir(n,t),t=hm(e,t,1),e=rn(e,t,1),t=Re(),e!==null&&(qs(e,1,t),$e(e,t))}function ne(e,t,n){if(e.tag===3)Bd(e,e,n);else for(;t!==null;){if(t.tag===3){Bd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=Ir(n,e),e=fm(t,e,1),t=rn(t,e,1),e=Re(),t!==null&&(qs(t,1,e),$e(t,e));break}}t=t.return}}function q0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(_e&n)===n&&(pe===4||pe===3&&(_e&130023424)===_e&&500>se()-tc?Ln(e,0):ec|=n),$e(e,t)}function Om(e,t){t===0&&(e.mode&1?(t=li,li<<=1,!(li&130023424)&&(li=4194304)):t=1);var n=Re();e=Dt(e,t),e!==null&&(qs(e,t,n),$e(e,n))}function G0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Om(e,n)}function J0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),Om(e,n)}var Im;Im=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,L0(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,J&&t.flags&1048576&&Mp(t,eo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Li(e,t),e=t.pendingProps;var s=Rr(t,Ce.current);Tr(t,n),s=Gu(null,t,r,e,s,n);var i=Ju();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(i=!0,Xi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zu(t),s.updater=Oo,t.stateNode=s,s._reactInternals=t,Rl(t,r,e,n),t=Ol(null,t,r,!0,i,n)):(t.tag=0,J&&i&&Lu(t),je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Li(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Q0(r),e=at(r,e),s){case 0:t=Nl(null,t,r,e,n);break e;case 1:t=Nd(null,t,r,e,n);break e;case 11:t=Rd(null,t,r,e,n);break e;case 14:t=Ad(null,t,r,at(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),Nl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),Nd(e,t,r,s,n);case 3:e:{if(ym(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Wp(e,t),ro(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ir(Error(C(423)),t),t=Od(e,t,r,n,s);break e}else if(r!==s){s=Ir(Error(C(424)),t),t=Od(e,t,r,n,s);break e}else for(We=nn(t.stateNode.containerInfo.firstChild),He=t,J=!0,ht=null,n=Bp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ar(),r===s){t=Lt(e,t,n);break e}je(e,t,r,n)}t=t.child}return t;case 5:return Hp(t),e===null&&Cl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,bl(r,s)?o=null:i!==null&&bl(r,i)&&(t.flags|=32),gm(e,t),je(e,t,o,n),t.child;case 6:return e===null&&Cl(t),null;case 13:return vm(e,t,n);case 4:return Wu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nr(t,null,r,n):je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),Rd(e,t,r,s,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,z(to,r._currentValue),r._currentValue=o,i!==null)if(mt(i.value,o)){if(i.children===s.children&&!De.current){t=Lt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Rt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Pl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Tr(t,n),s=rt(s),r=r(s),t.flags|=1,je(e,t,r,n),t.child;case 14:return r=t.type,s=at(r,t.pendingProps),s=at(r.type,s),Ad(e,t,r,s,n);case 15:return pm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),Li(e,t),t.tag=1,Le(r)?(e=!0,Xi(t)):e=!1,Tr(t,n),dm(t,r,s),Rl(t,r,s,n),Ol(null,t,r,!0,e,n);case 19:return wm(e,t,n);case 22:return mm(e,t,n)}throw Error(C(156,t.tag))};function Dm(e,t){return lp(e,t)}function Y0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,r){return new Y0(e,t,n,r)}function ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Q0(e){if(typeof e=="function")return ic(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ku)return 11;if(e===Eu)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ui(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ic(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case or:return $n(n.children,s,i,t);case Su:o=8,s|=8;break;case el:return e=tt(12,n,t,s|2),e.elementType=el,e.lanes=i,e;case tl:return e=tt(13,n,t,s),e.elementType=tl,e.lanes=i,e;case nl:return e=tt(19,n,t,s),e.elementType=nl,e.lanes=i,e;case Hf:return Lo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zf:o=10;break e;case Wf:o=9;break e;case ku:o=11;break e;case Eu:o=14;break e;case Wt:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=tt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function $n(e,t,n,r){return e=tt(7,e,r,t),e.lanes=n,e}function Lo(e,t,n,r){return e=tt(22,e,r,t),e.elementType=Hf,e.lanes=n,e.stateNode={isHidden:!1},e}function ka(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function Ea(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function X0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function oc(e,t,n,r,s,i,o,a,l){return e=new X0(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(i),e}function Z0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lm(e){if(!e)return cn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Le(n))return Lp(e,n,t)}return t}function $m(e,t,n,r,s,i,o,a,l){return e=oc(n,r,!0,e,s,i,o,a,l),e.context=Lm(null),n=e.current,r=Re(),s=on(n),i=Rt(r,s),i.callback=t??null,rn(n,i,s),e.current.lanes=s,qs(e,s,r),$e(e,r),e}function $o(e,t,n,r){var s=t.current,i=Re(),o=on(s);return n=Lm(n),t.context===null?t.context=n:t.pendingContext=n,t=Rt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rn(s,t,o),e!==null&&(pt(e,s,o,i),Oi(e,s,o)),o}function ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ac(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function ew(){return null}var Mm=typeof reportError=="function"?reportError:function(e){console.error(e)};function lc(e){this._internalRoot=e}Mo.prototype.render=lc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));$o(e,t,null,null)};Mo.prototype.unmount=lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){$o(null,e,null,null)}),t[It]=null}};function Mo(e){this._internalRoot=e}Mo.prototype.unstable_scheduleHydration=function(e){if(e){var t=mp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gt.length&&t!==0&&t<Gt[n].priority;n++);Gt.splice(n,0,e),n===0&&yp(e)}};function uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wd(){}function tw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ho(o);i.call(u)}}var o=$m(t,r,e,0,null,!1,!1,"",Wd);return e._reactRootContainer=o,e[It]=o.current,Ps(e.nodeType===8?e.parentNode:e),zn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ho(l);a.call(u)}}var l=oc(e,0,!1,null,null,!1,!1,"",Wd);return e._reactRootContainer=l,e[It]=l.current,Ps(e.nodeType===8?e.parentNode:e),zn(function(){$o(t,l,n,r)}),l}function Vo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ho(o);a.call(l)}}$o(t,o,e,s)}else o=tw(n,t,e,s,r);return ho(o)}fp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ts(t.pendingLanes);n!==0&&(Pu(t,n|1),$e(t,se()),!(V&6)&&(Dr=se()+500,mn()))}break;case 13:zn(function(){var r=Dt(e,1);if(r!==null){var s=Re();pt(r,e,1,s)}}),ac(e,1)}};ju=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var n=Re();pt(t,e,134217728,n)}ac(e,134217728)}};pp=function(e){if(e.tag===13){var t=on(e),n=Dt(e,t);if(n!==null){var r=Re();pt(n,e,t,r)}ac(e,t)}};mp=function(){return F};gp=function(e,t){var n=F;try{return F=e,t()}finally{F=n}};hl=function(e,t,n){switch(t){case"input":if(il(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ro(r);if(!s)throw Error(C(90));qf(r),il(r,s)}}}break;case"textarea":Jf(e,n);break;case"select":t=n.value,t!=null&&br(e,!!n.multiple,t,!1)}};np=nc;rp=zn;var nw={usingClientEntryPoint:!1,Events:[Js,cr,Ro,ep,tp,nc]},Jr={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rw={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=op(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||ew,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{To=wi.inject(rw),_t=wi}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nw;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uc(t))throw Error(C(200));return Z0(e,t,null,n)};Ge.createRoot=function(e,t){if(!uc(e))throw Error(C(299));var n=!1,r="",s=Mm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=oc(e,1,!1,null,null,n,!1,r,s),e[It]=t.current,Ps(e.nodeType===8?e.parentNode:e),new lc(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=op(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return zn(e)};Ge.hydrate=function(e,t,n){if(!Uo(t))throw Error(C(200));return Vo(null,e,t,!0,n)};Ge.hydrateRoot=function(e,t,n){if(!uc(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Mm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=$m(t,null,e,1,n??null,s,!1,i,o),e[It]=t.current,Ps(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Mo(t)};Ge.render=function(e,t,n){if(!Uo(t))throw Error(C(200));return Vo(null,e,t,!1,n)};Ge.unmountComponentAtNode=function(e){if(!Uo(e))throw Error(C(40));return e._reactRootContainer?(zn(function(){Vo(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1};Ge.unstable_batchedUpdates=nc;Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uo(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Vo(e,t,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function Um(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Um)}catch(e){console.error(e)}}Um(),Uf.exports=Ge;var sw=Uf.exports,Hd=sw;Xa.createRoot=Hd.createRoot,Xa.hydrateRoot=Hd.hydrateRoot;function Fo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function iw(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}const ow=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class cc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class aw extends cc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Kd extends cc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qd extends cc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hl||(Hl={}));class lw{constructor(t,{headers:n={},customFetch:r,region:s=Hl.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=ow(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return iw(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let _=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(_=o.signal,c.addEventListener("abort",()=>o.abort())):_=o.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:_}).catch(b=>{throw new aw(b)}),m=y.headers.get("x-relay-error");if(m&&m==="true")throw new Kd(y);if(!y.ok)throw new qd(y);let g=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield y.json():g==="application/octet-stream"||g==="application/pdf"?x=yield y.blob():g==="text/event-stream"?x=y:g==="multipart/form-data"?x=yield y.formData():x=yield y.text(),{data:x,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof qd||a instanceof Kd?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var uw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},cw=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(n.method!=="HEAD"){var p;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const w=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&_&&_.length>1&&(l=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):o={message:w}}if(o&&n.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new uw(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,d,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,w&&(a+=` (${w})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},dw=class extends cw{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Gd=new RegExp("[,()]");var nr=class extends dw{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Gd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Gd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},hw=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new nr({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new nr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new nr({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new nr({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new nr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},fw=class Vm{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hw(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Vm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new nr({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class pw{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mw="2.89.0",gw=`realtime-js/${mw}`,Fm="1.0.0",yw="2.0.0",Jd=Fm,Kl=1e4,vw=1e3,ww=100;var Kt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kt||(Kt={}));var he;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(he||(he={}));var ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ct||(ct={}));var ql;(function(e){e.websocket="websocket"})(ql||(ql={}));var jn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jn||(jn={}));class xw{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(p),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,o.length),v.setUint8(w++,u.length),v.setUint8(w++,d.length),v.setUint8(w++,n),Array.from(l,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(d,y=>v.setUint8(w++,y.charCodeAt(0)));var _=new Uint8Array(p.byteLength+r.byteLength);return _.set(new Uint8Array(p),0),_.set(new Uint8Array(r),p.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const c=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Bm{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(B||(B={}));const Yd=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=_w(o,e,t,s),i),{}):{}},_w=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?zm(i,o):Gl(o)},zm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Ew(t,n)}switch(e){case B.bool:return bw(t);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return Sw(t);case B.json:case B.jsonb:return kw(t);case B.timestamp:return Tw(t);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return Gl(t);default:return Gl(t)}},Gl=e=>e,bw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Ew=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>zm(t,a))}return e},Tw=e=>typeof e=="string"?e.replace(" ","T"):e,Wm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ta{constructor(t,n,r={},s=Kl){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Qd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Qd||(Qd={}));class ps{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ps.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ps.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ps.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(_=>_.presence_ref),p=d.map(_=>_.presence_ref),v=c.filter(_=>p.indexOf(_.presence_ref)<0),w=d.filter(_=>h.indexOf(_.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xd||(Xd={}));var ms;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ms||(ms={}));var Et;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class yr{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ta(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Bm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ps(this),this.broadcastEndpointURL=Wm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[ms.PRESENCE]&&this.bindings[ms.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Et.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Et.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Et.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,y=[];for(let m=0;m<_;m++){const g=w[m],{filter:{event:x,schema:b,table:S,filter:k}}=g,E=p&&p[m];if(E&&E.event===x&&yr.isFilterValueEqual(E.schema,b)&&yr.isFilterValueEqual(E.table,S)&&yr.isFilterValueEqual(E.filter,k))y.push(Object.assign(Object.assign({},g),{id:E.id}));else{this.unsubscribe(),this.state=he.errored,t==null||t(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Et.SUBSCRIBED);return}}).receive("error",p=>{this.state=he.errored,t==null||t(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===he.joined&&t===ms.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=he.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Ta(this,ct.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ta(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ww){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ct;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,_;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=p.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,_,y,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const x=p.id,b=(v=p.filter)===null||v===void 0?void 0:v.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(m=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:w,table:_,commit_timestamp:y,type:m,errors:g}=v;h=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(v))}p.callback(h,r)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&yr.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ct.close,{},t)}_onError(t){this._on(ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Yd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Yd(t.columns,t.old_record)),n}}const Ca=()=>{},xi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cw=[1e3,2e3,5e3,1e4],Pw=1e4,jw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rw{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kl,this.transport=null,this.heartbeatIntervalMs=xi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ca,this.ref=0,this.reconnectTimer=null,this.vsn=Jd,this.logger=Ca,this.conn=null,this.sendBuffer=[],this.serializer=new xw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ql.websocket}`,this.httpEndpoint=Wm(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kt.connecting:return jn.Connecting;case Kt.open:return jn.Open;case Kt.closing:return jn.Closing;default:return jn.Closed}}isConnected(){return this.connectionState()===jn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new yr(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},xi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Kt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kt.open||this.conn.readyState===Kt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([jw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:gw};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ct.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Bm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,c,d,h,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Kl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:xi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Ca,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Jd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>Cw[v-1]||Pw,this.vsn){case Fm:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,w)=>w(JSON.parse(v));break;case yw:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var $s=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Aw(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function Nw(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Ow(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=Aw(e.baseUrl,r,s),l=await Nw(e.auth),u=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const p=d?h:void 0,v=p==null?void 0:p.error;throw new $s((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function _i(e){return e.join("")}var Iw=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:_i(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_i(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_i(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_i(e.namespace)}`}),!0}catch(t){if(t instanceof $s&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof $s&&n.status===409)return;throw n}}};function Yn(e){return e.join("")}var Dw=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yn(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof $s&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof $s&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Lw=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Ow({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Iw(this.client,t),this.tableOps=new Dw(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Bo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Y(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var $w=class extends Bo{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jl=class extends Bo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const dc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Mw=()=>Response,Yl=e=>{if(Array.isArray(e))return e.map(n=>Yl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Yl(r)}),t},Uw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vw=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function Fw(e,t){if(Ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bw(e){var t=Fw(e,"string");return Ms(t)=="symbol"?t:t+""}function zw(e,t,n){return(t=Bw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zd(Object(n),!0).forEach(function(r){zw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Pa=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Ww=async(e,t,n)=>{e instanceof await Mw()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new $w(Pa(r),s,i))}).catch(r=>{t(new Jl(Pa(r),r))}):t(new Jl(Pa(e),e))},Hw=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(Uw(r)?(s.headers=I({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),I(I({},s),n))};async function Qs(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,Hw(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ww(l,a,r))})}async function Us(e,t,n,r){return Qs(e,"GET",t,n,r)}async function lt(e,t,n,r,s){return Qs(e,"POST",t,r,s,n)}async function Ql(e,t,n,r,s){return Qs(e,"PUT",t,r,s,n)}async function Kw(e,t,n,r){return Qs(e,"HEAD",t,I(I({},n),{},{noResolveJson:!0}),r)}async function hc(e,t,n,r,s){return Qs(e,"DELETE",t,r,s,n)}var qw=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}}};let Hm;Hm=Symbol.toStringTag;var Gw=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Hm]="BlobDownloadBuilder",this.promise=null}asStream(){return new qw(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}}};const Jw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Yw=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=dc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=I(I({},eh),r);let a=I(I({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=I(I({},a),r.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),d=await(e=="PUT"?Ql:lt)(s.fetch,`${s.url}/object/${c}`,i,I({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Y(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=I({upsert:eh.upsert},r),c=I(I({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await Ql(s.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Y(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=I({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await lt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Bo("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await lt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await lt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await lt(r.fetch,`${r.url}/object/sign/${s}`,I({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await lt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>I(I({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Us(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Gw(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Yl(await Us(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Kw(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r)&&r instanceof Jl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await hc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=I(I(I({},Jw),t),{},{prefix:e||""});return{data:await lt(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=I({},e);return{data:await lt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Km="2.89.0",qm={"X-Client-Info":`storage-js/${Km}`};var Qw=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=I(I({},qm),t),this.fetch=dc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Us(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Us(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await lt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Ql(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await lt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await hc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Xw=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},qm),t),this.fetch=dc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await lt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Us(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await hc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!Vw(e))throw new Bo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Lw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const fc={"X-Client-Info":`storage-js/${Km}`,"Content-Type":"application/json"};var Gm=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Be(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var ja=class extends Gm{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zw=class extends Gm{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const pc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ex=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},th=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tx=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new ja(th(i),r,o))}).catch(()=>{const i=r+"";t(new ja(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new ja(s.statusText||`HTTP ${r} error`,r,i))}}else t(new Zw(th(e),e))},nx=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(ex(r)?(s.headers=I({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,I(I({},s),n)):s};async function rx(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,nx(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>tx(l,a,r))})}async function ze(e,t,n,r,s){return rx(e,"POST",t,r,s,n)}var sx=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},fc),t),this.fetch=pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await ze(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await ze(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}},ix=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},fc),t),this.fetch=pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ze(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ze(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ze(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}},ox=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=I(I({},fc),t),this.fetch=pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await ze(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}},ax=class extends ox{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new lx(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},lx=class extends sx{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new ux(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},ux=class extends ix{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},cx=class extends Qw{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Yw(this.url,this.headers,e,this.fetch)}get vectors(){return new ax(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xw(this.url+"/iceberg",this.headers,this.fetch)}};const Jm="2.89.0",rr=30*1e3,Xl=3,Ra=Xl*rr,dx="http://localhost:9999",hx="supabase.auth.token",fx={"X-Client-Info":`gotrue-js/${Jm}`},Zl="X-Supabase-Api-Version",Ym={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},px=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mx=10*60*1e3;class Vs extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gx extends Vs{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function yx(e){return A(e)&&e.name==="AuthApiError"}class Rn extends Vs{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ut extends Vs{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ve extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vx(e){return A(e)&&e.name==="AuthSessionMissingError"}class Qn extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bi extends Ut{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Si extends Ut{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wx(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}class nh extends Ut{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xx extends Ut{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class eu extends Ut{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Aa(e){return A(e)&&e.name==="AuthRetryableFetchError"}class rh extends Ut{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class tu extends Ut{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sh=` 	
\r=`.split(""),_x=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<sh.length;t+=1)e[sh[t].charCodeAt(0)]=-2;for(let t=0;t<fo.length;t+=1)e[fo[t].charCodeAt(0)]=t;return e})();function ih(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fo[r]),t.queuedBits-=6}}function Qm(e,t,n){const r=_x[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function oh(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{kx(o,r,n)};for(let o=0;o<e.length;o+=1)Qm(e.charCodeAt(o),s,i);return t.join("")}function bx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Sx(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}bx(r,t)}}function kx(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Pr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Qm(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Ex(e){const t=[];return Sx(e,n=>t.push(n)),new Uint8Array(t)}function In(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ih(s,n,r)),ih(null,n,r),t.join("")}function Tx(e){return Math.round(Date.now()/1e3)+e}function Cx(){return Symbol("auth-callback")}const we=()=>typeof window<"u"&&typeof document<"u",xn={tested:!1,writable:!1},Xm=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xn.tested)return xn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xn.tested=!0,xn.writable=!0}catch{xn.tested=!0,xn.writable=!1}return xn.writable};function Px(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Zm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},_n=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ve=async(e,t)=>{await e.removeItem(t)};class zo{constructor(){this.promise=new zo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}zo.promiseConstructor=Promise;function Na(e){const t=e.split(".");if(t.length!==3)throw new tu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!px.test(t[r]))throw new tu("JWT not in base64url format");return{header:JSON.parse(oh(t[0])),payload:JSON.parse(oh(t[1])),signature:Pr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Rx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ax(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Nx(e){return("0"+e.toString(16)).substr(-2)}function Ox(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Nx).join("")}async function Ix(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Ix(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xn(e,t,n=!1){const r=Ox();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await sr(e,`${t}-code-verifier`,s);const i=await Dx(r);return[i,r===i?"plain":"s256"]}const Lx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $x(e){const t=e.headers.get(Zl);if(!t||!t.match(Lx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Mx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ux(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zn(e){if(!Vx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Oa(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fx(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function ah(e){return JSON.parse(JSON.stringify(e))}const En=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bx=[502,503,504];async function lh(e){var t;if(!jx(e))throw new eu(En(e),0);if(Bx.includes(e.status))throw new eu(En(e),e.status);let n;try{n=await e.json()}catch(i){throw new Rn(En(i),i)}let r;const s=$x(e);if(s&&s.getTime()>=Ym["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new rh(En(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ve}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new rh(En(n),e.status,n.weak_password.reasons);throw new gx(En(n),e.status||500,r)}const zx=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function O(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Zl]||(i[Zl]=Ym["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Wx(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Wx(e,t,n,r,s,i){const o=zx(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new eu(En(l),0)}if(a.ok||await lh(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await lh(l)}}function ot(e){var t;let n=null;qx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Tx(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function uh(e){const t=ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Hx(e){return{data:e,error:null}}function Kx(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Fo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ch(e){return e}function qx(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ia=["global","local","others"];class Gx{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Zm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ia[0]){if(Ia.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ia.join(", ")}`);try{return await O(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await O(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Fo(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Kx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await O(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ch});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Zn(t);try{return await O(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Zn(t);try{return await O(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Yt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Zn(t);try{return await O(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Zn(t.userId);try{const{data:n,error:r}=await O(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Zn(t.userId),Zn(t.id);try{return{data:await O(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await O(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ch});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await O(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await O(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await O(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}}function dh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const er={debug:!!(globalThis&&Xm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Jx extends eg{}async function Yx(e,t,n){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Jx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Qx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Xx(e){return parseInt(e,16)}function Zx(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function e_(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=tg(e.address),v=c?`${c}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${v} wants you to sign in with your Ethereum account:
${p}

${w}`;let y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}y+=m}return`${_}
${y}`}class ue extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class po extends ue{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function t_({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(ng(o)){if(i.rp.id!==o)return new ue({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function n_({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(ng(r)){if(n.rpId!==r)return new ue({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class r_{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const s_=new r_;function i_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Fo(e,["challenge","user","excludeCredentials"]),i=Pr(t).buffer,o=Object.assign(Object.assign({},n),{id:Pr(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Pr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function o_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Fo(e,["challenge","allowCredentials"]),s=Pr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Pr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function a_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:In(new Uint8Array(e.response.attestationObject)),clientDataJSON:In(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function l_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:In(new Uint8Array(s.authenticatorData)),clientDataJSON:In(new Uint8Array(s.clientDataJSON)),signature:In(new Uint8Array(s.signature)),userHandle:s.userHandle?In(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ng(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hh(){var e,t;return!!(we()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function u_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new po("Browser returned unexpected credential type",t)}:{data:null,error:new po("Empty credential response",t)}}catch(t){return{data:null,error:t_({error:t,options:e})}}}async function c_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new po("Browser returned unexpected credential type",t)}:{data:null,error:new po("Empty credential response",t)}}catch(t){return{data:null,error:n_({error:t,options:e})}}}const d_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},h_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=mo(a,o):r[i]=mo(o)}else r[i]=o}return r}function f_(e,t){return mo(d_,e,t||{})}function p_(e,t){return mo(h_,e,t||{})}class m_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??s_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=f_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await u_({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=p_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await c_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new Rn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Vs("rpId is required for WebAuthn authentication")};try{if(!hh())return{data:null,error:new Rn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new Rn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Vs("rpId is required for WebAuthn registration")};try{if(!hh())return{data:null,error:new Rn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new Rn("Unexpected error in register",o)}}}}Qx();const g_={url:dx,storageKey:hx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function fh(e,t,n){return await n()}const tr={};class Fs{get jwks(){var t,n;return(n=(t=tr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){tr[this.storageKey]=Object.assign(Object.assign({},tr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=tr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){tr[this.storageKey]=Object.assign(Object.assign({},tr[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},g_),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Fs.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Fs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&we()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Gx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Zm(i.fetch),this.lock=i.lock||fh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&we()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Yx:this.lock=fh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new m_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Xm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=dh(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jm}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(we()&&(n=Px(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),we()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wx(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?this._returnResult({error:n}):this._returnResult({error:new Rn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ot}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Xn(this.storage,this.storageKey)),i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:ot})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ot})}else throw new bi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:uh})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:uh})}else throw new bi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Qn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,c,d,h;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:w,wallet:_,statement:y,options:m}=t;let g;if(we())if(typeof _=="object")g=_;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")g=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=_}const x=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),b=await g.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=tg(b[0]);let k=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const R=await g.request({method:"eth_chainId"});k=Xx(R)}const E={domain:x.host,address:S,statement:y,uri:x.href,version:"1",chainId:k,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=e_(E),v=await g.request({method:"personal_sign",params:[Zx(p),S]})}try{const{data:w,error:_}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ot});if(_)throw _;if(!w||!w.session||!w.user){const y=new Qn;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(A(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,d,h,p;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:_,wallet:y,statement:m,options:g}=t;let x;if(we())if(typeof y=="object")x=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))x=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const b=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const S=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),m?{statement:m}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),w=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${b.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:_,error:y}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:In(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ot});if(y)throw y;if(!_||!_.session||!_.user){const m=new Qn;return this._returnResult({data:{user:null,session:null},error:m})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:y})}catch(_){if(A(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await _n(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new xx;const{data:i,error:o}=await O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ot});if(await ve(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Qn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ot}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Qn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Xn(this.storage,this.storageKey));const{error:d}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new bi("You must provide either an email or phone number.")}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),A(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ot});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Xn(this.storage,this.storageKey));const u=await O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Hx});return!((i=u.data)===null||i===void 0)&&i.url&&we()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),A(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ve;const{error:s}=await O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(A(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await O(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await O(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new bi("You must provide either an email or phone number and a type")}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await _n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ra:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await _n(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Oa()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Fx(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ve}:await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Yt})})}catch(n){if(A(n))return vx(n)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ve;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Xn(this.storage,this.storageKey));const{data:u,error:c}=await O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Yt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await ve(this.storage,`${this.storageKey}-code-verifier`),A(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ve;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Na(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(A(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ve;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!we())throw new Si("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Si(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new nh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Si("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nh("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Si("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const p=h-c;p*1e3<=rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await _n(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(yx(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Cx(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Xn(this.storage,this.storageKey,!0));try{return await O(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await O(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return we()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(A(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,d=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ot}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Qn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await ve(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await O(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ax(async s=>(s>0&&await Rx(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ot})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Aa(i)&&Date.now()+o-r<rr})}catch(r){if(this._debug(n,"error",r),A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),we()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await _n(this.storage,this.storageKey);if(s&&this.userStorage){let o=await _n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await sr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Oa()}else if(s&&!s.user&&!s.user){const o=await _n(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ve(this.storage,this.storageKey+"-user"),await sr(this.storage,this.storageKey,s)):s.user=Oa()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ra;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ra}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Aa(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ve;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ve;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),A(i)){const o={data:null,error:i};return Aa(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await sr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ah(s);await sr(this.storage,this.storageKey,i)}else{const s=ah(n);await sr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${rr}ms, refresh threshold is ${Xl} ticks`),s<=Xl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof eg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Xn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await O(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await O(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?a_(t.webauthn.credential_response):l_(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:i_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:o_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Na(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await O(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ve})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ve});const o=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&we()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ve});const o=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&we()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await O(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ve})})}catch(t){if(A(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await O(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ve})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+mx>s)return r;const{data:i,error:o}=await O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Na(r);n!=null&&n.allowExpired||Mx(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=Ux(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Ex(`${a}.${l}`)))throw new tu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}}Fs.nextInstanceID={};const y_=Fs,v_="2.89.0";let rs="";typeof Deno<"u"?rs="deno":typeof document<"u"?rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rs="react-native":rs="node";const w_={"X-Client-Info":`supabase-js-${rs}/${v_}`},x_={headers:w_},__={schema:"public"},b_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},S_={};function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function k_(e,t){if(Bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E_(e){var t=k_(e,"string");return Bs(t)=="symbol"?t:t+""}function T_(e,t,n){return(t=E_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ph(Object(n),!0).forEach(function(r){T_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const C_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),P_=()=>Headers,j_=(e,t,n)=>{const r=C_(n),s=P_();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,te(te({},o),{},{headers:u}))}};function R_(e){return e.endsWith("/")?e:e+"/"}function A_(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:te(te({},l),s),auth:te(te({},u),i),realtime:te(te({},c),o),storage:{},global:te(te(te({},d),a),{},{headers:te(te({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function N_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(R_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var O_=class extends y_{constructor(e){super(e)}},I_=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=N_(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:__,realtime:S_,auth:te(te({},b_),{},{storageKey:o}),global:x_},l=A_(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=j_(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(te({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new fw(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new cx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new lw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new O_({url:this.authUrl.href,headers:te(te({},h),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rw(this.realtimeUrl.href,te(te({},e),{},{params:te(te({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const D_=(e,t,n)=>new I_(e,t,n);function L_(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}L_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $_="https://kwtdpvnjewtahuxjyltn.supabase.co",M_="sb_publishable_bQlgBZ7Otay8D9AErt8daA_2lQI36jk",nu=D_($_,M_),Da="cw_session",La="cw_session";function U_(e=32){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";const r=new Uint8Array(e);crypto.getRandomValues(r);for(let s=0;s<e;s++)n+=t[r[s]%t.length];return n}function mh(e,t,n){const r=new Date;r.setTime(r.getTime()+n*60*60*1e3),document.cookie=e+"="+t+";expires="+r.toUTCString()+";path=/;SameSite=Strict"}function V_(e){const t=e+"=",n=document.cookie.split(";");for(const r of n){const s=r.trim();if(s.startsWith(t))return s.substring(t.length)}return null}async function F_(){const e=V_(Da)||localStorage.getItem(La);if(e){try{const{data:n}=await nu.from("calculator2_sessions").select("*").eq("session_token",e).gte("last_active_at",new Date(Date.now()-1728e5).toISOString()).single();if(n)return n}catch{console.warn("Session table not available, using local storage only")}return{session_token:e}}const t=U_(32);try{const{data:n}=await nu.from("calculator2_sessions").insert({session_token:t,last_active_at:new Date().toISOString()}).select().single();if(n)return mh(Da,t,48),localStorage.setItem(La,t),n}catch{console.warn("Calculator2 session table not created yet. Using local storage only."),console.warn("To enable session persistence, run: node apply-migration.js")}return mh(Da,t,48),localStorage.setItem(La,t),{session_token:t}}function B_(e,t,n,r){return e==="male"?10*n+6.25*r-5*t+5:10*n+6.25*r-5*t-161}function z_(e,t,n,r,s,i,o){let a=e;t==="lose"?a=e*(1-n/100):t==="gain"&&(a=e*(1+n/100));let l=0,u=0,c=0;if(r==="carnivore"||r==="pescatarian"){const[d,h]=(s||"70-30").split("-").map(w=>parseInt(w)/100),p=a*d,v=a*h;u=Math.round(p/9),l=Math.round(v/4),c=0}else l=Math.round(a*.25/4),u=Math.round(a*.65/9),c=typeof o=="string"?parseFloat(o):o||20;return{calories:Math.round(a),protein:l,fat:u,carbs:c,tdee:Math.round(e)}}function W_({currentStep:e,totalSteps:t,stepLabels:n}){return f.jsxs("div",{className:"w-full mb-8",children:[f.jsx("div",{className:"flex items-center justify-between mb-3",children:n.map((r,s)=>{const i=s+1,o=i===e,a=i<e;return f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold
                    transition-colors
                    ${o?"bg-blue-600 text-white":""}
                    ${a?"bg-green-500 text-white":""}
                    ${!o&&!a?"bg-gray-200 text-gray-600":""}
                  `,children:a?"":i}),s<n.length-1&&f.jsx("div",{className:`
                      flex-1 h-1 mx-2 rounded
                      ${i<e?"bg-green-500":"bg-gray-200"}
                    `})]}),f.jsx("p",{className:`
                mt-2 text-xs font-medium text-center
                ${o?"text-blue-600":""}
                ${a?"text-green-600":""}
                ${!o&&!a?"text-gray-500":""}
              `,children:r})]},s)})}),f.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${e/t*100}%`}})})]})}function H_({children:e,sidebar:t,hideSidebar:n=!1}){return f.jsx("div",{className:"w-full",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 lg:p-10",children:e})}),t&&!n&&f.jsx("div",{className:"lg:col-span-1",children:f.jsx("div",{className:"sticky top-6",children:t})})]})})}function xt({label:e,error:t,helpText:n,icon:r,className:s="",...i}){return f.jsxs("div",{className:"w-full",children:[f.jsxs("label",{htmlFor:i.id||i.name,className:"block text-sm font-medium text-gray-700 mb-2",children:[e,i.required&&f.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{...i,className:`
            w-full px-4 py-2.5 border rounded-lg text-base
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
            transition-colors
            ${t?"border-red-500 bg-red-50":"border-gray-300 bg-white"}
            ${r?"pl-10":""}
            ${s}
          `}),r&&f.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:r})]}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),n&&!t&&f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})}function rg({name:e,label:t,options:n,value:r,onChange:s,error:i,required:o,helpText:a}){return f.jsxs("fieldset",{className:"w-full",children:[f.jsxs("legend",{className:"block text-sm font-medium text-gray-700 mb-3",children:[t,o&&f.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f.jsx("div",{className:"space-y-2",children:n.map(l=>f.jsxs("label",{className:"flex items-start cursor-pointer group",children:[f.jsx("input",{type:"radio",name:e,value:l.value,checked:r===l.value,onChange:u=>s(u.target.value),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500",required:o}),f.jsxs("div",{className:"ml-3 flex-1",children:[f.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-gray-700",children:l.label}),l.description&&f.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:l.description})]})]},l.value))}),i&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:i}),a&&!i&&f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:a})]})}function K_({data:e,onDataChange:t,onContinue:n,errors:r}){const s=(o,a)=>{t({...e,[o]:a})},i=()=>{const o={};if(e.sex||(o.sex="Please select your sex"),(!e.age||e.age<14||e.age>99)&&(o.age="Age must be between 14 and 99"),!e.heightFeet&&!e.heightCm&&(o.height="Please enter your height"),e.heightFeet&&(!e.heightInches||e.heightInches<0||e.heightInches>11)&&(o.heightInches="Inches must be between 0 and 11"),e.heightCm&&(e.heightCm<90||e.heightCm>250)&&(o.heightCm="Height must be between 90 and 250 cm"),(!e.weight||e.weight<80||e.weight>500)&&(o.weight="Weight must be between 80 and 500 lbs"),Object.keys(o).length>0){Object.entries(o).forEach(([a,l])=>{r[a]=l});return}n()};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Let's Start with Your Basics"}),f.jsx("p",{className:"text-gray-600",children:"These measurements help us calculate your personalized macros."})]}),f.jsx(rg,{name:"sex",label:"Biological Sex",options:[{value:"male",label:"Male",description:"Uses male metabolic equations"},{value:"female",label:"Female",description:"Uses female metabolic equations"}],value:e.sex||"",onChange:o=>s("sex",o),error:r.sex,required:!0}),f.jsx(xt,{id:"age",name:"age",type:"number",label:"Age",value:e.age||"",onChange:o=>s("age",parseInt(o.target.value)||""),error:r.age,placeholder:"e.g., 35",min:14,max:99,required:!0}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:()=>s("heightCm",void 0),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e.heightFeet?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Feet & Inches"}),f.jsx("button",{type:"button",onClick:()=>s("heightFeet",void 0),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e.heightCm?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Centimeters"})]}),e.heightCm?f.jsx(xt,{id:"heightCm",name:"heightCm",type:"number",label:"Height (Centimeters)",value:e.heightCm||"",onChange:o=>{const a=parseInt(o.target.value);if(s("heightCm",a||""),a){const{feet:l,inches:u}=(()=>{const c=a/2.54;return{feet:Math.floor(c/12),inches:Math.round(c%12)}})();s("heightFeet",l),s("heightInches",u)}},error:r.heightCm,placeholder:"178",min:90,max:250,required:!0}):f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(xt,{id:"heightFeet",name:"heightFeet",type:"number",label:"Height (Feet)",value:e.heightFeet||"",onChange:o=>s("heightFeet",parseInt(o.target.value)||""),error:r.heightFeet,placeholder:"5",min:3,max:8,required:!0}),f.jsx(xt,{id:"heightInches",name:"heightInches",type:"number",label:"Inches",value:e.heightInches||"",onChange:o=>s("heightInches",parseInt(o.target.value)||0),error:r.heightInches,placeholder:"10",min:0,max:11,required:!0})]})]}),f.jsx(xt,{id:"weight",name:"weight",type:"number",label:"Weight (lbs)",value:e.weight||"",onChange:o=>s("weight",parseInt(o.target.value)||""),error:r.weight,placeholder:"e.g., 200",min:80,max:500,required:!0}),f.jsx("div",{className:"pt-6 flex gap-3",children:f.jsx("button",{onClick:i,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition-colors",children:"Continue to Next Step"})})]})}function dt({label:e,options:t,error:n,helpText:r,placeholder:s,className:i="",...o}){return f.jsxs("div",{className:"w-full",children:[f.jsxs("label",{htmlFor:o.id||o.name,className:"block text-sm font-medium text-gray-700 mb-2",children:[e,o.required&&f.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f.jsxs("select",{...o,className:`
          w-full px-4 py-2.5 border rounded-lg text-base
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
          transition-colors appearance-none bg-white
          ${n?"border-red-500 bg-red-50":"border-gray-300"}
          ${i}
        `,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[s&&f.jsx("option",{value:"",disabled:!0,children:s}),t.map(a=>f.jsx("option",{value:a.value,disabled:a.disabled,children:a.label},a.value))]}),n&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),r&&!n&&f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})}function q_({data:e,onDataChange:t,onContinue:n,onBack:r,errors:s}){var a;const i=(l,u)=>{t({...e,[l]:u})},o=()=>{const l={};if(e.lifestyle||(l.lifestyle="Please select your activity level"),e.exercise||(l.exercise="Please select your exercise frequency"),e.goal||(l.goal="Please select your goal"),e.deficit||(l.deficit="Please select your deficit percentage"),e.diet||(l.diet="Please select your diet type"),Object.keys(l).length>0){Object.entries(l).forEach(([u,c])=>{s[u]=c});return}n()};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your Activity & Goals"}),f.jsx("p",{className:"text-gray-600",children:"These help us tailor your macros to your lifestyle."})]}),f.jsx(dt,{name:"lifestyle",label:"Activity Level",options:[{value:"",label:"Select activity level",disabled:!0},{value:"sedentary",label:" Sedentary (desk job, little exercise)"},{value:"light",label:" Lightly Active (light exercise 1-3 days/week)"},{value:"moderate",label:" Moderately Active (exercise 3-5 days/week)"},{value:"very",label:" Very Active (hard exercise 6-7 days/week)"},{value:"extreme",label:" Extremely Active (physical job + hard exercise)"}],value:e.lifestyle||"",onChange:l=>i("lifestyle",l.target.value),error:s.lifestyle,required:!0}),f.jsx(dt,{name:"exercise",label:"Exercise Frequency",options:[{value:"",label:"Select frequency",disabled:!0},{value:"none",label:"No structured exercise"},{value:"1-2",label:"1-2 days per week"},{value:"3-4",label:"3-4 days per week"},{value:"5-6",label:"5-6 days per week"},{value:"7",label:"7 days per week"}],value:e.exercise||"",onChange:l=>i("exercise",l.target.value),error:s.exercise,required:!0}),f.jsx(rg,{name:"goal",label:"What's Your Goal?",options:[{value:"lose",label:"Fat Loss",description:"Lose weight while preserving muscle"},{value:"maintain",label:"Maintenance",description:"Maintain current weight"},{value:"gain",label:"Muscle Gain",description:"Build muscle mass"}],value:e.goal||"",onChange:l=>i("goal",l),error:s.goal,required:!0}),(e.goal==="lose"||e.goal==="gain")&&f.jsx(dt,{name:"deficit",label:e.goal==="lose"?"Deficit Target":"Surplus Target",options:[{value:"",label:`Select ${e.goal==="lose"?"deficit":"surplus"}`,disabled:!0},{value:"10",label:"10% (Conservative, sustainable)"},{value:"15",label:"15% (Moderate)"},{value:"20",label:"20% (Aggressive)"},{value:"25",label:"25% (Very aggressive)"}],value:((a=e.deficit)==null?void 0:a.toString())||"",onChange:l=>i("deficit",parseInt(l.target.value)||""),error:s.deficit,required:!0}),e.goal==="maintain"&&f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsx("p",{className:"text-sm text-blue-900",children:" At maintenance, you'll eat at your TDEE (Total Daily Energy Expenditure)."})}),f.jsx(dt,{name:"diet",label:"Diet Preference",options:[{value:"",label:"Select diet type",disabled:!0},{value:"carnivore",label:" Carnivore (beef, lamb, organs only)"},{value:"pescatarian",label:" Pescatarian (add fish & seafood)"},{value:"keto",label:" Keto (low-carb, fat-focused)"},{value:"lowcarb",label:" Low-Carb (moderate carbs)"}],value:e.diet||"",onChange:l=>i("diet",l.target.value),error:s.diet,required:!0}),f.jsxs("div",{className:"pt-6 flex gap-3",children:[f.jsx("button",{onClick:r,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-900 font-medium py-3 rounded-lg transition-colors",children:"Back"}),f.jsx("button",{onClick:o,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition-colors",children:"See Your Results"})]})]})}function G_({data:e,macros:t,onUpgrade:n,onBack:r}){return t?f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Your Personalized Carnivore Macros"}),f.jsx("p",{className:"text-gray-600",children:"Based on your profile and goals"})]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-700",children:"Sex:"}),f.jsx("span",{className:"font-medium text-gray-900 capitalize",children:e.sex})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-700",children:"Age:"}),f.jsxs("span",{className:"font-medium text-gray-900",children:[e.age," years"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-700",children:"Height:"}),f.jsx("span",{className:"font-medium text-gray-900",children:e.heightFeet?`${e.heightFeet}'${e.heightInches}"`:`${e.heightCm}cm`})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-700",children:"Weight:"}),f.jsxs("span",{className:"font-medium text-gray-900",children:[e.weight," lbs"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-700",children:"Activity Level:"}),f.jsx("span",{className:"font-medium text-gray-900 capitalize",children:e.lifestyle})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-700",children:"Goal:"}),f.jsx("span",{className:"font-medium text-gray-900 capitalize",children:e.goal})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 text-center",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Daily Calories"}),f.jsx("p",{className:"text-4xl font-bold text-blue-600 mb-1",children:t.calories}),f.jsx("p",{className:"text-xs text-gray-500",children:"kcal"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6 text-center",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Maintenance Calories"}),f.jsx("p",{className:"text-4xl font-bold text-purple-600 mb-1",children:t.tdee}),f.jsx("p",{className:"text-xs text-gray-500",children:"TDEE"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-6 text-center",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Protein"}),f.jsx("p",{className:"text-4xl font-bold text-red-600 mb-1",children:t.protein}),f.jsx("p",{className:"text-xs text-gray-500",children:"g per day"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-6 text-center",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Fat"}),f.jsx("p",{className:"text-4xl font-bold text-orange-600 mb-1",children:t.fat}),f.jsx("p",{className:"text-xs text-gray-500",children:"g per day"})]})]}),f.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"What This Looks Like in Food"}),f.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"To hit your macro targets, aim for approximately:"}),f.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[f.jsxs("li",{children:[" ",f.jsxs("strong",{children:[(t.protein/25).toFixed(1)," lbs of ground beef"]})," (80/20 blend)"]}),f.jsxs("li",{children:[" ",f.jsxs("strong",{children:["OR ",(t.protein/30).toFixed(1)," lbs of ribeye steak"]})]}),f.jsxs("li",{children:[" ",f.jsxs("strong",{children:["OR ",(t.protein/20).toFixed(1)," lbs of organs"]})," (liver, kidney) + fatty cuts"]})]})]}),f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[f.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" These Are Your Free Results"}),f.jsx("p",{className:"text-sm text-blue-800 mb-4",children:"Your macros are calculated using industry-standard formulas (Mifflin-St Jeor equation). This gives you a solid starting point!"}),f.jsxs("p",{className:"text-sm text-blue-800",children:[" ",f.jsx("strong",{children:"Upgrade for personalized guidance:"})," Get meal plans, electrolyte recommendations, supplements specific to your health conditions, and more."]})]}),f.jsxs("div",{className:"pt-6 flex flex-col gap-3",children:[f.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white font-bold py-4 rounded-lg transition-all",children:" Upgrade for Full Personalized Protocol"}),f.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Unlock AI-powered personalization, meal plans, and detailed guidance"})]}),f.jsx("button",{onClick:r,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-900 font-medium py-3 rounded-lg transition-colors",children:"Back"})]}):f.jsx("div",{className:"space-y-6",children:f.jsx("p",{className:"text-gray-600",children:"Loading your results..."})})}function Bt({label:e,error:t,helpText:n,characterCount:r,className:s="",maxLength:i,value:o,...a}){const l=typeof o=="string"?o.length:0;return f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[f.jsxs("label",{htmlFor:a.id||a.name,className:"block text-sm font-medium text-gray-700",children:[e,a.required&&f.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r&&i&&f.jsxs("span",{className:"text-xs text-gray-500",children:[l,"/",i]})]}),f.jsx("textarea",{...a,value:o,maxLength:i,className:`
          w-full px-4 py-2.5 border rounded-lg text-base
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
          transition-colors resize-none
          ${t?"border-red-500 bg-red-50":"border-gray-300 bg-white"}
          ${s}
        `}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),n&&!t&&f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})}function gh({name:e,label:t,options:n,values:r,onChange:s,error:i,required:o,helpText:a}){const l=u=>{const c=r.includes(u)?r.filter(d=>d!==u):[...r,u];s(c)};return f.jsxs("fieldset",{className:"w-full",children:[f.jsxs("legend",{className:"block text-sm font-medium text-gray-700 mb-3",children:[t,o&&f.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f.jsx("div",{className:"space-y-2",children:n.map(u=>f.jsxs("label",{className:"flex items-start cursor-pointer group",children:[f.jsx("input",{type:"checkbox",name:e,value:u.value,checked:r.includes(u.value),onChange:()=>l(u.value),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:o&&r.length===0}),f.jsxs("div",{className:"ml-3 flex-1",children:[f.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-gray-700",children:u.label}),u.description&&f.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:u.description})]})]},u.value))}),i&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:i}),a&&!i&&f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:a})]})}function J_({data:e,onDataChange:t,onSubmit:n,onBack:r,errors:s}){const i=(a,l)=>{t({...e,[a]:l})},o=()=>{const a={};if(e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(a.email="Please enter a valid email"):a.email="Email is required",Object.keys(a).length>0){Object.entries(a).forEach(([l,u])=>{s[l]=u});return}n()};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Complete Your Health Profile"}),f.jsx("p",{className:"text-gray-600",children:"This information helps us personalize your nutrition plan and provide better recommendations."})]}),f.jsxs("section",{className:"border-t pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Contact Information"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(xt,{id:"email",name:"email",type:"email",label:"Email Address",value:e.email||"",onChange:a=>i("email",a.target.value),error:s.email,placeholder:"your@email.com",required:!0}),f.jsx(xt,{id:"firstName",name:"firstName",type:"text",label:"First Name",value:e.firstName||"",onChange:a=>i("firstName",a.target.value),placeholder:"John"}),f.jsx(xt,{id:"lastName",name:"lastName",type:"text",label:"Last Name",value:e.lastName||"",onChange:a=>i("lastName",a.target.value),placeholder:"Doe"})]})]}),f.jsxs("section",{className:"border-t pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Health & Medical"}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(Bt,{id:"medications",name:"medications",label:"Current Medications",value:e.medications||"",onChange:a=>i("medications",a.target.value),placeholder:"e.g., Metformin, Lisinopril, etc.",rows:4,maxLength:5e3,helpText:"Optional - Helps us provide safe dietary recommendations"}),f.jsx(gh,{name:"conditions",label:"Health Conditions (select all that apply)",options:[{value:"diabetes",label:"Diabetes"},{value:"heart-disease",label:"Heart Disease"},{value:"thyroid",label:"Thyroid Disorder"},{value:"pcos",label:"PCOS"},{value:"arthritis",label:"Joint Pain/Arthritis"},{value:"none",label:"None of the above"}],values:e.conditions||[],onChange:a=>i("conditions",a),helpText:"Optional - Select all that apply"}),f.jsx(xt,{id:"otherConditions",name:"otherConditions",type:"text",label:"Other Conditions",value:e.otherConditions||"",onChange:a=>i("otherConditions",a.target.value),placeholder:"Specify others not listed above"}),f.jsx(Bt,{id:"symptoms",name:"symptoms",label:"Current Symptoms",value:e.symptoms||"",onChange:a=>i("symptoms",a.target.value),placeholder:"e.g., fatigue, brain fog, joint pain, etc.",rows:4,maxLength:5e3,helpText:"Optional - Helps us tailor recommendations"}),f.jsx(xt,{id:"otherSymptoms",name:"otherSymptoms",type:"text",label:"Other Symptoms",value:e.otherSymptoms||"",onChange:a=>i("otherSymptoms",a.target.value),placeholder:"Specify others not listed above"})]})]}),f.jsxs("section",{className:"border-t pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Dietary Restrictions"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Bt,{id:"allergies",name:"allergies",label:"Allergies",value:e.allergies||"",onChange:a=>i("allergies",a.target.value),placeholder:"List any food allergies (e.g., shellfish, tree nuts)...",rows:2}),f.jsx(Bt,{id:"avoidFoods",name:"avoidFoods",label:"Foods to Avoid",value:e.avoidFoods||"",onChange:a=>i("avoidFoods",a.target.value),placeholder:"Any foods you want to avoid (preferences, intolerances, etc.)...",rows:2}),f.jsx(dt,{name:"dairyTolerance",label:"Dairy Tolerance",options:[{value:"",label:"Select dairy tolerance",disabled:!0},{value:"none",label:"No dairy at all"},{value:"butter-only",label:"Butter only"},{value:"some",label:"Some dairy (cheese, heavy cream)"},{value:"full",label:"Full dairy tolerance"}],value:e.dairyTolerance||"",onChange:a=>i("dairyTolerance",a.target.value)})]})]}),f.jsxs("section",{className:"border-t pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Your Diet Journey"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Bt,{id:"previousDiets",name:"previousDiets",label:"Previous Diets Tried",value:e.previousDiets||"",onChange:a=>i("previousDiets",a.target.value),placeholder:"What diets have you tried before? How long? Results?...",rows:3}),f.jsx(Bt,{id:"whatWorked",name:"whatWorked",label:"What Worked for You",value:e.whatWorked||"",onChange:a=>i("whatWorked",a.target.value),placeholder:"Which approaches gave you the best results?...",rows:3}),f.jsx(dt,{name:"carnivoreExperience",label:"Carnivore Experience",options:[{value:"",label:"Select your experience level",disabled:!0},{value:"new",label:"Completely new to carnivore"},{value:"weeks",label:"A few weeks"},{value:"months",label:"Several months"},{value:"years",label:"Over a year"}],value:e.carnivoreExperience||"",onChange:a=>i("carnivoreExperience",a.target.value)})]})]}),f.jsxs("section",{className:"border-t pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Lifestyle & Preferences"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(dt,{name:"cookingSkill",label:"Cooking Skill",options:[{value:"",label:"Select your skill level",disabled:!0},{value:"beginner",label:"Beginner (basic cooking)"},{value:"intermediate",label:"Intermediate (comfortable in kitchen)"},{value:"advanced",label:"Advanced (experienced cook)"}],value:e.cookingSkill||"",onChange:a=>i("cookingSkill",a.target.value)}),f.jsx(dt,{name:"mealPrepTime",label:"Meal Prep Time Available",options:[{value:"",label:"Select time availability",disabled:!0},{value:"minimal",label:"Minimal (quick meals only)"},{value:"some",label:"Some (30-60 min/day)"},{value:"lots",label:"Plenty (enjoy meal prep)"}],value:e.mealPrepTime||"",onChange:a=>i("mealPrepTime",a.target.value)}),f.jsx(dt,{name:"budget",label:"Budget",options:[{value:"",label:"Select your budget level",disabled:!0},{value:"tight",label:"Tight budget"},{value:"moderate",label:"Moderate budget"},{value:"flexible",label:"Flexible budget"}],value:e.budget||"",onChange:a=>i("budget",a.target.value)}),f.jsx(dt,{name:"familySituation",label:"Family Situation",options:[{value:"",label:"Select your situation",disabled:!0},{value:"solo",label:"Cooking for myself"},{value:"partner",label:"Partner/spouse"},{value:"family-with-kids",label:"Family with kids"},{value:"large-household",label:"Large household (4+)"}],value:e.familySituation||"",onChange:a=>i("familySituation",a.target.value)}),f.jsx(dt,{name:"workTravel",label:"Work Schedule",options:[{value:"",label:"Select your schedule",disabled:!0},{value:"office",label:"Regular office hours"},{value:"remote",label:"Work from home"},{value:"shift-work",label:"Shift work"},{value:"travel",label:"Frequent travel"}],value:e.workTravel||"",onChange:a=>i("workTravel",a.target.value)})]})]}),f.jsxs("section",{className:"border-t pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Your Goals"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(gh,{name:"goals",label:"What are you hoping to achieve?",options:[{value:"weightloss",label:"Weight loss / fat loss"},{value:"mental",label:"Mental clarity / focus"},{value:"guthealth",label:"Gut health / digestion"},{value:"inflammation",label:"Reduce inflammation"},{value:"energy",label:"More energy"},{value:"athletic",label:"Athletic performance"},{value:"hormones",label:"Hormone balance"}],values:e.goals||[],onChange:a=>i("goals",a)}),f.jsx(Bt,{id:"biggestChallenge",name:"biggestChallenge",label:"Biggest Challenge",value:e.biggestChallenge||"",onChange:a=>i("biggestChallenge",a.target.value),placeholder:"What's your biggest obstacle to sticking with a diet?...",rows:3}),f.jsx(Bt,{id:"additionalNotes",name:"additionalNotes",label:"Anything Else?",value:e.additionalNotes||"",onChange:a=>i("additionalNotes",a.target.value),placeholder:"Anything else we should know to personalize your protocol?...",rows:3})]})]}),f.jsxs("section",{className:"border-t pt-8 space-y-4",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Your information is secure and will be used only to generate your personalized nutrition protocol."}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:r,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-900 font-medium py-3 rounded-lg transition-colors",children:"Back"}),f.jsx("button",{onClick:o,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition-colors",children:"Generate My Protocol"})]})]})]})}const sg=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Wo=T.createContext({}),Ho=T.createContext(null),Ko=typeof document<"u",mc=Ko?T.useLayoutEffect:T.useEffect,ig=T.createContext({strict:!1}),gc=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Y_="framerAppearId",og="data-"+gc(Y_);function Q_(e,t,n,r){const{visualElement:s}=T.useContext(Wo),i=T.useContext(ig),o=T.useContext(Ho),a=T.useContext(sg).reducedMotion,l=T.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;T.useInsertionEffect(()=>{u&&u.update(n,o)});const c=T.useRef(!!(n[og]&&!window.HandoffComplete));return mc(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function vr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function X_(e,t,n){return T.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):vr(n)&&(n.current=r))},[t])}function zs(e){return typeof e=="string"||Array.isArray(e)}function qo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const yc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vc=["initial",...yc];function Go(e){return qo(e.animate)||vc.some(t=>zs(e[t]))}function ag(e){return!!(Go(e)||e.variants)}function Z_(e,t){if(Go(e)){const{initial:n,animate:r}=e;return{initial:n===!1||zs(n)?n:void 0,animate:zs(r)?r:void 0}}return e.inherit!==!1?t:{}}function eb(e){const{initial:t,animate:n}=Z_(e,T.useContext(Wo));return T.useMemo(()=>({initial:t,animate:n}),[yh(t),yh(n)])}function yh(e){return Array.isArray(e)?e.join(" "):e}const vh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ws={};for(const e in vh)Ws[e]={isEnabled:t=>vh[e].some(n=>!!t[n])};function tb(e){for(const t in e)Ws[t]={...Ws[t],...e[t]}}const wc=T.createContext({}),lg=T.createContext({}),nb=Symbol.for("motionComponentSymbol");function rb({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&tb(e);function i(a,l){let u;const c={...T.useContext(sg),...a,layoutId:sb(a)},{isStatic:d}=c,h=eb(a),p=r(a,d);if(!d&&Ko){h.visualElement=Q_(s,p,c,t);const v=T.useContext(lg),w=T.useContext(ig).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,w,e,v))}return T.createElement(Wo.Provider,{value:h},u&&h.visualElement?T.createElement(u,{visualElement:h.visualElement,...c}):null,n(s,a,X_(p,h.visualElement,l),p,d,h.visualElement))}const o=T.forwardRef(i);return o[nb]=s,o}function sb({layoutId:e}){const t=T.useContext(wc).id;return t&&e!==void 0?t+"-"+e:e}function ib(e){function t(r,s={}){return rb(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const ob=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xc(e){return typeof e!="string"||e.includes("-")?!1:!!(ob.indexOf(e)>-1||/[A-Z]/.test(e))}const go={};function ab(e){Object.assign(go,e)}const Xs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kn=new Set(Xs);function ug(e,{layout:t,layoutId:n}){return Kn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!go[e]||e==="opacity")}const Me=e=>!!(e&&e.getVelocity),lb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ub=Xs.length;function cb(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<ub;o++){const a=Xs[o];if(e[a]!==void 0){const l=lb[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const cg=e=>t=>typeof t=="string"&&t.startsWith(e),dg=cg("--"),ru=cg("var(--"),db=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hb=(e,t)=>t&&typeof e=="number"?t.transform(e):e,dn=(e,t,n)=>Math.min(Math.max(n,e),t),qn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gs={...qn,transform:e=>dn(0,1,e)},ki={...qn,default:1},ys=e=>Math.round(e*1e5)/1e5,Jo=/(-)?([\d]*\.?[\d])+/g,hg=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fb=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zs(e){return typeof e=="string"}const ei=e=>({test:t=>Zs(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zt=ei("deg"),St=ei("%"),D=ei("px"),pb=ei("vh"),mb=ei("vw"),wh={...St,parse:e=>St.parse(e)/100,transform:e=>St.transform(e*100)},xh={...qn,transform:Math.round},fg={borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,size:D,top:D,right:D,bottom:D,left:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,rotate:zt,rotateX:zt,rotateY:zt,rotateZ:zt,scale:ki,scaleX:ki,scaleY:ki,scaleZ:ki,skew:zt,skewX:zt,skewY:zt,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,transformPerspective:D,opacity:gs,originX:wh,originY:wh,originZ:D,zIndex:xh,fillOpacity:gs,strokeOpacity:gs,numOctaves:xh};function _c(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const d in t){const h=t[d];if(dg(d)){i[d]=h;continue}const p=fg[d],v=hb(h,p);if(Kn.has(d)){if(l=!0,o[d]=v,!c)continue;h!==(p.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=v):s[d]=v}if(t.transform||(l||r?s.transform=cb(e.transform,n,c,r):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;s.transformOrigin=`${d} ${h} ${p}`}}const bc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pg(e,t,n){for(const r in t)!Me(t[r])&&!ug(r,n)&&(e[r]=t[r])}function gb({transformTemplate:e},t,n){return T.useMemo(()=>{const r=bc();return _c(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function yb(e,t,n){const r=e.style||{},s={};return pg(s,r,e),Object.assign(s,gb(e,t,n)),e.transformValues?e.transformValues(s):s}function vb(e,t,n){const r={},s=yb(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const wb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wb.has(e)}let mg=e=>!yo(e);function xb(e){e&&(mg=t=>t.startsWith("on")?!yo(t):e(t))}try{xb(require("@emotion/is-prop-valid").default)}catch{}function _b(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(mg(s)||n===!0&&yo(s)||!t&&!yo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function _h(e,t,n){return typeof e=="string"?e:D.transform(t+n*e)}function bb(e,t,n){const r=_h(t,e.x,e.width),s=_h(n,e.y,e.height);return`${r} ${s}`}const Sb={offset:"stroke-dashoffset",array:"stroke-dasharray"},kb={offset:"strokeDashoffset",array:"strokeDasharray"};function Eb(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Sb:kb;e[i.offset]=D.transform(-r);const o=D.transform(t),a=D.transform(n);e[i.array]=`${o} ${a}`}function Sc(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,h){if(_c(e,u,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v,dimensions:w}=e;p.transform&&(w&&(v.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=bb(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Eb(p,o,a,l,!1)}const gg=()=>({...bc(),attrs:{}}),kc=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Tb(e,t,n,r){const s=T.useMemo(()=>{const i=gg();return Sc(i,t,{enableHardwareAcceleration:!1},kc(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};pg(i,e.style,e),s.style={...i,...s.style}}return s}function Cb(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(xc(n)?Tb:vb)(r,i,o,n),c={..._b(r,typeof n=="string",e),...l,ref:s},{children:d}=r,h=T.useMemo(()=>Me(d)?d.get():d,[d]);return T.createElement(n,{...c,children:h})}}function yg(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const vg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wg(e,t,n,r){yg(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(vg.has(s)?s:gc(s),t.attrs[s])}function Ec(e,t){const{style:n}=e,r={};for(const s in n)(Me(n[s])||t.style&&Me(t.style[s])||ug(s,e))&&(r[s]=n[s]);return r}function xg(e,t){const n=Ec(e,t);for(const r in e)if(Me(e[r])||Me(t[r])){const s=Xs.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Tc(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function _g(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const vo=e=>Array.isArray(e),Pb=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),jb=e=>vo(e)?e[e.length-1]||0:e;function Vi(e){const t=Me(e)?e.get():e;return Pb(t)?t.toValue():t}function Rb({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:Ab(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const bg=e=>(t,n)=>{const r=T.useContext(Wo),s=T.useContext(Ho),i=()=>Rb(e,t,r,s);return n?i():_g(i)};function Ab(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Vi(i[h]);let{initial:o,animate:a}=e;const l=Go(e),u=ag(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!qo(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const v=Tc(e,p);if(!v)return;const{transitionEnd:w,transition:_,...y}=v;for(const m in y){let g=y[m];if(Array.isArray(g)){const x=c?g.length-1:0;g=g[x]}g!==null&&(s[m]=g)}for(const m in w)s[m]=w[m]}),s}const ie=e=>e;class bh{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Nb(e){let t=new bh,n=new bh,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&s,h=d?t:n;return u&&o.add(l),h.add(l)&&d&&s&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),o.has(c)&&(a.schedule(c),e())}s=!1,i&&(i=!1,a.process(l))}};return a}const Ei=["prepare","read","update","preRender","render","postRender"],Ob=40;function Ib(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Ei.reduce((d,h)=>(d[h]=Nb(()=>n=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,Ob),1),s.timestamp=d,s.isProcessing=!0,Ei.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:Ei.reduce((d,h)=>{const p=i[h];return d[h]=(v,w=!1,_=!1)=>(n||l(),p.schedule(v,w,_)),d},{}),cancel:d=>Ei.forEach(h=>i[h].cancel(d)),state:s,steps:i}}const{schedule:W,cancel:$t,state:Ee,steps:$a}=Ib(typeof requestAnimationFrame<"u"?requestAnimationFrame:ie,!0),Db={useVisualState:bg({scrapeMotionValuesFromProps:xg,createRenderState:gg,onMount:(e,t,{renderState:n,latestValues:r})=>{W.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),W.render(()=>{Sc(n,r,{enableHardwareAcceleration:!1},kc(t.tagName),e.transformTemplate),wg(t,n)})}})},Lb={useVisualState:bg({scrapeMotionValuesFromProps:Ec,createRenderState:bc})};function $b(e,{forwardMotionProps:t=!1},n,r){return{...xc(e)?Db:Lb,preloadedFeatures:n,useRender:Cb(t),createVisualElement:r,Component:e}}function jt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Sg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Yo(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Mb=e=>t=>Sg(t)&&e(t,Yo(t));function At(e,t,n,r){return jt(e,t,Mb(n),r)}const Ub=(e,t)=>n=>t(e(n)),ln=(...e)=>e.reduce(Ub);function kg(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Sh=kg("dragHorizontal"),kh=kg("dragVertical");function Eg(e){let t=!1;if(e==="y")t=kh();else if(e==="x")t=Sh();else{const n=Sh(),r=kh();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Tg(){const e=Eg(!0);return e?(e(),!1):!0}class gn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Eh(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Tg())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&W.update(()=>a[r](i,o))};return At(e.current,n,s,{passive:!e.getProps()[r]})}class Vb extends gn{mount(){this.unmount=ln(Eh(this.node,!0),Eh(this.node,!1))}unmount(){}}class Fb extends gn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ln(jt(this.node.current,"focus",()=>this.onFocus()),jt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Cg=(e,t)=>t?e===t?!0:Cg(e,t.parentElement):!1;function Ma(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Yo(n))}class Bb extends gn{constructor(){super(...arguments),this.removeStartListeners=ie,this.removeEndListeners=ie,this.removeAccessibleListeners=ie,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=At(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps();W.update(()=>{!d&&!Cg(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=At(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ln(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ma("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&W.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=jt(this.node.current,"keyup",o),Ma("down",(a,l)=>{this.startPress(a,l)})},n=jt(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ma("cancel",(i,o)=>this.cancelPress(i,o))},s=jt(this.node.current,"blur",r);this.removeAccessibleListeners=ln(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&W.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Tg()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&W.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=At(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=jt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ln(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const su=new WeakMap,Ua=new WeakMap,zb=e=>{const t=su.get(e.target);t&&t(e)},Wb=e=>{e.forEach(zb)};function Hb({root:e,...t}){const n=e||document;Ua.has(n)||Ua.set(n,{});const r=Ua.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Wb,{root:e,...t})),r[s]}function Kb(e,t,n){const r=Hb(t);return su.set(e,n),r.observe(e),()=>{su.delete(e),r.unobserve(e)}}const qb={some:0,all:1};class Gb extends gn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:qb[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return Kb(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Jb(t,n))&&this.startObserver()}unmount(){}}function Jb({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Yb={inView:{Feature:Gb},tap:{Feature:Bb},focus:{Feature:Fb},hover:{Feature:Vb}};function Pg(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Qb(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Xb(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Qo(e,t,n){const r=e.getProps();return Tc(r,t,n!==void 0?n:r.custom,Qb(e),Xb(e))}let Cc=ie;const Mn=e=>e*1e3,Nt=e=>e/1e3,Zb={current:!1},jg=e=>Array.isArray(e)&&typeof e[0]=="number";function Rg(e){return!!(!e||typeof e=="string"&&Ag[e]||jg(e)||Array.isArray(e)&&e.every(Rg))}const ss=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ag={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ss([0,.65,.55,1]),circOut:ss([.55,0,1,.45]),backIn:ss([.31,.01,.66,-.59]),backOut:ss([.33,1.53,.69,.99])};function Ng(e){if(e)return jg(e)?ss(e):Array.isArray(e)?e.map(Ng):Ag[e]}function eS(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Ng(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function tS(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Og=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,nS=1e-7,rS=12;function sS(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Og(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>nS&&++a<rS);return o}function ti(e,t,n,r){if(e===t&&n===r)return ie;const s=i=>sS(i,0,1,e,n);return i=>i===0||i===1?i:Og(s(i),t,r)}const iS=ti(.42,0,1,1),oS=ti(0,0,.58,1),Ig=ti(.42,0,.58,1),aS=e=>Array.isArray(e)&&typeof e[0]!="number",Dg=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Lg=e=>t=>1-e(1-t),Pc=e=>1-Math.sin(Math.acos(e)),$g=Lg(Pc),lS=Dg(Pc),Mg=ti(.33,1.53,.69,.99),jc=Lg(Mg),uS=Dg(jc),cS=e=>(e*=2)<1?.5*jc(e):.5*(2-Math.pow(2,-10*(e-1))),dS={linear:ie,easeIn:iS,easeInOut:Ig,easeOut:oS,circIn:Pc,circInOut:lS,circOut:$g,backIn:jc,backInOut:uS,backOut:Mg,anticipate:cS},Th=e=>{if(Array.isArray(e)){Cc(e.length===4);const[t,n,r,s]=e;return ti(t,n,r,s)}else if(typeof e=="string")return dS[e];return e},Rc=(e,t)=>n=>!!(Zs(n)&&fb.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ug=(e,t,n)=>r=>{if(!Zs(r))return r;const[s,i,o,a]=r.match(Jo);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},hS=e=>dn(0,255,e),Va={...qn,transform:e=>Math.round(hS(e))},Dn={test:Rc("rgb","red"),parse:Ug("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Va.transform(e)+", "+Va.transform(t)+", "+Va.transform(n)+", "+ys(gs.transform(r))+")"};function fS(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const iu={test:Rc("#"),parse:fS,transform:Dn.transform},wr={test:Rc("hsl","hue"),parse:Ug("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+St.transform(ys(t))+", "+St.transform(ys(n))+", "+ys(gs.transform(r))+")"},Pe={test:e=>Dn.test(e)||iu.test(e)||wr.test(e),parse:e=>Dn.test(e)?Dn.parse(e):wr.test(e)?wr.parse(e):iu.parse(e),transform:e=>Zs(e)?e:e.hasOwnProperty("red")?Dn.transform(e):wr.transform(e)},X=(e,t,n)=>-n*e+n*t+e;function Fa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pS({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Fa(l,a,e+1/3),i=Fa(l,a,e),o=Fa(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Ba=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},mS=[iu,Dn,wr],gS=e=>mS.find(t=>t.test(e));function Ch(e){const t=gS(e);let n=t.parse(e);return t===wr&&(n=pS(n)),n}const Vg=(e,t)=>{const n=Ch(e),r=Ch(t),s={...n};return i=>(s.red=Ba(n.red,r.red,i),s.green=Ba(n.green,r.green,i),s.blue=Ba(n.blue,r.blue,i),s.alpha=X(n.alpha,r.alpha,i),Dn.transform(s))};function yS(e){var t,n;return isNaN(e)&&Zs(e)&&(((t=e.match(Jo))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(hg))===null||n===void 0?void 0:n.length)||0)>0}const Fg={regex:db,countKey:"Vars",token:"${v}",parse:ie},Bg={regex:hg,countKey:"Colors",token:"${c}",parse:Pe.parse},zg={regex:Jo,countKey:"Numbers",token:"${n}",parse:qn.parse};function za(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function wo(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&za(n,Fg),za(n,Bg),za(n,zg),n}function Wg(e){return wo(e).values}function Hg(e){const{values:t,numColors:n,numVars:r,tokenised:s}=wo(e),i=t.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(Fg.token,o[l]):l<r+n?a=a.replace(Bg.token,Pe.transform(o[l])):a=a.replace(zg.token,ys(o[l]));return a}}const vS=e=>typeof e=="number"?0:e;function wS(e){const t=Wg(e);return Hg(e)(t.map(vS))}const hn={test:yS,parse:Wg,createTransformer:Hg,getAnimatableNone:wS},Kg=(e,t)=>n=>`${n>0?t:e}`;function qg(e,t){return typeof e=="number"?n=>X(e,t,n):Pe.test(e)?Vg(e,t):e.startsWith("var(")?Kg(e,t):Jg(e,t)}const Gg=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>qg(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},xS=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=qg(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Jg=(e,t)=>{const n=hn.createTransformer(t),r=wo(e),s=wo(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?ln(Gg(r.values,s.values),n):Kg(e,t)},Hs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ph=(e,t)=>n=>X(e,t,n);function _S(e){return typeof e=="number"?Ph:typeof e=="string"?Pe.test(e)?Vg:Jg:Array.isArray(e)?Gg:typeof e=="object"?xS:Ph}function bS(e,t,n){const r=[],s=n||_S(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ie:t;a=ln(l,a)}r.push(a)}return r}function Yg(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Cc(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=bS(t,r,s),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const d=Hs(e[c],e[c+1],u);return o[c](d)};return n?u=>l(dn(e[0],e[i-1],u)):l}function SS(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Hs(0,t,r);e.push(X(n,1,s))}}function kS(e){const t=[0];return SS(t,e.length-1),t}function ES(e,t){return e.map(n=>n*t)}function TS(e,t){return e.map(()=>t||Ig).splice(0,e.length-1)}function xo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=aS(r)?r.map(Th):Th(r),i={done:!1,value:t[0]},o=ES(n&&n.length===t.length?n:kS(t),e),a=Yg(o,t,{ease:Array.isArray(s)?s:TS(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function Qg(e,t){return t?e*(1e3/t):0}const CS=5;function Xg(e,t,n){const r=Math.max(t-CS,0);return Qg(n-e(r),t-r)}const Wa=.001,PS=.01,jS=10,RS=.05,AS=1;function NS({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,o=1-t;o=dn(RS,AS,o),e=dn(PS,jS,Nt(e)),o<1?(s=u=>{const c=u*o,d=c*e,h=c-n,p=ou(u,o),v=Math.exp(-d);return Wa-h/p*v},i=u=>{const d=u*o*e,h=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-d),w=ou(Math.pow(u,2),o);return(-s(u)+Wa>0?-1:1)*((h-p)*v)/w}):(s=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-Wa+c*d},i=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=IS(s,i,a);if(e=Mn(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const OS=12;function IS(e,t,n){let r=n;for(let s=1;s<OS;s++)r=r-e(r)/t(r);return r}function ou(e,t){return e*Math.sqrt(1-t*t)}const DS=["duration","bounce"],LS=["stiffness","damping","mass"];function jh(e,t){return t.some(n=>e[n]!==void 0)}function $S(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!jh(e,LS)&&jh(e,DS)){const n=NS(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Zg({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=$S({...r,velocity:-Nt(r.velocity||0)}),p=d||0,v=l/(2*Math.sqrt(a*u)),w=i-s,_=Nt(Math.sqrt(a/u)),y=Math.abs(w)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let m;if(v<1){const g=ou(_,v);m=x=>{const b=Math.exp(-v*_*x);return i-b*((p+v*_*w)/g*Math.sin(g*x)+w*Math.cos(g*x))}}else if(v===1)m=g=>i-Math.exp(-_*g)*(w+(p+_*w)*g);else{const g=_*Math.sqrt(v*v-1);m=x=>{const b=Math.exp(-v*_*x),S=Math.min(g*x,300);return i-b*((p+v*_*w)*Math.sinh(S)+g*w*Math.cosh(S))/g}}return{calculatedDuration:h&&c||null,next:g=>{const x=m(g);if(h)o.done=g>=c;else{let b=p;g!==0&&(v<1?b=Xg(m,g,x):b=0);const S=Math.abs(b)<=n,k=Math.abs(i-x)<=t;o.done=S&&k}return o.value=o.done?i:x,o}}}function Rh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],h={done:!1,value:d},p=E=>a!==void 0&&E<a||l!==void 0&&E>l,v=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let w=n*t;const _=d+w,y=o===void 0?_:o(_);y!==_&&(w=y-d);const m=E=>-w*Math.exp(-E/r),g=E=>y+m(E),x=E=>{const R=m(E),N=g(E);h.done=Math.abs(R)<=u,h.value=h.done?y:N};let b,S;const k=E=>{p(h.value)&&(b=E,S=Zg({keyframes:[h.value,v(h.value)],velocity:Xg(g,E,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:E=>{let R=!1;return!S&&b===void 0&&(R=!0,x(E),k(E)),b!==void 0&&E>b?S.next(E-b):(!R&&x(E),h)}}}const MS=e=>{const t=({timestamp:n})=>e(n);return{start:()=>W.update(t,!0),stop:()=>$t(t),now:()=>Ee.isProcessing?Ee.timestamp:performance.now()}},Ah=2e4;function Nh(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ah;)t+=n,r=e.next(t);return t>=Ah?1/0:t}const US={decay:Rh,inertia:Rh,tween:xo,keyframes:xo,spring:Zg};function _o({autoplay:e=!0,delay:t=0,driver:n=MS,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let p=1,v=!1,w,_;const y=()=>{_=new Promise($=>{w=$})};y();let m;const g=US[s]||xo;let x;g!==xo&&typeof r[0]!="number"&&(x=Yg([0,100],r,{clamp:!1}),r=[0,100]);const b=g({...h,keyframes:r});let S;a==="mirror"&&(S=g({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let k="idle",E=null,R=null,N=null;b.calculatedDuration===null&&i&&(b.calculatedDuration=Nh(b));const{calculatedDuration:oe}=b;let de=1/0,ye=1/0;oe!==null&&(de=oe+o,ye=de*(i+1)-o);let ae=0;const Vt=$=>{if(R===null)return;p>0&&(R=Math.min(R,$)),p<0&&(R=Math.min($-ye/p,R)),E!==null?ae=E:ae=Math.round($-R)*p;const G=ae-t*(p>=0?1:-1),yn=p>=0?G<0:G>ye;ae=Math.max(G,0),k==="finished"&&E===null&&(ae=ye);let gt=ae,Gn=b;if(i){const Zo=Math.min(ae,ye)/de;let ni=Math.floor(Zo),wn=Zo%1;!wn&&Zo>=1&&(wn=1),wn===1&&ni--,ni=Math.min(ni,i+1),!!(ni%2)&&(a==="reverse"?(wn=1-wn,o&&(wn-=o/de)):a==="mirror"&&(Gn=S)),gt=dn(0,1,wn)*de}const Ue=yn?{done:!1,value:r[0]}:Gn.next(gt);x&&(Ue.value=x(Ue.value));let{done:vn}=Ue;!yn&&oe!==null&&(vn=p>=0?ae>=ye:ae<=0);const Ny=E===null&&(k==="finished"||k==="running"&&vn);return d&&d(Ue.value),Ny&&P(),Ue},re=()=>{m&&m.stop(),m=void 0},Ye=()=>{k="idle",re(),w(),y(),R=N=null},P=()=>{k="finished",c&&c(),re(),w()},L=()=>{if(v)return;m||(m=n(Vt));const $=m.now();l&&l(),E!==null?R=$-E:(!R||k==="finished")&&(R=$),k==="finished"&&y(),N=R,E=null,k="running",m.start()};e&&L();const M={then($,G){return _.then($,G)},get time(){return Nt(ae)},set time($){$=Mn($),ae=$,E!==null||!m||p===0?E=$:R=m.now()-$/p},get duration(){const $=b.calculatedDuration===null?Nh(b):b.calculatedDuration;return Nt($)},get speed(){return p},set speed($){$===p||!m||(p=$,M.time=Nt(ae))},get state(){return k},play:L,pause:()=>{k="paused",E=ae},stop:()=>{v=!0,k!=="idle"&&(k="idle",u&&u(),Ye())},cancel:()=>{N!==null&&Vt(N),Ye()},complete:()=>{k="finished"},sample:$=>(R=0,Vt($))};return M}function VS(e){let t;return()=>(t===void 0&&(t=e()),t)}const FS=VS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),BS=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ti=10,zS=2e4,WS=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Rg(t.ease);function HS(e,t,{onUpdate:n,onComplete:r,...s}){if(!(FS()&&BS.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const c=()=>{l=new Promise(g=>{a=g})};c();let{keyframes:d,duration:h=300,ease:p,times:v}=s;if(WS(t,s)){const g=_o({...s,repeat:0,delay:0});let x={done:!1,value:d[0]};const b=[];let S=0;for(;!x.done&&S<zS;)x=g.sample(S),b.push(x.value),S+=Ti;v=void 0,d=b,h=S-Ti,p="linear"}const w=eS(e.owner.current,t,d,{...s,duration:h,ease:p,times:v}),_=()=>{u=!1,w.cancel()},y=()=>{u=!0,W.update(_),a(),c()};return w.onfinish=()=>{u||(e.set(tS(d,s)),r&&r(),y())},{then(g,x){return l.then(g,x)},attachTimeline(g){return w.timeline=g,w.onfinish=null,ie},get time(){return Nt(w.currentTime||0)},set time(g){w.currentTime=Mn(g)},get speed(){return w.playbackRate},set speed(g){w.playbackRate=g},get duration(){return Nt(h)},play:()=>{o||(w.play(),$t(_))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:g}=w;if(g){const x=_o({...s,autoplay:!1});e.setWithVelocity(x.sample(g-Ti).value,x.sample(g).value,Ti)}y()},complete:()=>{u||w.finish()},cancel:y}}function KS({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ie,pause:ie,stop:ie,then:i=>(i(),Promise.resolve()),cancel:ie,complete:ie});return t?_o({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const qS={type:"spring",stiffness:500,damping:25,restSpeed:10},GS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JS={type:"keyframes",duration:.8},YS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QS=(e,{keyframes:t})=>t.length>2?JS:Kn.has(e)?e.startsWith("scale")?GS(t[1]):qS:YS,au=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hn.test(t)||t==="0")&&!t.startsWith("url(")),XS=new Set(["brightness","contrast","saturate","opacity"]);function ZS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Jo)||[];if(!r)return e;const s=n.replace(r,"");let i=XS.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const ek=/([a-z-]*)\(.*?\)/g,lu={...hn,getAnimatableNone:e=>{const t=e.match(ek);return t?t.map(ZS).join(" "):e}},tk={...fg,color:Pe,backgroundColor:Pe,outlineColor:Pe,fill:Pe,stroke:Pe,borderColor:Pe,borderTopColor:Pe,borderRightColor:Pe,borderBottomColor:Pe,borderLeftColor:Pe,filter:lu,WebkitFilter:lu},Ac=e=>tk[e];function ey(e,t){let n=Ac(e);return n!==lu&&(n=hn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ty=e=>/^0[^.\s]+$/.test(e);function nk(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||ty(e)}function rk(e,t,n,r){const s=au(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),nk(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];i[c]=ey(t,a)}return i}function sk({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Nc(e,t){return e[t]||e.default||e}const ik={skipAnimations:!1},Oc=(e,t,n,r={})=>s=>{const i=Nc(r,e)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Mn(o);const l=rk(t,e,n,i),u=l[0],c=l[l.length-1],d=au(e,u),h=au(e,c);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(sk(i)||(p={...p,...QS(e,p)}),p.duration&&(p.duration=Mn(p.duration)),p.repeatDelay&&(p.repeatDelay=Mn(p.repeatDelay)),!d||!h||Zb.current||i.type===!1||ik.skipAnimations)return KS(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=HS(t,e,p);if(v)return v}return _o(p)};function bo(e){return!!(Me(e)&&e.add)}const ny=e=>/^\-?\d*\.?\d+$/.test(e);function Ic(e,t){e.indexOf(t)===-1&&e.push(t)}function Dc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Lc{constructor(){this.subscriptions=[]}add(t){return Ic(this.subscriptions,t),()=>Dc(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ok=e=>!isNaN(parseFloat(e));class ak{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ee;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,W.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>W.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=ok(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Lc);const r=this.events[t].add(n);return t==="change"?()=>{r(),W.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Qg(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lr(e,t){return new ak(e,t)}const ry=e=>t=>t.test(e),lk={test:e=>e==="auto",parse:e=>e},sy=[qn,D,St,zt,mb,pb,lk],Yr=e=>sy.find(ry(e)),uk=[...sy,Pe,hn],ck=e=>uk.find(ry(e));function dk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lr(n))}function hk(e,t){const n=Qo(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=jb(i[o]);dk(e,o,a)}}function fk(e,t,n){var r,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(s=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&s!==void 0?s:t[l]),c!=null&&(typeof c=="string"&&(ny(c)||ty(c))?c=parseFloat(c):!ck(c)&&hn.test(u)&&(c=ey(l,u)),e.addValue(l,Lr(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function pk(e,t){return t?(t[e]||t.default||t).from:void 0}function mk(e,t,n){const r={};for(const s in e){const i=pk(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function gk({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function yk(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function iy(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d),p=a[d];if(!h||p===void 0||c&&gk(c,d))continue;const v={delay:n,elapsed:0,...Nc(i||{},d)};if(window.HandoffAppearAnimations){const y=e.getProps()[og];if(y){const m=window.HandoffAppearAnimations(y,d,h,W);m!==null&&(v.elapsed=m,v.isHandoff=!0)}}let w=!v.isHandoff&&!yk(h,p);if(v.type==="spring"&&(h.getVelocity()||v.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(Oc(d,h,p,e.shouldReduceMotion&&Kn.has(d)?{type:!1}:v));const _=h.animation;bo(l)&&(l.add(d),_.then(()=>l.remove(d))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&hk(e,o)}),u}function uu(e,t,n={}){const r=Qo(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(iy(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=s;return vk(e,t,u+l,c,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function vk(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(wk).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(uu(u,t,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function wk(e,t){return e.sortNodePosition(t)}function xk(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>uu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=uu(e,t,n);else{const s=typeof t=="function"?Qo(e,t,n.custom):t;r=Promise.all(iy(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const _k=[...yc].reverse(),bk=yc.length;function Sk(e){return t=>Promise.all(t.map(({animation:n,options:r})=>xk(e,n,r)))}function kk(e){let t=Sk(e);const n=Tk();let r=!0;const s=(l,u)=>{const c=Qo(e,u);if(c){const{transition:d,transitionEnd:h,...p}=c;l={...l,...p,...h}}return l};function i(l){t=l(e)}function o(l,u){const c=e.getProps(),d=e.getVariantContext(!0)||{},h=[],p=new Set;let v={},w=1/0;for(let y=0;y<bk;y++){const m=_k[y],g=n[m],x=c[m]!==void 0?c[m]:d[m],b=zs(x),S=m===u?g.isActive:null;S===!1&&(w=y);let k=x===d[m]&&x!==c[m]&&b;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...v},!g.isActive&&S===null||!x&&!g.prevProp||qo(x)||typeof x=="boolean")continue;let R=Ek(g.prevProp,x)||m===u&&g.isActive&&!k&&b||y>w&&b,N=!1;const oe=Array.isArray(x)?x:[x];let de=oe.reduce(s,{});S===!1&&(de={});const{prevResolvedValues:ye={}}=g,ae={...ye,...de},Vt=re=>{R=!0,p.has(re)&&(N=!0,p.delete(re)),g.needsAnimating[re]=!0};for(const re in ae){const Ye=de[re],P=ye[re];if(v.hasOwnProperty(re))continue;let L=!1;vo(Ye)&&vo(P)?L=!Pg(Ye,P):L=Ye!==P,L?Ye!==void 0?Vt(re):p.add(re):Ye!==void 0&&p.has(re)?Vt(re):g.protectedKeys[re]=!0}g.prevProp=x,g.prevResolvedValues=de,g.isActive&&(v={...v,...de}),r&&e.blockInitialAnimation&&(R=!1),R&&(!k||N)&&h.push(...oe.map(re=>({animation:re,options:{type:m,...l}})))}if(p.size){const y={};p.forEach(m=>{const g=e.getBaseTarget(m);g!==void 0&&(y[m]=g)}),h.push({animation:y})}let _=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(h):Promise.resolve()}function a(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const h=o(c,l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function Ek(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Pg(t,e):!1}function bn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tk(){return{animate:bn(!0),whileInView:bn(),whileHover:bn(),whileTap:bn(),whileDrag:bn(),whileFocus:bn(),exit:bn()}}class Ck extends gn{constructor(t){super(t),t.animationState||(t.animationState=kk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),qo(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Pk=0;class jk extends gn{constructor(){super(...arguments),this.id=Pk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Rk={animation:{Feature:Ck},exit:{Feature:jk}},Oh=(e,t)=>Math.abs(e-t);function Ak(e,t){const n=Oh(e.x,t.x),r=Oh(e.y,t.y);return Math.sqrt(n**2+r**2)}class oy{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ka(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Ak(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=d,{timestamp:w}=Ee;this.history.push({...v,timestamp:w});const{onStart:_,onMove:y}=this.handlers;h||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Ha(h,this.transformPagePoint),W.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ka(d.type==="pointercancel"?this.lastMoveEventInfo:Ha(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,_),v&&v(d,_)},!Sg(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Yo(t),a=Ha(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ee;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,Ka(a,this.history)),this.removeListeners=ln(At(this.contextWindow,"pointermove",this.handlePointerMove),At(this.contextWindow,"pointerup",this.handlePointerUp),At(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$t(this.updatePoint)}}function Ha(e,t){return t?{point:t(e.point)}:e}function Ih(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ka({point:e},t){return{point:e,delta:Ih(e,ay(t)),offset:Ih(e,Nk(t)),velocity:Ok(t,.1)}}function Nk(e){return e[0]}function ay(e){return e[e.length-1]}function Ok(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=ay(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Mn(t)));)n--;if(!r)return{x:0,y:0};const i=Nt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function qe(e){return e.max-e.min}function cu(e,t=0,n=.01){return Math.abs(e-t)<=n}function Dh(e,t,n,r=.5){e.origin=r,e.originPoint=X(t.min,t.max,e.origin),e.scale=qe(n)/qe(t),(cu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=X(n.min,n.max,e.origin)-e.originPoint,(cu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vs(e,t,n,r){Dh(e.x,t.x,n.x,r?r.originX:void 0),Dh(e.y,t.y,n.y,r?r.originY:void 0)}function Lh(e,t,n){e.min=n.min+t.min,e.max=e.min+qe(t)}function Ik(e,t,n){Lh(e.x,t.x,n.x),Lh(e.y,t.y,n.y)}function $h(e,t,n){e.min=t.min-n.min,e.max=e.min+qe(t)}function ws(e,t,n){$h(e.x,t.x,n.x),$h(e.y,t.y,n.y)}function Dk(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?X(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?X(n,e,r.max):Math.min(e,n)),e}function Mh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Lk(e,{top:t,left:n,bottom:r,right:s}){return{x:Mh(e.x,n,s),y:Mh(e.y,t,r)}}function Uh(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function $k(e,t){return{x:Uh(e.x,t.x),y:Uh(e.y,t.y)}}function Mk(e,t){let n=.5;const r=qe(e),s=qe(t);return s>r?n=Hs(t.min,t.max-r,e.min):r>s&&(n=Hs(e.min,e.max-s,t.min)),dn(0,1,n)}function Uk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const du=.35;function Vk(e=du){return e===!1?e=0:e===!0&&(e=du),{x:Vh(e,"left","right"),y:Vh(e,"top","bottom")}}function Vh(e,t,n){return{min:Fh(e,t),max:Fh(e,n)}}function Fh(e,t){return typeof e=="number"?e:e[t]||0}const Bh=()=>({translate:0,scale:1,origin:0,originPoint:0}),xr=()=>({x:Bh(),y:Bh()}),zh=()=>({min:0,max:0}),le=()=>({x:zh(),y:zh()});function Xe(e){return[e("x"),e("y")]}function ly({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Fk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Bk(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qa(e){return e===void 0||e===1}function hu({scale:e,scaleX:t,scaleY:n}){return!qa(e)||!qa(t)||!qa(n)}function Tn(e){return hu(e)||uy(e)||e.z||e.rotate||e.rotateX||e.rotateY}function uy(e){return Wh(e.x)||Wh(e.y)}function Wh(e){return e&&e!=="0%"}function So(e,t,n){const r=e-n,s=t*r;return n+s}function Hh(e,t,n,r,s){return s!==void 0&&(e=So(e,s,r)),So(e,n,r)+t}function fu(e,t=0,n=1,r,s){e.min=Hh(e.min,t,n,r,s),e.max=Hh(e.max,t,n,r,s)}function cy(e,{x:t,y:n}){fu(e.x,t.translate,t.scale,t.originPoint),fu(e.y,n.translate,n.scale,n.originPoint)}function zk(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_r(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,cy(e,o)),r&&Tn(i.latestValues)&&_r(e,i.latestValues))}t.x=Kh(t.x),t.y=Kh(t.y)}function Kh(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function qt(e,t){e.min=e.min+t,e.max=e.max+t}function qh(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=X(e.min,e.max,i);fu(e,t[n],t[r],o,t.scale)}const Wk=["x","scaleX","originX"],Hk=["y","scaleY","originY"];function _r(e,t){qh(e.x,t,Wk),qh(e.y,t,Hk)}function dy(e,t){return ly(Bk(e.getBoundingClientRect(),t))}function Kk(e,t,n){const r=dy(e,n),{scroll:s}=t;return s&&(qt(r.x,s.offset.x),qt(r.y,s.offset.y)),r}const hy=({current:e})=>e?e.ownerDocument.defaultView:null,qk=new WeakMap;class Gk{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yo(c,"page").point)},i=(c,d)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Eg(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xe(_=>{let y=this.getAxisMotionValue(_).get()||0;if(St.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const g=m.layout.layoutBox[_];g&&(y=qe(g)*(parseFloat(y)/100))}}this.originPoint[_]=y}),v&&W.update(()=>v(c,d),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:_}=d;if(p&&this.currentDirection===null){this.currentDirection=Jk(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),w&&w(c,d)},a=(c,d)=>this.stop(c,d),l=()=>Xe(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new oy(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:hy(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&W.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ci(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Dk(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&vr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Lk(s.layoutBox,n):this.constraints=!1,this.elastic=Vk(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xe(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Uk(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!vr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Kk(r,s.root,this.visualElement.getTransformPagePoint());let o=$k(s.layout.layoutBox,i);if(n){const a=n(Fk(o));this.hasMutatedConstraints=!!a,a&&(o=ly(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Xe(c=>{if(!Ci(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:r?t[c]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Oc(t,r,0,n))}stopAnimation(){Xe(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xe(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Xe(n=>{const{drag:r}=this.getProps();if(!Ci(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-X(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xe(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=Mk({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xe(o=>{if(!Ci(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(X(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;qk.set(this.visualElement,this);const t=this.visualElement.current,n=At(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();vr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=jt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xe(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=du,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Ci(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Jk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Yk extends gn{constructor(t){super(t),this.removeGroupControls=ie,this.removeListeners=ie,this.controls=new Gk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ie}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gh=e=>(t,n)=>{e&&W.update(()=>e(t,n))};class Qk extends gn{constructor(){super(...arguments),this.removePointerDownListener=ie}onPointerDown(t){this.session=new oy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Gh(t),onStart:Gh(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&W.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=At(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Xk(){const e=T.useContext(Ho);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=T.useId();return T.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Fi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(D.test(e))e=parseFloat(e);else return e;const n=Jh(e,t.target.x),r=Jh(e,t.target.y);return`${n}% ${r}%`}},Zk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=hn.parse(e);if(s.length>5)return r;const i=hn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=X(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class eE extends Eo.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;ab(tE),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Fi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||W.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fy(e){const[t,n]=Xk(),r=T.useContext(wc);return Eo.createElement(eE,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(lg),isPresent:t,safeToRemove:n})}const tE={borderRadius:{...Qr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qr,borderTopRightRadius:Qr,borderBottomLeftRadius:Qr,borderBottomRightRadius:Qr,boxShadow:Zk},py=["TopLeft","TopRight","BottomLeft","BottomRight"],nE=py.length,Yh=e=>typeof e=="string"?parseFloat(e):e,Qh=e=>typeof e=="number"||D.test(e);function rE(e,t,n,r,s,i){s?(e.opacity=X(0,n.opacity!==void 0?n.opacity:1,sE(r)),e.opacityExit=X(t.opacity!==void 0?t.opacity:1,0,iE(r))):i&&(e.opacity=X(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<nE;o++){const a=`border${py[o]}Radius`;let l=Xh(t,a),u=Xh(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Qh(l)===Qh(u)?(e[a]=Math.max(X(Yh(l),Yh(u),r),0),(St.test(u)||St.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=X(t.rotate||0,n.rotate||0,r))}function Xh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const sE=my(0,.5,$g),iE=my(.5,.95,ie);function my(e,t,n){return r=>r<e?0:r>t?1:n(Hs(e,t,r))}function Zh(e,t){e.min=t.min,e.max=t.max}function Qe(e,t){Zh(e.x,t.x),Zh(e.y,t.y)}function ef(e,t,n,r,s){return e-=t,e=So(e,1/n,r),s!==void 0&&(e=So(e,1/s,r)),e}function oE(e,t=0,n=1,r=.5,s,i=e,o=e){if(St.test(t)&&(t=parseFloat(t),t=X(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=X(i.min,i.max,r);e===i&&(a-=t),e.min=ef(e.min,t,n,a,s),e.max=ef(e.max,t,n,a,s)}function tf(e,t,[n,r,s],i,o){oE(e,t[n],t[r],t[s],t.scale,i,o)}const aE=["x","scaleX","originX"],lE=["y","scaleY","originY"];function nf(e,t,n,r){tf(e.x,t,aE,n?n.x:void 0,r?r.x:void 0),tf(e.y,t,lE,n?n.y:void 0,r?r.y:void 0)}function rf(e){return e.translate===0&&e.scale===1}function gy(e){return rf(e.x)&&rf(e.y)}function uE(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function yy(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function sf(e){return qe(e.x)/qe(e.y)}class cE{constructor(){this.members=[]}add(t){Ic(this.members,t),t.scheduleRender()}remove(t){if(Dc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function of(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const dE=(e,t)=>e.depth-t.depth;class hE{constructor(){this.children=[],this.isDirty=!1}add(t){Ic(this.children,t),this.isDirty=!0}remove(t){Dc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dE),this.isDirty=!1,this.children.forEach(t)}}function fE(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&($t(r),e(i-t))};return W.read(r,!0),()=>$t(r)}function pE(e){window.MotionDebug&&window.MotionDebug.record(e)}function mE(e){return e instanceof SVGElement&&e.tagName!=="svg"}function gE(e,t,n){const r=Me(e)?e:Lr(e);return r.start(Oc("",r,t,n)),r.animation}const af=["","X","Y","Z"],yE={visibility:"hidden"},lf=1e3;let vE=0;const Cn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function vy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=vE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cn.totalNodes=Cn.resolvedTargetDeltas=Cn.recalculatedProjection=0,this.nodes.forEach(_E),this.nodes.forEach(TE),this.nodes.forEach(CE),this.nodes.forEach(bE),pE(Cn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hE)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Lc),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mE(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=fE(h,250),Fi.hasAnimatedSinceResize&&(Fi.hasAnimatedSinceResize=!1,this.nodes.forEach(cf))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||NE,{onLayoutAnimationStart:_,onLayoutAnimationComplete:y}=c.getProps(),m=!this.targetLayout||!yy(this.targetLayout,v)||p,g=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const x={...Nc(w,"layout"),onPlay:_,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||cf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$t(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PE),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uf);return}this.isUpdating||this.nodes.forEach(kE),this.isUpdating=!1,this.nodes.forEach(EE),this.nodes.forEach(wE),this.nodes.forEach(xE),this.clearAllSnapshots();const a=performance.now();Ee.delta=dn(0,1e3/60,a-Ee.timestamp),Ee.timestamp=a,Ee.isProcessing=!0,$a.update.process(Ee),$a.preRender.process(Ee),$a.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(SE),this.sharedNodes.forEach(jE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,W.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){W.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!gy(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Tn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),OE(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return le();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(qt(a.x,l.offset.x),qt(a.y,l.offset.y)),a}removeElementScroll(o){const a=le();Qe(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){Qe(a,o);const{scroll:h}=this.root;h&&(qt(a.x,-h.offset.x),qt(a.y,-h.offset.y))}qt(a.x,c.offset.x),qt(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=le();Qe(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&_r(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Tn(c.latestValues)&&_r(l,c.latestValues)}return Tn(this.latestValues)&&_r(l,this.latestValues),l}removeTransform(o){const a=le();Qe(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Tn(u.latestValues))continue;hu(u.latestValues)&&u.updateSnapshot();const c=le(),d=u.measurePageBox();Qe(c,d),nf(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Tn(this.latestValues)&&nf(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),ws(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Qe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ik(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qe(this.target,this.layout.layoutBox),cy(this.target,this.targetDelta)):Qe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),ws(this.relativeTargetOrigin,this.target,p.target),Qe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hu(this.parent.latestValues)||uy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Qe(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;zk(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=xr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=xr(),this.projectionDeltaWithTransform=xr());const w=this.projectionTransform;vs(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=of(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Cn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=xr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=le(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,_=this.getStack(),y=!_||_.members.length<=1,m=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(AE));this.animationProgress=0;let g;this.mixTargetDelta=x=>{const b=x/1e3;df(d.x,o.x,b),df(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ws(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RE(this.relativeTarget,this.relativeTargetOrigin,h,b),g&&uE(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=le()),Qe(g,this.relativeTarget)),w&&(this.animationValues=c,rE(c,u,this.latestValues,b,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($t(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=W.update(()=>{Fi.hasAnimatedSinceResize=!0,this.currentAnimation=gE(0,lf,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&wy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||le();const d=qe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=qe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Qe(a,l),_r(a,c),vs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cE),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<af.length;c++){const d="rotate"+af[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yE;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vi(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Vi(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Tn(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=of(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in go){if(h[w]===void 0)continue;const{correct:_,applyTo:y}=go[w],m=u.transform==="none"?h[w]:_(h[w],d);if(y){const g=y.length;for(let x=0;x<g;x++)u[y[x]]=m}else u[w]=m}return this.options.layoutId&&(u.pointerEvents=d===this?Vi(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(uf),this.root.sharedNodes.clear()}}}function wE(e){e.updateLayout()}function xE(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Xe(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=qe(h);h.min=r[d].min,h.max=h.min+p}):wy(i,n.layoutBox,r)&&Xe(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=qe(r[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const a=xr();vs(a,r,n.layoutBox);const l=xr();o?vs(l,e.applyTransform(s,!0),n.measuredBox):vs(l,r,n.layoutBox);const u=!gy(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const v=le();ws(v,n.layoutBox,h.layoutBox);const w=le();ws(w,r,p.layoutBox),yy(v,w)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function _E(e){Cn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function SE(e){e.clearSnapshot()}function uf(e){e.clearMeasurements()}function kE(e){e.isLayoutDirty=!1}function EE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TE(e){e.resolveTargetDelta()}function CE(e){e.calcProjection()}function PE(e){e.resetRotation()}function jE(e){e.removeLeadSnapshot()}function df(e,t,n){e.translate=X(t.translate,0,n),e.scale=X(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hf(e,t,n,r){e.min=X(t.min,n.min,r),e.max=X(t.max,n.max,r)}function RE(e,t,n,r){hf(e.x,t.x,n.x,r),hf(e.y,t.y,n.y,r)}function AE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const NE={duration:.45,ease:[.4,0,.1,1]},ff=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),pf=ff("applewebkit/")&&!ff("chrome/")?Math.round:ie;function mf(e){e.min=pf(e.min),e.max=pf(e.max)}function OE(e){mf(e.x),mf(e.y)}function wy(e,t,n){return e==="position"||e==="preserve-aspect"&&!cu(sf(t),sf(n),.2)}const IE=vy({attachResizeListener:(e,t)=>jt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ga={current:void 0},xy=vy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ga.current){const e=new IE({});e.mount(window),e.setOptions({layoutScroll:!0}),Ga.current=e}return Ga.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),DE={pan:{Feature:Qk},drag:{Feature:Yk,ProjectionNode:xy,MeasureLayout:fy}},LE=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $E(e){const t=LE.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function pu(e,t,n=1){const[r,s]=$E(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return ny(o)?parseFloat(o):o}else return ru(s)?pu(s,t,n+1):s}function ME(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!ru(i))return;const o=pu(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!ru(i))continue;const o=pu(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const UE=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_y=e=>UE.has(e),VE=e=>Object.keys(e).some(_y),gf=e=>e===qn||e===D,yf=(e,t)=>parseFloat(e.split(", ")[t]),vf=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return yf(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?yf(i[1],e):0}},FE=new Set(["x","y","z"]),BE=Xs.filter(e=>!FE.has(e));function zE(e){const t=[];return BE.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const $r={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:vf(4,13),y:vf(5,14)};$r.translateX=$r.x;$r.translateY=$r.y;const WE=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=$r[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=$r[u](l,i)}),e},HE=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(_y);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],d=Yr(c);const h=t[l];let p;if(vo(h)){const v=h.length,w=h[0]===null?1:0;c=h[w],d=Yr(c);for(let _=w;_<v&&h[_]!==null;_++)p?Cc(Yr(h[_])===p):p=Yr(h[_])}else p=Yr(h);if(d!==p)if(gf(d)&&gf(p)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&p===D&&(t[l]=h.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(c===0||h===0)?c===0?u.set(p.transform(c)):t[l]=d.transform(h):(o||(i=zE(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=WE(t,e,a);return i.length&&i.forEach(([c,d])=>{e.getValue(c).set(d)}),e.render(),Ko&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function KE(e,t,n,r){return VE(t)?HE(e,t,n,r):{target:t,transitionEnd:r}}const qE=(e,t,n,r)=>{const s=ME(e,t,r);return t=s.target,r=s.transitionEnd,KE(e,t,n,r)},mu={current:null},by={current:!1};function GE(){if(by.current=!0,!!Ko)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>mu.current=e.matches;e.addListener(t),t()}else mu.current=!1}function JE(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(Me(i))e.addValue(s,i),bo(r)&&r.add(s);else if(Me(o))e.addValue(s,Lr(i,{owner:e})),bo(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,Lr(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const wf=new WeakMap,Sy=Object.keys(Ws),YE=Sy.length,xf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],QE=vc.length;class XE{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>W.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Go(n),this.isVariantNode=ag(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const h=c[d];a[d]!==void 0&&Me(h)&&(h.set(a[d],!1),bo(u)&&u.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,wf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),by.current||GE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wf.delete(this.current),this.projection&&this.projection.unmount(),$t(this.notifyUpdate),$t(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Kn.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&W.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,a;for(let l=0;l<YE;l++){const u=Sy[l],{isEnabled:c,Feature:d,ProjectionNode:h,MeasureLayout:p}=Ws[u];h&&(o=h),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&vr(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xf.length;r++){const s=xf[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=JE(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<QE;r++){const s=vc[r],i=this.props[s];(zs(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Lr(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Tc(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Me(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Lc),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ky extends XE{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=mk(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){fk(this,r,o);const a=qE(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function ZE(e){return window.getComputedStyle(e)}class e1 extends ky{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Kn.has(n)){const r=Ac(n);return r&&r.default||0}else{const r=ZE(t),s=(dg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return dy(t,n)}build(t,n,r,s){_c(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Ec(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Me(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){yg(t,n,r,s)}}class t1 extends ky{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Kn.has(n)){const r=Ac(n);return r&&r.default||0}return n=vg.has(n)?n:gc(n),t.getAttribute(n)}measureInstanceViewportBox(){return le()}scrapeMotionValuesFromProps(t,n){return xg(t,n)}build(t,n,r,s){Sc(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){wg(t,n,r,s)}mount(t){this.isSVGTag=kc(t.tagName),super.mount(t)}}const n1=(e,t)=>xc(e)?new t1(t,{enableHardwareAcceleration:!1}):new e1(t,{enableHardwareAcceleration:!0}),r1={layout:{ProjectionNode:xy,MeasureLayout:fy}},s1={...Rk,...Yb,...DE,...r1},K=ib((e,t)=>$b(e,t,s1,n1));function Ey(){const e=T.useRef(!1);return mc(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function i1(){const e=Ey(),[t,n]=T.useState(0),r=T.useCallback(()=>{e.current&&n(t+1)},[t]);return[T.useCallback(()=>W.postRender(r),[r]),t]}class o1 extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function a1({children:e,isPresent:t}){const n=T.useId(),r=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0});return T.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),T.createElement(o1,{isPresent:t,childRef:r,sizeRef:s},T.cloneElement(e,{ref:r}))}const Ja=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=_g(l1),l=T.useId(),u=T.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),i?void 0:[n]);return T.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=T.createElement(a1,{isPresent:n},e)),T.createElement(Ho.Provider,{value:u},e)};function l1(){return new Map}function u1(e){return T.useEffect(()=>()=>e(),[])}const Pn=e=>e.key||"";function c1(e,t){e.forEach(n=>{const r=Pn(n);t.set(r,n)})}function d1(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const h1=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=T.useContext(wc).forceRender||i1()[0],l=Ey(),u=d1(e);let c=u;const d=T.useRef(new Map).current,h=T.useRef(c),p=T.useRef(new Map).current,v=T.useRef(!0);if(mc(()=>{v.current=!1,c1(u,p),h.current=c}),u1(()=>{v.current=!0,p.clear(),d.clear()}),v.current)return T.createElement(T.Fragment,null,c.map(m=>T.createElement(Ja,{key:Pn(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},m)));c=[...c];const w=h.current.map(Pn),_=u.map(Pn),y=w.length;for(let m=0;m<y;m++){const g=w[m];_.indexOf(g)===-1&&!d.has(g)&&d.set(g,void 0)}return o==="wait"&&d.size&&(c=[]),d.forEach((m,g)=>{if(_.indexOf(g)!==-1)return;const x=p.get(g);if(!x)return;const b=w.indexOf(g);let S=m;if(!S){const k=()=>{d.delete(g);const E=Array.from(p.keys()).filter(R=>!_.includes(R));if(E.forEach(R=>p.delete(R)),h.current=u.filter(R=>{const N=Pn(R);return N===g||E.includes(N)}),!d.size){if(l.current===!1)return;a(),r&&r()}};S=T.createElement(Ja,{key:Pn(x),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:o},x),d.set(g,S)}c.splice(b,0,S)}),c=c.map(m=>{const g=m.key;return d.has(g)?m:T.createElement(Ja,{key:Pn(m),isPresent:!0,presenceAffectsLayout:i,mode:o},m)}),T.createElement(T.Fragment,null,d.size?c:c.map(m=>T.cloneElement(m)))};function f1({macros:e,loading:t}){if(!e)return null;const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},r={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}};return f.jsxs(K.div,{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",variants:n,initial:"hidden",animate:"visible",children:[f.jsx("h3",{className:"font-semibold text-dark text-center mb-4",children:"Your Macros Preview"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs(K.div,{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 text-center",variants:r,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Daily Calories"}),f.jsx("p",{className:"text-2xl font-bold text-primary",children:e.calories}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"kcal"})]}),f.jsxs(K.div,{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-4 text-center",variants:r,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Maintenance"}),f.jsx("p",{className:"text-2xl font-bold text-primary",children:e.tdee}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"TDEE"})]}),f.jsxs(K.div,{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 text-center",variants:r,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Protein"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[e.protein,"g"]})]}),f.jsxs(K.div,{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 text-center",variants:r,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Fat"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[e.fat,"g"]})]}),f.jsxs(K.div,{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 text-center",variants:r,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Carbs"}),f.jsxs("p",{className:"text-2xl font-bold text-primary",children:[e.carbs,"g"]})]}),f.jsxs(K.div,{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 text-center",variants:r,children:[f.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Macro Split"}),f.jsxs("p",{className:"text-sm font-bold text-primary",children:[e.calories>0?Math.round(e.fat*9/e.calories*100):0,"%"]}),f.jsx("p",{className:"text-xs text-gray-500",children:"fat"})]})]}),t&&f.jsx("div",{className:"text-center py-4",children:f.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),g1=(e,t)=>{const n=T.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>T.createElement("svg",{ref:c,...p1,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${m1(e)}`,a].join(" "),...u},[...t.map(([d,h])=>T.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=g1("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function v1({title:e,price:t,description:n,features:r,popular:s=!1,onClick:i}){const o=()=>{i()};return f.jsxs("div",{onClick:o,className:`rounded-xl p-6 transition-all relative z-30 cursor-pointer hover:scale-105 ${s?"bg-gradient-to-br from-primary to-primary/90 text-white border-2 border-secondary shadow-2xl":"bg-white border-2 border-gray-200 hover:border-secondary text-dark"}`,children:[s&&f.jsx("div",{className:"bg-secondary text-primary text-xs font-bold px-3 py-1 rounded-full w-fit mb-4",children:"Most Popular"}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:e}),n&&f.jsx("p",{className:`text-sm mb-4 ${s?"text-white/80":"text-gray-600"}`,children:n}),f.jsxs("div",{className:"mb-6",children:[f.jsx("span",{className:"text-4xl font-bold",children:t}),t!=="Free"&&f.jsx("span",{className:`text-sm ml-2 ${s?"text-white/80":"text-gray-600"}`,children:"one-time"})]}),f.jsx("ul",{className:"space-y-3 mb-6",children:r.map((a,l)=>f.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[f.jsx(y1,{className:"w-5 h-5 flex-shrink-0"}),f.jsx("span",{children:a})]},l))}),f.jsx("button",{onClick:o,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all ${s?"bg-secondary text-primary hover:bg-secondary/90":"bg-primary text-accent hover:bg-primary/90"}`,children:"Choose Plan"})]})}const w1={},_f=e=>{let t;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,p))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(w1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},x1=e=>e?_f(e):_f;var Ty={exports:{}},Cy={},Py={exports:{}},jy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr=T;function _1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var b1=typeof Object.is=="function"?Object.is:_1,S1=Mr.useState,k1=Mr.useEffect,E1=Mr.useLayoutEffect,T1=Mr.useDebugValue;function C1(e,t){var n=t(),r=S1({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return E1(function(){s.value=n,s.getSnapshot=t,Ya(s)&&i({inst:s})},[e,n,t]),k1(function(){return Ya(s)&&i({inst:s}),e(function(){Ya(s)&&i({inst:s})})},[e]),T1(n),n}function Ya(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!b1(e,n)}catch{return!0}}function P1(e,t){return t()}var j1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?P1:C1;jy.useSyncExternalStore=Mr.useSyncExternalStore!==void 0?Mr.useSyncExternalStore:j1;Py.exports=jy;var R1=Py.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo=T,A1=R1;function N1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O1=typeof Object.is=="function"?Object.is:N1,I1=A1.useSyncExternalStore,D1=Xo.useRef,L1=Xo.useEffect,$1=Xo.useMemo,M1=Xo.useDebugValue;Cy.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=D1(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=$1(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),s!==void 0&&o.hasValue){var v=o.value;if(s(v,p))return d=v}return d=p}if(v=d,O1(c,p))return v;var w=r(p);return s!==void 0&&s(v,w)?(c=p,v):(c=p,d=w)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,s]);var a=I1(e,i[0],i[1]);return L1(function(){o.hasValue=!0,o.value=a},[a]),M1(a),a};Ty.exports=Cy;var U1=Ty.exports;const V1=Cf(U1),Ry={},{useDebugValue:F1}=Eo,{useSyncExternalStoreWithSelector:B1}=V1;let bf=!1;const z1=e=>e;function W1(e,t=z1,n){(Ry?"production":void 0)!=="production"&&n&&!bf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bf=!0);const r=B1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return F1(r),r}const Sf=e=>{(Ry?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?x1(e):e,n=(r,s)=>W1(t,r,s);return Object.assign(n,t),n},H1=e=>e?Sf(e):Sf,kf={sex:"male",age:42,heightFeet:5,heightInches:11,weight:215,lifestyle:"1.2",exercise:"0.1",goal:"lose",deficit:25,diet:"carnivore",ratio:"75-25",email:"",firstName:"",lastName:"",medications:"Metformin 500mg twice daily, Lisinopril 10mg for blood pressure",conditions:["diabetes","guthealth","inflammation"],allergies:"Shellfish (anaphylaxis), tree nuts",avoidFoods:"Pork (causes bloating and GI distress), chicken thighs (inflammatory response), dairy except butter, seed oils, vegetable oils, peanuts, legumes",previousDiets:'Standard American diet for 20 years (caused prediabetes and chronic inflammation). Tried low-fat diet 2012-2015 (made energy worse). Did keto for 14 months (great results but fell off). Recently did "healthy whole grains" nonsense for 2 years (blood sugar went out of control, gained 40lbs, severe brain fog and joint pain).',whatWorked:"Keto worked great for 14 months - lost weight, had energy, mental clarity was excellent. Need to apply that same discipline with carnivore.",carnivoreExperience:"months",selectedProtocol:"carnivore",goals:["weightloss","mental","guthealth"],biggestChallenge:"Sticking to the diet long-term. I fall off and go back to old eating habits. Need sustainable approach that doesn't feel restrictive.",cookingSkill:"intermediate",budget:"moderate",familySituation:"family-with-kids",workTravel:"office",additionalNotes:"Serious about this time. Have young kids and want to be around to see them grow up. Already seeing family members go through health decline. Mostly want beef (ribeye, ground beef), some salmon and halibut. Open to organ meats (liver is fine). Cannot do pork or chicken. Want simple protocols, no complicated supplements. Have GI issues from years of sugar and processed foods - need gentle transition plan. Blood sugar readings have been 180-220 fasting. Doctor says pre-diabetic but I know I can reverse this with proper diet."},Ay=H1(e=>({form:kf,macros:null,currentStep:1,units:"imperial",isPremium:!1,sessionToken:null,setFormField:(t,n)=>e(r=>({form:{...r.form,[t]:n}})),setMacros:t=>e({macros:t}),setCurrentStep:t=>e({currentStep:t}),setUnits:t=>e({units:t}),setIsPremium:t=>e({isPremium:t}),setSessionToken:t=>e({sessionToken:t}),setForm:t=>e(n=>({form:{...n.form,...t}})),resetForm:()=>e({form:kf,currentStep:1,macros:null})}));function K1({tierId:e,tierTitle:t,tierPrice:n,onSuccess:r,onCancel:s}){const[i,o]=T.useState(!1),[a,l]=T.useState(""),[u,c]=T.useState(""),[d,h]=T.useState(null),[p,v]=T.useState(""),{sessionToken:w}=Ay();T.useEffect(()=>{l(""),c(""),h(null),v("")},[]);const _={bundle:999,meal_plan:2700,shopping:1900,doctor:1500},y=()=>{if(!d)return _[e]||999;const x=_[e]||999;return Math.round(x*(1-d.percent/100))},m=async()=>{if(!u.trim()){v("Enter a coupon code");return}v("");try{const x=await fetch("https://carnivore-report-api-production.iambrew.workers.dev/validate-coupon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:u.toUpperCase()})});if(!x.ok){const S=await x.json();v(S.message||"Invalid coupon code"),h(null);return}const b=await x.json();h({code:u.toUpperCase(),percent:b.percent}),v("")}catch{v("Failed to validate coupon. Try again."),h(null)}},g=async x=>{var b;x.preventDefault(),l(""),(b=window.gtag)==null||b.call(window,"event","click",{event_category:"Upgrade",event_label:"Protocol Upgrade CTA",tier_id:e,tier_title:t,amount:y()}),o(!0);try{const S=y();if(S===0){setTimeout(()=>{window.location.href=`${window.location.origin}/calculator.html?payment=free`},500);return}const k=await fetch("https://carnivore-report-api-production.iambrew.workers.dev/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tier_id:e,tier_title:t,amount:S,original_amount:_[e]||999,coupon_code:(d==null?void 0:d.code)||null,discount_percent:(d==null?void 0:d.percent)||0,session_token:w,success_url:`${window.location.origin}/calculator.html?payment=success`,cancel_url:`${window.location.origin}/calculator.html?payment=cancelled`})});if(!k.ok){const R=await k.text();throw new Error(`Failed to create checkout: ${R}`)}const E=await k.json();if(E.url)window.location.href=E.url;else throw new Error("No checkout URL returned")}catch(S){l(S instanceof Error?S.message:"Payment failed"),o(!1)}};return f.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-hidden",children:f.jsxs(K.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden relative mx-auto",children:[f.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/90 text-accent p-6 relative",children:[f.jsx("button",{onClick:s,disabled:i,className:"absolute top-4 right-4 text-2xl hover:opacity-80 disabled:opacity-50",children:""}),f.jsx("h2",{className:"text-2xl font-display font-bold mb-1",children:"Complete Payment"}),f.jsx("p",{className:"text-accent/80 text-sm",children:"Secure payment via Stripe"})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-dark",children:t}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Plan ID: ",e]})]}),f.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",(y()/100).toFixed(2)]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2 space-y-1",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600",children:"Subtotal"}),f.jsxs("span",{className:"font-semibold",children:["$",(y()/100).toFixed(2)]})]}),d&&f.jsxs("div",{className:"flex justify-between text-sm bg-green-50 -mx-2 px-2 py-1 rounded",children:[f.jsxs("span",{className:"text-green-700",children:["Discount (",d.code,")"]}),f.jsxs("span",{className:"font-semibold text-green-700",children:["-$",((_[e]||999)*d.percent/100/100).toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600",children:"Tax"}),f.jsx("span",{className:"font-semibold",children:"$0.00"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-dark pt-2 border-t border-gray-200",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["$",(y()/100).toFixed(2)]})]})]})]}),f.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsx("p",{className:"text-sm text-blue-900",children:" You'll be redirected to Stripe's secure checkout to complete your payment."})}),a&&f.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:f.jsx("p",{className:"text-sm font-semibold text-red-900",children:a})}),i&&f.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[f.jsx("div",{className:"inline-block",children:f.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}),f.jsx("p",{className:"text-sm font-semibold text-dark mt-2",children:"Redirecting to Stripe..."})]}),!d&&f.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-secondary/10 rounded-lg p-4 border border-secondary/20",children:[f.jsx("label",{className:"block text-sm font-semibold text-dark mb-3",children:"Have a coupon code?"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:u,onChange:x=>c(x.target.value.toUpperCase()),placeholder:"Enter coupon code",disabled:i,className:"flex-1 px-4 py-2 rounded-lg border border-secondary/30 text-dark placeholder-gray-500 focus:border-secondary focus:ring-2 focus:ring-secondary/20 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed"}),f.jsx("button",{type:"button",onClick:m,disabled:i||!u.trim(),className:"px-4 py-2 rounded-lg bg-secondary text-accent font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Apply"})]}),p&&f.jsxs("p",{className:"text-sm text-red-600 mt-2",children:[" ",p]})]}),d&&f.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-green-50 rounded-lg p-4 border border-green-200",children:f.jsxs("p",{className:"text-sm font-semibold text-green-700",children:[" Coupon applied: ",d.code," (",d.percent,"% off)"]})}),f.jsxs("form",{onSubmit:g,className:"flex gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:s,disabled:i,className:"flex-1 px-4 py-3 rounded-lg border-2 border-secondary text-dark font-semibold hover:bg-secondary/10 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-3 rounded-lg bg-gradient-to-r from-primary to-primary/90 text-accent font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition",children:i?"Redirecting to Stripe...":`Pay $${(y()/100).toFixed(2)}`})]}),f.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Payments are processed securely by Stripe. Your data is encrypted and protected."})]})]})})}const Ef=[{id:"shopping",title:"Shopping Lists",price:"$19",description:"Grocery focused",features:["4-week organized grocery lists","Budget-aware shopping options","Macro tracking by store","Category organization","Weekly item breakdowns"]},{id:"meal_plan",title:"30-Day Meal Plan",price:"$27",description:"Just meals",features:["30-day meal plan with variety","Daily recipe suggestions","Ingredient macros per meal","Prep time estimates","Substitution options"]},{id:"doctor",title:"Doctor Script",price:"$47",description:"Talk to your MD",features:["Medication review framework","Lab work discussion talking points","Safety protocols & guidelines","Doctor conversation scripts","Follow-up questions guide"]},{id:"bundle",title:"Complete Protocol Bundle",price:"$9.99",popular:!0,description:"Everything included",features:["13-section personalized protocol","30-day meal plan with recipes","Weekly shopping lists","Doctor consultation guide","Macro & electrolyte calculations","AI-customized obstacle protocol","Adaptation timeline"]}];function q1({onClose:e,onProceed:t}){const{sessionToken:n}=Ay(),[r,s]=T.useState(null),i=()=>Ef.find(c=>c.id===r),o=c=>{s(c)},a=async()=>{if(r)try{const{error:c}=await nu.from("calculator2_sessions").update({pricing_tier:r}).eq("session_token",n);c&&console.error("[PricingModal] Failed to update session:",c),s(null),t(r)}catch(c){console.error("[PricingModal] Payment success handler error:",c),s(null),t(r)}},l=()=>{s(null)},u=i();return f.jsxs(f.Fragment,{children:[f.jsx("div",{onClick:e,className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[150] p-4",children:f.jsxs("div",{onClick:c=>c.stopPropagation(),className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"sticky top-0 z-20 bg-gradient-to-r from-primary to-primary/90 text-accent p-8 border-b-2 border-secondary pointer-events-none",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-2xl hover:opacity-80 pointer-events-auto",children:""}),f.jsx("h2",{className:"text-3xl font-display font-bold mb-2",children:"Choose Your Plan"}),f.jsx("p",{className:"text-accent/80",children:"Select the features that matter most to you"})]}),f.jsxs("div",{className:"bg-red-600 text-white p-4 text-center border-b-2 border-red-700",children:[f.jsx("p",{className:"text-lg font-bold",children:" NEW YEARS SALE "}),f.jsxs("p",{className:"text-sm mt-1",children:["Complete Bundle was ",f.jsx("span",{className:"line-through",children:"$298"}),"  NOW $9.99"]})]}),f.jsxs("div",{className:"p-8",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Ef.map(c=>f.jsxs("div",{className:c.id==="bundle"?"lg:col-span-1 relative":"",children:[c.id==="bundle"&&f.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 rounded-xl blur opacity-60 -z-10 pointer-events-none"}),f.jsx(v1,{title:c.title,price:c.price,description:c.description,features:c.features,popular:c.popular,onClick:()=>o(c.id)})]},c.id))}),f.jsxs("div",{className:"bg-gradient-to-r from-secondary/10 to-primary/10 rounded-lg p-6 border border-secondary/30",children:[f.jsx("h3",{className:"font-bold text-dark mb-4",children:"What You Get"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-dark mb-2",children:" Every Plan Includes"}),f.jsxs("ul",{className:"text-sm space-y-1 text-gray-600",children:[f.jsx("li",{children:" Personalized macro calculations"}),f.jsx("li",{children:" Your calorie targets"}),f.jsx("li",{children:" Instant results"})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-dark mb-2",children:" Value Breakdown"}),f.jsxs("ul",{className:"text-sm space-y-1 text-gray-600",children:[f.jsx("li",{children:"Complete bundle: $298 value"}),f.jsx("li",{children:"Your price: $9.99"}),f.jsx("li",{children:"Save: 96.6%"})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-dark mb-2",children:" 100% Money Back"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Not satisfied? Full refund within 7 days, no questions asked."})]})]})]})]})]})}),f.jsx(h1,{children:r&&u&&f.jsx(K1,{tierId:r,tierTitle:u.title,tierPrice:u.price,onSuccess:a,onCancel:l})})]})}const Xr=["Quick Start Protocol","Macronutrient Targets","30-Day Meal Plan","Weekly Shopping Lists","Food Quality Standards","Supplement Recommendations","Lab Work & Testing","Common Issues & Solutions","Doctor Conversation Guide","Tracking & Metrics","Adaptation Timeline","Obstacle Protocol","Community Resources"],Qa=50;function G1({isComplete:e=!1}){const[t,n]=T.useState(0),[r,s]=T.useState(0),[i,o]=T.useState(0);T.useEffect(()=>{if(e){n(100),s(Xr.length);return}const l=Qa/Xr.length,u=setInterval(()=>{o(c=>{const d=c+1,h=Math.min(d/Qa*100,98),p=Math.min(Math.floor(d/l),Xr.length-1);return s(p),n(h),d})},1e3);return()=>clearInterval(u)},[e]);const a=Math.max(1,Math.ceil((100-t)/100*Qa));return f.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8 py-12",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("h2",{className:"text-3xl font-display font-bold text-dark",children:"Generating Your Protocol"}),f.jsx("p",{className:"text-gray-600",children:"Creating your personalized 13-section carnivore protocol..."})]}),f.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"space-y-4",children:[f.jsxs("div",{className:"flex items-end justify-between",children:[f.jsx("span",{className:"text-sm font-semibold text-dark",children:"Progress"}),f.jsxs("span",{className:"text-sm font-semibold text-primary",children:[Math.round(t),"%"]})]}),f.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:f.jsx(K.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-primary to-secondary rounded-full"})}),f.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[f.jsxs("span",{children:["Estimated time remaining: ",a,"s"]}),f.jsxs("span",{children:[r," of ",Xr.length," sections"]})]})]}),f.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-primary/5 to-secondary/5 rounded-lg p-6 border border-primary/20",children:[f.jsx("p",{className:"text-sm font-semibold text-dark mb-4",children:"Report Sections Being Generated:"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Xr.map((l,u)=>f.jsxs(K.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:u*.05},className:"flex items-center gap-3",children:[f.jsx(K.div,{initial:{scale:0},animate:{scale:u<r?1:.8},className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center font-bold text-sm ${u<r?"bg-green-500 text-white":u===r?"bg-primary text-white animate-pulse":"bg-gray-300 text-gray-500"}`,children:u<r?f.jsx(K.span,{initial:{scale:0},animate:{scale:1},className:"text-lg",children:""}):u===r?f.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-3 h-3 border-2 border-transparent border-t-white rounded-full"}):u+1}),f.jsx("span",{className:`text-sm font-medium ${u<r?"text-green-600 line-through":"text-dark"}`,children:l})]},l))})]}),f.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center",children:f.jsx("p",{className:"text-sm text-gray-600",children:" Our AI is analyzing your health data and crafting personalized recommendations..."})})]})}const Tf=["Physical Stats","Fitness & Diet","Free Results","Health Profile"];function J1({sessionToken:e,onReportGenerated:t}){const[n,r]=T.useState({sex:void 0,age:0,weight:0,lifestyle:"",exercise:"",goal:void 0,deficit:0,diet:void 0}),[s,i]=T.useState(1),[o,a]=T.useState(null),[l,u]=T.useState(!1),[c,d]=T.useState(!1),[h,p]=T.useState({}),[v,w]=T.useState(!1);T.useEffect(()=>{if(n.sex&&n.age&&n.weight&&n.heightFeet&&n.lifestyle&&n.goal&&n.diet)try{const b=n.heightCm||(n.heightFeet*12+(n.heightInches||0))*2.54,S=B_(n.sex,n.age,n.weight,b),k={sedentary:.2,light:.375,moderate:.55,very:.725,extreme:.9},E={none:0,"1-2":.1,"3-4":.2,"5-6":.3,7:.4},R=1.2,N=k[n.lifestyle]||.55,oe=n.exercise&&E[n.exercise]||.2,de=S*(R+N+oe),ye=n.deficit||(n.goal==="lose"?20:n.goal==="gain"?10:0),ae=z_(de,n.goal,ye,n.diet,n.ratio,n.proteinMin,n.netCarbs);a(ae)}catch(b){console.error("Macro calculation error:",b)}},[n.sex,n.age,n.weight,n.heightFeet,n.heightInches,n.heightCm,n.lifestyle,n.exercise,n.goal,n.deficit,n.diet]);const _=b=>{i(b),p({})},y=()=>{u(!0)},m=()=>{w(!0),u(!1),i(4)},g=async()=>{if(!n.email){p({email:"Email is required"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){p({email:"Please enter a valid email"});return}d(!0);try{const b=await fetch("https://carnivore-report-api-production.iambrew.workers.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,firstName:n.firstName,lastName:n.lastName,age:n.age,sex:n.sex,weight:n.weight,height:n.heightFeet?`${n.heightFeet}'${n.heightInches}"`:`${n.heightCm}cm`,goal:n.goal,diet:n.diet,calories:o==null?void 0:o.calories,protein:o==null?void 0:o.protein,fat:o==null?void 0:o.fat,carbs:o==null?void 0:o.carbs,activityLevel:n.lifestyle,medications:n.medications,conditions:n.conditions,otherConditions:n.otherConditions,symptoms:n.symptoms,otherSymptoms:n.otherSymptoms,allergies:n.allergies,avoidFoods:n.avoidFoods,dairyTolerance:n.dairyTolerance,previousDiets:n.previousDiets,whatWorked:n.whatWorked,carnivoreExperience:n.carnivoreExperience,cookingSkill:n.cookingSkill,mealPrepTime:n.mealPrepTime,budget:n.budget,familySituation:n.familySituation,workTravel:n.workTravel,goals:n.goals,biggestChallenge:n.biggestChallenge,additionalNotes:n.additionalNotes,sessionToken:e})});if(!b.ok)throw new Error(`API error: ${b.status}`);const S=await b.json();d(!1),t&&t(S.report)}catch(b){console.error("Report generation error:",b),d(!1),p({submit:"Failed to generate report. Please try again."})}};if(c)return f.jsx(G1,{});const x=()=>{const b=n;switch(s){case 1:return f.jsx(K_,{data:b,onDataChange:S=>r(S),onContinue:()=>_(2),errors:h});case 2:return f.jsx(q_,{data:b,onDataChange:S=>r(S),onContinue:()=>_(3),onBack:()=>_(1),errors:h});case 3:return f.jsx(G_,{data:b,macros:o,onUpgrade:y,onBack:()=>_(2)});case 4:return v?f.jsx(J_,{data:b,onDataChange:S=>r(S),onSubmit:g,onBack:()=>_(3),errors:h}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-gray-600 mb-6",children:"Please upgrade to access the full health profile."}),f.jsx("button",{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg",children:"Upgrade Now"})]});default:return null}};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-full bg-gray-50 py-8 px-4",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx(W_,{currentStep:s,totalSteps:v?4:3,stepLabels:v?Tf:Tf.slice(0,3)}),f.jsx(H_,{sidebar:o&&s<4?f.jsxs("div",{className:"space-y-4",children:[f.jsx(f1,{macros:o}),s===3&&f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:f.jsx("p",{className:"text-sm text-gray-600 text-center",children:' Click "Upgrade" below to unlock your complete health profile and personalized protocol.'})})]}):null,hideSidebar:s===4||s>3,children:x()})]})}),l&&f.jsx(q1,{onClose:()=>u(!1),onProceed:()=>m()})]})}function Y1(){const[e,t]=T.useState(""),[n,r]=T.useState(!1);return T.useEffect(()=>{async function s(){try{const i=await F_();t(i.session_token);const o=new URLSearchParams(window.location.search),a=o.get("payment"),l=o.get("session_id"),u=()=>{setTimeout(()=>{const c=document.querySelector("[data-form-section]")||document.querySelector("form");if(c){const d=c.getBoundingClientRect();(d.top>window.innerHeight||d.top<0)&&c.scrollIntoView({behavior:"smooth",block:"nearest"})}},100)};if(a==="free")u(),console.log("[App] Premium access granted (free tier)"),window.history.replaceState({},"",window.location.pathname);else if(a==="success"&&l){try{const d=await(await fetch("https://carnivore-report-api-production.iambrew.workers.dev/verify-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stripeSessionId:l,sessionToken:i.session_token})})).json();console.log("[App] Payment verification result:",d),d.success&&d.paid?(u(),console.log("[App] Premium access granted after payment verification")):console.warn("[App] Payment verification failed or not paid")}catch(c){console.error("[App] Payment verification error:",c)}window.history.replaceState({},"",window.location.pathname)}r(!0)}catch(i){console.error("Failed to initialize app:",i),r(!0)}}s()},[]),n?f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsx(J1,{sessionToken:e})}):f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("p",{className:"text-gray-600",children:"Loading..."})})}Xa.createRoot(document.getElementById("root")).render(f.jsx(Eo.StrictMode,{children:f.jsx(Y1,{})}));
