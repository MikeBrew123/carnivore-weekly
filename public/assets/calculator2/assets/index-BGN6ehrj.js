(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Wm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hm={exports:{}},Ba={},Km={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=Symbol.for("react.element"),dw=Symbol.for("react.portal"),hw=Symbol.for("react.fragment"),fw=Symbol.for("react.strict_mode"),pw=Symbol.for("react.profiler"),mw=Symbol.for("react.provider"),gw=Symbol.for("react.context"),yw=Symbol.for("react.forward_ref"),vw=Symbol.for("react.suspense"),ww=Symbol.for("react.memo"),xw=Symbol.for("react.lazy"),Sh=Symbol.iterator;function _w(t){return t===null||typeof t!="object"?null:(t=Sh&&t[Sh]||t["@@iterator"],typeof t=="function"?t:null)}var qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gm=Object.assign,Zm={};function Fs(t,e,r){this.props=t,this.context=e,this.refs=Zm,this.updater=r||qm}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jm(){}Jm.prototype=Fs.prototype;function Wc(t,e,r){this.props=t,this.context=e,this.refs=Zm,this.updater=r||qm}var Hc=Wc.prototype=new Jm;Hc.constructor=Wc;Gm(Hc,Fs.prototype);Hc.isPureReactComponent=!0;var Eh=Array.isArray,Ym=Object.prototype.hasOwnProperty,Kc={current:null},Qm={key:!0,ref:!0,__self:!0,__source:!0};function Xm(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ym.call(e,n)&&!Qm.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:eo,type:t,key:i,ref:o,props:s,_owner:Kc.current}}function bw(t,e){return{$$typeof:eo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qc(t){return typeof t=="object"&&t!==null&&t.$$typeof===eo}function kw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Th=/\/+/g;function wl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kw(""+t.key):e.toString(36)}function Mo(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case eo:case dw:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+wl(o,0):n,Eh(s)?(r="",t!=null&&(r=t.replace(Th,"$&/")+"/"),Mo(s,e,r,"",function(u){return u})):s!=null&&(qc(s)&&(s=bw(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Th,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Eh(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+wl(i,a);o+=Mo(i,e,r,l,s)}else if(l=_w(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+wl(i,a++),o+=Mo(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function po(t,e,r){if(t==null)return t;var n=[],s=0;return Mo(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Sw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lt={current:null},Uo={transition:null},Ew={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:Kc};function eg(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:po,forEach:function(t,e,r){po(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return po(t,function(){e++}),e},toArray:function(t){return po(t,function(e){return e})||[]},only:function(t){if(!qc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Fs;se.Fragment=hw;se.Profiler=pw;se.PureComponent=Wc;se.StrictMode=fw;se.Suspense=vw;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ew;se.act=eg;se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Gm({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Kc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ym.call(e,l)&&!Qm.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:eo,type:t.type,key:s,ref:i,props:n,_owner:o}};se.createContext=function(t){return t={$$typeof:gw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mw,_context:t},t.Consumer=t};se.createElement=Xm;se.createFactory=function(t){var e=Xm.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:yw,render:t}};se.isValidElement=qc;se.lazy=function(t){return{$$typeof:xw,_payload:{_status:-1,_result:t},_init:Sw}};se.memo=function(t,e){return{$$typeof:ww,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Uo.transition;Uo.transition={};try{t()}finally{Uo.transition=e}};se.unstable_act=eg;se.useCallback=function(t,e){return lt.current.useCallback(t,e)};se.useContext=function(t){return lt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return lt.current.useDeferredValue(t)};se.useEffect=function(t,e){return lt.current.useEffect(t,e)};se.useId=function(){return lt.current.useId()};se.useImperativeHandle=function(t,e,r){return lt.current.useImperativeHandle(t,e,r)};se.useInsertionEffect=function(t,e){return lt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return lt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return lt.current.useMemo(t,e)};se.useReducer=function(t,e,r){return lt.current.useReducer(t,e,r)};se.useRef=function(t){return lt.current.useRef(t)};se.useState=function(t){return lt.current.useState(t)};se.useSyncExternalStore=function(t,e,r){return lt.current.useSyncExternalStore(t,e,r)};se.useTransition=function(){return lt.current.useTransition()};se.version="18.3.1";Km.exports=se;var P=Km.exports;const Je=Wm(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw=P,Cw=Symbol.for("react.element"),jw=Symbol.for("react.fragment"),Pw=Object.prototype.hasOwnProperty,Aw=Tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rw={key:!0,ref:!0,__self:!0,__source:!0};function tg(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Pw.call(e,n)&&!Rw.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Cw,type:t,key:i,ref:o,props:s,_owner:Aw.current}}Ba.Fragment=jw;Ba.jsx=tg;Ba.jsxs=tg;Hm.exports=Ba;var h=Hm.exports,xu={},rg={exports:{}},jt={},ng={exports:{}},sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,H){var Y=O.length;O.push(H);e:for(;0<Y;){var G=Y-1>>>1,ce=O[G];if(0<s(ce,H))O[G]=H,O[Y]=ce,Y=G;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var H=O[0],Y=O.pop();if(Y!==H){O[0]=Y;e:for(var G=0,ce=O.length,At=ce>>>1;G<At;){var ct=2*(G+1)-1,tr=O[ct],ze=ct+1,oe=O[ze];if(0>s(tr,Y))ze<ce&&0>s(oe,tr)?(O[G]=oe,O[ze]=Y,G=ze):(O[G]=tr,O[ct]=Y,G=ct);else if(ze<ce&&0>s(oe,Y))O[G]=oe,O[ze]=Y,G=ze;else break e}}return H}function s(O,H){var Y=O.sortIndex-H.sortIndex;return Y!==0?Y:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=O)n(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=r(u)}}function x(O){if(w=!1,g(O),!v)if(r(l)!==null)v=!0,ie(S);else{var H=r(u);H!==null&&fe(x,H.startTime-O)}}function S(O,H){v=!1,w&&(w=!1,y(j),j=-1),p=!0;var Y=f;try{for(g(H),d=r(l);d!==null&&(!(d.expirationTime>H)||O&&!be());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var ce=G(d.expirationTime<=H);H=t.unstable_now(),typeof ce=="function"?d.callback=ce:d===r(l)&&n(l),g(H)}else n(l);d=r(l)}if(d!==null)var At=!0;else{var ct=r(u);ct!==null&&fe(x,ct.startTime-H),At=!1}return At}finally{d=null,f=Y,p=!1}}var E=!1,C=null,j=-1,D=5,V=-1;function be(){return!(t.unstable_now()-V<D)}function z(){if(C!==null){var O=t.unstable_now();V=O;var H=!0;try{H=C(!0,O)}finally{H?q():(E=!1,C=null)}}else E=!1}var q;if(typeof m=="function")q=function(){m(z)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,pe=re.port2;re.port1.onmessage=z,q=function(){pe.postMessage(null)}}else q=function(){b(z,0)};function ie(O){C=O,E||(E=!0,q())}function fe(O,H){j=b(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,ie(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var Y=f;f=H;try{return O()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=f;f=O;try{return H()}finally{f=Y}},t.unstable_scheduleCallback=function(O,H,Y){var G=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?G+Y:G):Y=G,O){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Y+ce,O={id:c++,callback:H,priorityLevel:O,startTime:Y,expirationTime:ce,sortIndex:-1},Y>G?(O.sortIndex=Y,e(u,O),r(l)===null&&O===r(u)&&(w?(y(j),j=-1):w=!0,fe(x,Y-G))):(O.sortIndex=ce,e(l,O),v||p||(v=!0,ie(S))),O},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(O){var H=f;return function(){var Y=f;f=H;try{return O.apply(this,arguments)}finally{f=Y}}}})(sg);ng.exports=sg;var Nw=ng.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow=P,Et=Nw;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ig=new Set,Ti={};function Vn(t,e){Ts(t,e),Ts(t+"Capture",e)}function Ts(t,e){for(Ti[t]=e,t=0;t<e.length;t++)ig.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=Object.prototype.hasOwnProperty,Iw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ch={},jh={};function Dw(t){return _u.call(jh,t)?!0:_u.call(Ch,t)?!1:Iw.test(t)?jh[t]=!0:(Ch[t]=!0,!1)}function Lw(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vw(t,e,r,n){if(e===null||typeof e>"u"||Lw(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ut(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gc=/[\-:]([a-z])/g;function Zc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gc,Zc);Qe[e]=new ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gc,Zc);Qe[e]=new ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gc,Zc);Qe[e]=new ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jc(t,e,r,n){var s=Qe.hasOwnProperty(e)?Qe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vw(e,r,s,n)&&(r=null),n||s===null?Dw(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Tr=Ow.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mo=Symbol.for("react.element"),rs=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),Yc=Symbol.for("react.strict_mode"),bu=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),ag=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),ku=Symbol.for("react.suspense"),Su=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),lg=Symbol.for("react.offscreen"),Ph=Symbol.iterator;function Ws(t){return t===null||typeof t!="object"?null:(t=Ph&&t[Ph]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,xl;function ri(t){if(xl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xl=e&&e[1]||""}return`
`+xl+t}var _l=!1;function bl(t,e){if(!t||_l)return"";_l=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_l=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ri(t):""}function $w(t){switch(t.tag){case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 2:case 15:return t=bl(t.type,!1),t;case 11:return t=bl(t.type.render,!1),t;case 1:return t=bl(t.type,!0),t;default:return""}}function Eu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ns:return"Fragment";case rs:return"Portal";case bu:return"Profiler";case Yc:return"StrictMode";case ku:return"Suspense";case Su:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ag:return(t.displayName||"Context")+".Consumer";case og:return(t._context.displayName||"Context")+".Provider";case Qc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xc:return e=t.displayName||null,e!==null?e:Eu(t.type)||"Memo";case Nr:e=t._payload,t=t._init;try{return Eu(t(e))}catch{}}return null}function Mw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(e);case 8:return e===Yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function en(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ug(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uw(t){var e=ug(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function go(t){t._valueTracker||(t._valueTracker=Uw(t))}function cg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ug(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Xo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tu(t,e){var r=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ah(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=en(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dg(t,e){e=e.checked,e!=null&&Jc(t,"checked",e,!1)}function Cu(t,e){dg(t,e);var r=en(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ju(t,e.type,r):e.hasOwnProperty("defaultValue")&&ju(t,e.type,en(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rh(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ju(t,e,r){(e!=="number"||Xo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ni=Array.isArray;function ws(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+en(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(A(92));if(ni(r)){if(1<r.length)throw Error(A(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:en(r)}}function hg(t,e){var r=en(e.value),n=en(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Oh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yo,pg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ci(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fw=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(t){Fw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ui[e]=ui[t]})});function mg(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ui.hasOwnProperty(t)&&ui[t]?(""+e).trim():e+"px"}function gg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=mg(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Bw=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ru(t,e){if(e){if(Bw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Nu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=null;function ed(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Iu=null,xs=null,_s=null;function Ih(t){if(t=no(t)){if(typeof Iu!="function")throw Error(A(280));var e=t.stateNode;e&&(e=qa(e),Iu(t.stateNode,t.type,e))}}function yg(t){xs?_s?_s.push(t):_s=[t]:xs=t}function vg(){if(xs){var t=xs,e=_s;if(_s=xs=null,Ih(t),e)for(t=0;t<e.length;t++)Ih(e[t])}}function wg(t,e){return t(e)}function xg(){}var kl=!1;function _g(t,e,r){if(kl)return t(e,r);kl=!0;try{return wg(t,e,r)}finally{kl=!1,(xs!==null||_s!==null)&&(xg(),vg())}}function ji(t,e){var r=t.stateNode;if(r===null)return null;var n=qa(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(A(231,e,typeof r));return r}var Du=!1;if(xr)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Du=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Du=!1}function zw(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var ci=!1,ea=null,ta=!1,Lu=null,Ww={onError:function(t){ci=!0,ea=t}};function Hw(t,e,r,n,s,i,o,a,l){ci=!1,ea=null,zw.apply(Ww,arguments)}function Kw(t,e,r,n,s,i,o,a,l){if(Hw.apply(this,arguments),ci){if(ci){var u=ea;ci=!1,ea=null}else throw Error(A(198));ta||(ta=!0,Lu=u)}}function $n(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dh(t){if($n(t)!==t)throw Error(A(188))}function qw(t){var e=t.alternate;if(!e){if(e=$n(t),e===null)throw Error(A(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Dh(s),t;if(i===n)return Dh(s),e;i=i.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?t:e}function kg(t){return t=qw(t),t!==null?Sg(t):null}function Sg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sg(t);if(e!==null)return e;t=t.sibling}return null}var Eg=Et.unstable_scheduleCallback,Lh=Et.unstable_cancelCallback,Gw=Et.unstable_shouldYield,Zw=Et.unstable_requestPaint,Ne=Et.unstable_now,Jw=Et.unstable_getCurrentPriorityLevel,td=Et.unstable_ImmediatePriority,Tg=Et.unstable_UserBlockingPriority,ra=Et.unstable_NormalPriority,Yw=Et.unstable_LowPriority,Cg=Et.unstable_IdlePriority,za=null,or=null;function Qw(t){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(za,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:tx,Xw=Math.log,ex=Math.LN2;function tx(t){return t>>>=0,t===0?32:31-(Xw(t)/ex|0)|0}var vo=64,wo=4194304;function si(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function na(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=si(a):(i&=o,i!==0&&(n=si(i)))}else o=r&~s,o!==0?n=si(o):i!==0&&(n=si(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Qt(e),s=1<<r,n|=t[r],e&=~s;return n}function rx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nx(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=rx(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Vu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jg(){var t=vo;return vo<<=1,!(vo&4194240)&&(vo=64),t}function Sl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function to(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=r}function sx(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Qt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function rd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Qt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var he=0;function Pg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ag,nd,Rg,Ng,Og,$u=!1,xo=[],Wr=null,Hr=null,Kr=null,Pi=new Map,Ai=new Map,Vr=[],ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vh(t,e){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(e.pointerId)}}function Ks(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=no(e),e!==null&&nd(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ox(t,e,r,n,s){switch(e){case"focusin":return Wr=Ks(Wr,t,e,r,n,s),!0;case"dragenter":return Hr=Ks(Hr,t,e,r,n,s),!0;case"mouseover":return Kr=Ks(Kr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Pi.set(i,Ks(Pi.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ai.set(i,Ks(Ai.get(i)||null,t,e,r,n,s)),!0}return!1}function Ig(t){var e=bn(t.target);if(e!==null){var r=$n(e);if(r!==null){if(e=r.tag,e===13){if(e=bg(r),e!==null){t.blockedOn=e,Og(t.priority,function(){Rg(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Mu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ou=n,r.target.dispatchEvent(n),Ou=null}else return e=no(r),e!==null&&nd(e),t.blockedOn=r,!1;e.shift()}return!0}function $h(t,e,r){Fo(t)&&r.delete(e)}function ax(){$u=!1,Wr!==null&&Fo(Wr)&&(Wr=null),Hr!==null&&Fo(Hr)&&(Hr=null),Kr!==null&&Fo(Kr)&&(Kr=null),Pi.forEach($h),Ai.forEach($h)}function qs(t,e){t.blockedOn===e&&(t.blockedOn=null,$u||($u=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,ax)))}function Ri(t){function e(s){return qs(s,t)}if(0<xo.length){qs(xo[0],t);for(var r=1;r<xo.length;r++){var n=xo[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Wr!==null&&qs(Wr,t),Hr!==null&&qs(Hr,t),Kr!==null&&qs(Kr,t),Pi.forEach(e),Ai.forEach(e),r=0;r<Vr.length;r++)n=Vr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)Ig(r),r.blockedOn===null&&Vr.shift()}var bs=Tr.ReactCurrentBatchConfig,sa=!0;function lx(t,e,r,n){var s=he,i=bs.transition;bs.transition=null;try{he=1,sd(t,e,r,n)}finally{he=s,bs.transition=i}}function ux(t,e,r,n){var s=he,i=bs.transition;bs.transition=null;try{he=4,sd(t,e,r,n)}finally{he=s,bs.transition=i}}function sd(t,e,r,n){if(sa){var s=Mu(t,e,r,n);if(s===null)Il(t,e,n,ia,r),Vh(t,n);else if(ox(s,t,e,r,n))n.stopPropagation();else if(Vh(t,n),e&4&&-1<ix.indexOf(t)){for(;s!==null;){var i=no(s);if(i!==null&&Ag(i),i=Mu(t,e,r,n),i===null&&Il(t,e,n,ia,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Il(t,e,n,null,r)}}var ia=null;function Mu(t,e,r,n){if(ia=null,t=ed(n),t=bn(t),t!==null)if(e=$n(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bg(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ia=t,null}function Dg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jw()){case td:return 1;case Tg:return 4;case ra:case Yw:return 16;case Cg:return 536870912;default:return 16}default:return 16}}var Fr=null,id=null,Bo=null;function Lg(){if(Bo)return Bo;var t,e=id,r=e.length,n,s="value"in Fr?Fr.value:Fr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Bo=s.slice(t,1<n?1-n:void 0)}function zo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _o(){return!0}function Mh(){return!1}function Pt(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_o:Mh,this.isPropagationStopped=Mh,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),e}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},od=Pt(Bs),ro=je({},Bs,{view:0,detail:0}),cx=Pt(ro),El,Tl,Gs,Wa=je({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gs&&(Gs&&t.type==="mousemove"?(El=t.screenX-Gs.screenX,Tl=t.screenY-Gs.screenY):Tl=El=0,Gs=t),El)},movementY:function(t){return"movementY"in t?t.movementY:Tl}}),Uh=Pt(Wa),dx=je({},Wa,{dataTransfer:0}),hx=Pt(dx),fx=je({},ro,{relatedTarget:0}),Cl=Pt(fx),px=je({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),mx=Pt(px),gx=je({},Bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yx=Pt(gx),vx=je({},Bs,{data:0}),Fh=Pt(vx),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_x[t])?!!e[t]:!1}function ad(){return bx}var kx=je({},ro,{key:function(t){if(t.key){var e=wx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(t){return t.type==="keypress"?zo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sx=Pt(kx),Ex=je({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bh=Pt(Ex),Tx=je({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),Cx=Pt(Tx),jx=je({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Px=Pt(jx),Ax=je({},Wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rx=Pt(Ax),Nx=[9,13,27,32],ld=xr&&"CompositionEvent"in window,di=null;xr&&"documentMode"in document&&(di=document.documentMode);var Ox=xr&&"TextEvent"in window&&!di,Vg=xr&&(!ld||di&&8<di&&11>=di),zh=" ",Wh=!1;function $g(t,e){switch(t){case"keyup":return Nx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function Ix(t,e){switch(t){case"compositionend":return Mg(e);case"keypress":return e.which!==32?null:(Wh=!0,zh);case"textInput":return t=e.data,t===zh&&Wh?null:t;default:return null}}function Dx(t,e){if(ss)return t==="compositionend"||!ld&&$g(t,e)?(t=Lg(),Bo=id=Fr=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vg&&e.locale!=="ko"?null:e.data;default:return null}}var Lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lx[t.type]:e==="textarea"}function Ug(t,e,r,n){yg(n),e=oa(e,"onChange"),0<e.length&&(r=new od("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hi=null,Ni=null;function Vx(t){Yg(t,0)}function Ha(t){var e=as(t);if(cg(e))return t}function $x(t,e){if(t==="change")return e}var Fg=!1;if(xr){var jl;if(xr){var Pl="oninput"in document;if(!Pl){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),Pl=typeof Kh.oninput=="function"}jl=Pl}else jl=!1;Fg=jl&&(!document.documentMode||9<document.documentMode)}function qh(){hi&&(hi.detachEvent("onpropertychange",Bg),Ni=hi=null)}function Bg(t){if(t.propertyName==="value"&&Ha(Ni)){var e=[];Ug(e,Ni,t,ed(t)),_g(Vx,e)}}function Mx(t,e,r){t==="focusin"?(qh(),hi=e,Ni=r,hi.attachEvent("onpropertychange",Bg)):t==="focusout"&&qh()}function Ux(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ha(Ni)}function Fx(t,e){if(t==="click")return Ha(e)}function Bx(t,e){if(t==="input"||t==="change")return Ha(e)}function zx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:zx;function Oi(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_u.call(e,s)||!er(t[s],e[s]))return!1}return!0}function Gh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zh(t,e){var r=Gh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gh(r)}}function zg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wg(){for(var t=window,e=Xo();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Xo(t.document)}return e}function ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Wx(t){var e=Wg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zg(r.ownerDocument.documentElement,r)){if(n!==null&&ud(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Zh(r,i);var o=Zh(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hx=xr&&"documentMode"in document&&11>=document.documentMode,is=null,Uu=null,fi=null,Fu=!1;function Jh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fu||is==null||is!==Xo(n)||(n=is,"selectionStart"in n&&ud(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fi&&Oi(fi,n)||(fi=n,n=oa(Uu,"onSelect"),0<n.length&&(e=new od("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=is)))}function bo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var os={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionend:bo("Transition","TransitionEnd")},Al={},Hg={};xr&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Ka(t){if(Al[t])return Al[t];if(!os[t])return t;var e=os[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Hg)return Al[t]=e[r];return t}var Kg=Ka("animationend"),qg=Ka("animationiteration"),Gg=Ka("animationstart"),Zg=Ka("transitionend"),Jg=new Map,Yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(t,e){Jg.set(t,e),Vn(e,[t])}for(var Rl=0;Rl<Yh.length;Rl++){var Nl=Yh[Rl],Kx=Nl.toLowerCase(),qx=Nl[0].toUpperCase()+Nl.slice(1);an(Kx,"on"+qx)}an(Kg,"onAnimationEnd");an(qg,"onAnimationIteration");an(Gg,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Zg,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function Qh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Kw(n,e,void 0,t),t.currentTarget=null}function Yg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Qh(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Qh(s,a,u),i=l}}}if(ta)throw t=Lu,ta=!1,Lu=null,t}function xe(t,e){var r=e[Ku];r===void 0&&(r=e[Ku]=new Set);var n=t+"__bubble";r.has(n)||(Qg(e,t,2,!1),r.add(n))}function Ol(t,e,r){var n=0;e&&(n|=4),Qg(r,t,n,e)}var ko="_reactListening"+Math.random().toString(36).slice(2);function Ii(t){if(!t[ko]){t[ko]=!0,ig.forEach(function(r){r!=="selectionchange"&&(Gx.has(r)||Ol(r,!1,t),Ol(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ko]||(e[ko]=!0,Ol("selectionchange",!1,e))}}function Qg(t,e,r,n){switch(Dg(e)){case 1:var s=lx;break;case 4:s=ux;break;default:s=sd}r=s.bind(null,e,r,t),s=void 0,!Du||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Il(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bn(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}_g(function(){var u=i,c=ed(r),d=[];e:{var f=Jg.get(t);if(f!==void 0){var p=od,v=t;switch(t){case"keypress":if(zo(r)===0)break e;case"keydown":case"keyup":p=Sx;break;case"focusin":v="focus",p=Cl;break;case"focusout":v="blur",p=Cl;break;case"beforeblur":case"afterblur":p=Cl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Cx;break;case Kg:case qg:case Gg:p=mx;break;case Zg:p=Px;break;case"scroll":p=cx;break;case"wheel":p=Rx;break;case"copy":case"cut":case"paste":p=yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bh}var w=(e&4)!==0,b=!w&&t==="scroll",y=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,g;m!==null;){g=m;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,y!==null&&(x=ji(m,y),x!=null&&w.push(Di(m,x,g)))),b)break;m=m.return}0<w.length&&(f=new p(f,v,null,r,c),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==Ou&&(v=r.relatedTarget||r.fromElement)&&(bn(v)||v[_r]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?bn(v):null,v!==null&&(b=$n(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=Uh,x="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Bh,x="onPointerLeave",y="onPointerEnter",m="pointer"),b=p==null?f:as(p),g=v==null?f:as(v),f=new w(x,m+"leave",p,r,c),f.target=b,f.relatedTarget=g,x=null,bn(c)===u&&(w=new w(y,m+"enter",v,r,c),w.target=g,w.relatedTarget=b,x=w),b=x,p&&v)t:{for(w=p,y=v,m=0,g=w;g;g=Bn(g))m++;for(g=0,x=y;x;x=Bn(x))g++;for(;0<m-g;)w=Bn(w),m--;for(;0<g-m;)y=Bn(y),g--;for(;m--;){if(w===y||y!==null&&w===y.alternate)break t;w=Bn(w),y=Bn(y)}w=null}else w=null;p!==null&&Xh(d,f,p,w,!1),v!==null&&b!==null&&Xh(d,b,v,w,!0)}}e:{if(f=u?as(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=$x;else if(Hh(f))if(Fg)S=Bx;else{S=Ux;var E=Mx}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Fx);if(S&&(S=S(t,u))){Ug(d,S,r,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&ju(f,"number",f.value)}switch(E=u?as(u):window,t){case"focusin":(Hh(E)||E.contentEditable==="true")&&(is=E,Uu=u,fi=null);break;case"focusout":fi=Uu=is=null;break;case"mousedown":Fu=!0;break;case"contextmenu":case"mouseup":case"dragend":Fu=!1,Jh(d,r,c);break;case"selectionchange":if(Hx)break;case"keydown":case"keyup":Jh(d,r,c)}var C;if(ld)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ss?$g(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Vg&&r.locale!=="ko"&&(ss||j!=="onCompositionStart"?j==="onCompositionEnd"&&ss&&(C=Lg()):(Fr=c,id="value"in Fr?Fr.value:Fr.textContent,ss=!0)),E=oa(u,j),0<E.length&&(j=new Fh(j,t,null,r,c),d.push({event:j,listeners:E}),C?j.data=C:(C=Mg(r),C!==null&&(j.data=C)))),(C=Ox?Ix(t,r):Dx(t,r))&&(u=oa(u,"onBeforeInput"),0<u.length&&(c=new Fh("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=C))}Yg(d,e)})}function Di(t,e,r){return{instance:t,listener:e,currentTarget:r}}function oa(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ji(t,r),i!=null&&n.unshift(Di(t,i,s)),i=ji(t,e),i!=null&&n.push(Di(t,i,s))),t=t.return}return n}function Bn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xh(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=ji(r,i),l!=null&&o.unshift(Di(r,l,a))):s||(l=ji(r,i),l!=null&&o.push(Di(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Zx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function ef(t){return(typeof t=="string"?t:""+t).replace(Zx,`
`).replace(Jx,"")}function So(t,e,r){if(e=ef(e),ef(t)!==e&&r)throw Error(A(425))}function aa(){}var Bu=null,zu=null;function Wu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(t){return tf.resolve(null).then(t).catch(Xx)}:Hu;function Xx(t){setTimeout(function(){throw t})}function Dl(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ri(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ri(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),ir="__reactFiber$"+zs,Li="__reactProps$"+zs,_r="__reactContainer$"+zs,Ku="__reactEvents$"+zs,e_="__reactListeners$"+zs,t_="__reactHandles$"+zs;function bn(t){var e=t[ir];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_r]||r[ir]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=rf(t);t!==null;){if(r=t[ir])return r;t=rf(t)}return e}t=r,r=t.parentNode}return null}function no(t){return t=t[ir]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function as(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function qa(t){return t[Li]||null}var qu=[],ls=-1;function ln(t){return{current:t}}function _e(t){0>ls||(t.current=qu[ls],qu[ls]=null,ls--)}function ve(t,e){ls++,qu[ls]=t.current,t.current=e}var tn={},nt=ln(tn),pt=ln(!1),Rn=tn;function Cs(t,e){var r=t.type.contextTypes;if(!r)return tn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mt(t){return t=t.childContextTypes,t!=null}function la(){_e(pt),_e(nt)}function nf(t,e,r){if(nt.current!==tn)throw Error(A(168));ve(nt,e),ve(pt,r)}function Xg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(A(108,Mw(t)||"Unknown",s));return je({},r,n)}function ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tn,Rn=nt.current,ve(nt,t),ve(pt,pt.current),!0}function sf(t,e,r){var n=t.stateNode;if(!n)throw Error(A(169));r?(t=Xg(t,e,Rn),n.__reactInternalMemoizedMergedChildContext=t,_e(pt),_e(nt),ve(nt,t)):_e(pt),ve(pt,r)}var fr=null,Ga=!1,Ll=!1;function ey(t){fr===null?fr=[t]:fr.push(t)}function r_(t){Ga=!0,ey(t)}function un(){if(!Ll&&fr!==null){Ll=!0;var t=0,e=he;try{var r=fr;for(he=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}fr=null,Ga=!1}catch(s){throw fr!==null&&(fr=fr.slice(t+1)),Eg(td,un),s}finally{he=e,Ll=!1}}return null}var us=[],cs=0,ca=null,da=0,It=[],Dt=0,Nn=null,pr=1,mr="";function pn(t,e){us[cs++]=da,us[cs++]=ca,ca=t,da=e}function ty(t,e,r){It[Dt++]=pr,It[Dt++]=mr,It[Dt++]=Nn,Nn=t;var n=pr;t=mr;var s=32-Qt(n)-1;n&=~(1<<s),r+=1;var i=32-Qt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,pr=1<<32-Qt(e)+s|r<<s|n,mr=i+t}else pr=1<<i|r<<s|n,mr=t}function cd(t){t.return!==null&&(pn(t,1),ty(t,1,0))}function dd(t){for(;t===ca;)ca=us[--cs],us[cs]=null,da=us[--cs],us[cs]=null;for(;t===Nn;)Nn=It[--Dt],It[Dt]=null,mr=It[--Dt],It[Dt]=null,pr=It[--Dt],It[Dt]=null}var St=null,kt=null,ke=!1,Zt=null;function ry(t,e){var r=Lt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function of(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,St=t,kt=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,St=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Nn!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Lt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,St=t,kt=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zu(t){if(ke){var e=kt;if(e){var r=e;if(!of(t,e)){if(Gu(t))throw Error(A(418));e=qr(r.nextSibling);var n=St;e&&of(t,e)?ry(n,r):(t.flags=t.flags&-4097|2,ke=!1,St=t)}}else{if(Gu(t))throw Error(A(418));t.flags=t.flags&-4097|2,ke=!1,St=t}}}function af(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;St=t}function Eo(t){if(t!==St)return!1;if(!ke)return af(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wu(t.type,t.memoizedProps)),e&&(e=kt)){if(Gu(t))throw ny(),Error(A(418));for(;e;)ry(t,e),e=qr(e.nextSibling)}if(af(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){kt=qr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=St?qr(t.stateNode.nextSibling):null;return!0}function ny(){for(var t=kt;t;)t=qr(t.nextSibling)}function js(){kt=St=null,ke=!1}function hd(t){Zt===null?Zt=[t]:Zt.push(t)}var n_=Tr.ReactCurrentBatchConfig;function Zs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,t))}return t}function To(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lf(t){var e=t._init;return e(t._payload)}function sy(t){function e(y,m){if(t){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function r(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Yr(y,m),y.index=0,y.sibling=null,y}function i(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,g,x){return m===null||m.tag!==6?(m=zl(g,y.mode,x),m.return=y,m):(m=s(m,g),m.return=y,m)}function l(y,m,g,x){var S=g.type;return S===ns?c(y,m,g.props.children,x,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Nr&&lf(S)===m.type)?(x=s(m,g.props),x.ref=Zs(y,m,g),x.return=y,x):(x=Jo(g.type,g.key,g.props,null,y.mode,x),x.ref=Zs(y,m,g),x.return=y,x)}function u(y,m,g,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Wl(g,y.mode,x),m.return=y,m):(m=s(m,g.children||[]),m.return=y,m)}function c(y,m,g,x,S){return m===null||m.tag!==7?(m=Pn(g,y.mode,x,S),m.return=y,m):(m=s(m,g),m.return=y,m)}function d(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=zl(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case mo:return g=Jo(m.type,m.key,m.props,null,y.mode,g),g.ref=Zs(y,null,m),g.return=y,g;case rs:return m=Wl(m,y.mode,g),m.return=y,m;case Nr:var x=m._init;return d(y,x(m._payload),g)}if(ni(m)||Ws(m))return m=Pn(m,y.mode,g,null),m.return=y,m;To(y,m)}return null}function f(y,m,g,x){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:a(y,m,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case mo:return g.key===S?l(y,m,g,x):null;case rs:return g.key===S?u(y,m,g,x):null;case Nr:return S=g._init,f(y,m,S(g._payload),x)}if(ni(g)||Ws(g))return S!==null?null:c(y,m,g,x,null);To(y,g)}return null}function p(y,m,g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(g)||null,a(m,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mo:return y=y.get(x.key===null?g:x.key)||null,l(m,y,x,S);case rs:return y=y.get(x.key===null?g:x.key)||null,u(m,y,x,S);case Nr:var E=x._init;return p(y,m,g,E(x._payload),S)}if(ni(x)||Ws(x))return y=y.get(g)||null,c(m,y,x,S,null);To(m,x)}return null}function v(y,m,g,x){for(var S=null,E=null,C=m,j=m=0,D=null;C!==null&&j<g.length;j++){C.index>j?(D=C,C=null):D=C.sibling;var V=f(y,C,g[j],x);if(V===null){C===null&&(C=D);break}t&&C&&V.alternate===null&&e(y,C),m=i(V,m,j),E===null?S=V:E.sibling=V,E=V,C=D}if(j===g.length)return r(y,C),ke&&pn(y,j),S;if(C===null){for(;j<g.length;j++)C=d(y,g[j],x),C!==null&&(m=i(C,m,j),E===null?S=C:E.sibling=C,E=C);return ke&&pn(y,j),S}for(C=n(y,C);j<g.length;j++)D=p(C,y,j,g[j],x),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?j:D.key),m=i(D,m,j),E===null?S=D:E.sibling=D,E=D);return t&&C.forEach(function(be){return e(y,be)}),ke&&pn(y,j),S}function w(y,m,g,x){var S=Ws(g);if(typeof S!="function")throw Error(A(150));if(g=S.call(g),g==null)throw Error(A(151));for(var E=S=null,C=m,j=m=0,D=null,V=g.next();C!==null&&!V.done;j++,V=g.next()){C.index>j?(D=C,C=null):D=C.sibling;var be=f(y,C,V.value,x);if(be===null){C===null&&(C=D);break}t&&C&&be.alternate===null&&e(y,C),m=i(be,m,j),E===null?S=be:E.sibling=be,E=be,C=D}if(V.done)return r(y,C),ke&&pn(y,j),S;if(C===null){for(;!V.done;j++,V=g.next())V=d(y,V.value,x),V!==null&&(m=i(V,m,j),E===null?S=V:E.sibling=V,E=V);return ke&&pn(y,j),S}for(C=n(y,C);!V.done;j++,V=g.next())V=p(C,y,j,V.value,x),V!==null&&(t&&V.alternate!==null&&C.delete(V.key===null?j:V.key),m=i(V,m,j),E===null?S=V:E.sibling=V,E=V);return t&&C.forEach(function(z){return e(y,z)}),ke&&pn(y,j),S}function b(y,m,g,x){if(typeof g=="object"&&g!==null&&g.type===ns&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case mo:e:{for(var S=g.key,E=m;E!==null;){if(E.key===S){if(S=g.type,S===ns){if(E.tag===7){r(y,E.sibling),m=s(E,g.props.children),m.return=y,y=m;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Nr&&lf(S)===E.type){r(y,E.sibling),m=s(E,g.props),m.ref=Zs(y,E,g),m.return=y,y=m;break e}r(y,E);break}else e(y,E);E=E.sibling}g.type===ns?(m=Pn(g.props.children,y.mode,x,g.key),m.return=y,y=m):(x=Jo(g.type,g.key,g.props,null,y.mode,x),x.ref=Zs(y,m,g),x.return=y,y=x)}return o(y);case rs:e:{for(E=g.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(y,m.sibling),m=s(m,g.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else e(y,m);m=m.sibling}m=Wl(g,y.mode,x),m.return=y,y=m}return o(y);case Nr:return E=g._init,b(y,m,E(g._payload),x)}if(ni(g))return v(y,m,g,x);if(Ws(g))return w(y,m,g,x);To(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,g),m.return=y,y=m):(r(y,m),m=zl(g,y.mode,x),m.return=y,y=m),o(y)):r(y,m)}return b}var Ps=sy(!0),iy=sy(!1),ha=ln(null),fa=null,ds=null,fd=null;function pd(){fd=ds=fa=null}function md(t){var e=ha.current;_e(ha),t._currentValue=e}function Ju(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ks(t,e){fa=t,fd=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(fd!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(fa===null)throw Error(A(308));ds=t,fa.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var kn=null;function gd(t){kn===null?kn=[t]:kn.push(t)}function oy(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,gd(e)):(r.next=s.next,s.next=r),e.interleaved=r,br(t,n)}function br(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Or=!1;function yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ay(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,br(t,r)}return s=n.interleaved,s===null?(e.next=e,gd(n)):(e.next=s.next,s.next=e),n.interleaved=e,br(t,r)}function Wo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rd(t,r)}}function uf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pa(t,e,r,n){var s=t.updateQueue;Or=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,p=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=je({},d,f);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);In|=o,t.lanes=o,t.memoizedState=d}}function cf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var so={},ar=ln(so),Vi=ln(so),$i=ln(so);function Sn(t){if(t===so)throw Error(A(174));return t}function vd(t,e){switch(ve($i,e),ve(Vi,t),ve(ar,so),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Au(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Au(e,t)}_e(ar),ve(ar,e)}function As(){_e(ar),_e(Vi),_e($i)}function ly(t){Sn($i.current);var e=Sn(ar.current),r=Au(e,t.type);e!==r&&(ve(Vi,t),ve(ar,r))}function wd(t){Vi.current===t&&(_e(ar),_e(Vi))}var Ee=ln(0);function ma(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vl=[];function xd(){for(var t=0;t<Vl.length;t++)Vl[t]._workInProgressVersionPrimary=null;Vl.length=0}var Ho=Tr.ReactCurrentDispatcher,$l=Tr.ReactCurrentBatchConfig,On=0,Ce=null,Fe=null,He=null,ga=!1,pi=!1,Mi=0,s_=0;function Xe(){throw Error(A(321))}function _d(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!er(t[r],e[r]))return!1;return!0}function bd(t,e,r,n,s,i){if(On=i,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ho.current=t===null||t.memoizedState===null?l_:u_,t=r(n,s),pi){i=0;do{if(pi=!1,Mi=0,25<=i)throw Error(A(301));i+=1,He=Fe=null,e.updateQueue=null,Ho.current=c_,t=r(n,s)}while(pi)}if(Ho.current=ya,e=Fe!==null&&Fe.next!==null,On=0,He=Fe=Ce=null,ga=!1,e)throw Error(A(300));return t}function kd(){var t=Mi!==0;return Mi=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ce.memoizedState=He=t:He=He.next=t,He}function Mt(){if(Fe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=He===null?Ce.memoizedState:He.next;if(e!==null)He=e,Fe=t;else{if(t===null)throw Error(A(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},He===null?Ce.memoizedState=He=t:He=He.next=t}return He}function Ui(t,e){return typeof e=="function"?e(t):e}function Ml(t){var e=Mt(),r=e.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=t;var n=Fe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((On&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,Ce.lanes|=c,In|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,er(n,e.memoizedState)||(ft=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Ce.lanes|=i,In|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ul(t){var e=Mt(),r=e.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);er(i,e.memoizedState)||(ft=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function uy(){}function cy(t,e){var r=Ce,n=Mt(),s=e(),i=!er(n.memoizedState,s);if(i&&(n.memoizedState=s,ft=!0),n=n.queue,Sd(fy.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,Fi(9,hy.bind(null,r,n,s,e),void 0,null),Ke===null)throw Error(A(349));On&30||dy(r,e,s)}return s}function dy(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function hy(t,e,r,n){e.value=r,e.getSnapshot=n,py(e)&&my(t)}function fy(t,e,r){return r(function(){py(e)&&my(t)})}function py(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!er(t,r)}catch{return!0}}function my(t){var e=br(t,1);e!==null&&Xt(e,t,1,-1)}function df(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},e.queue=t,t=t.dispatch=a_.bind(null,Ce,t),[e.memoizedState,t]}function Fi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function gy(){return Mt().memoizedState}function Ko(t,e,r,n){var s=nr();Ce.flags|=t,s.memoizedState=Fi(1|e,r,void 0,n===void 0?null:n)}function Za(t,e,r,n){var s=Mt();n=n===void 0?null:n;var i=void 0;if(Fe!==null){var o=Fe.memoizedState;if(i=o.destroy,n!==null&&_d(n,o.deps)){s.memoizedState=Fi(e,r,i,n);return}}Ce.flags|=t,s.memoizedState=Fi(1|e,r,i,n)}function hf(t,e){return Ko(8390656,8,t,e)}function Sd(t,e){return Za(2048,8,t,e)}function yy(t,e){return Za(4,2,t,e)}function vy(t,e){return Za(4,4,t,e)}function wy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xy(t,e,r){return r=r!=null?r.concat([t]):null,Za(4,4,wy.bind(null,e,t),r)}function Ed(){}function _y(t,e){var r=Mt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&_d(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function by(t,e){var r=Mt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&_d(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ky(t,e,r){return On&21?(er(r,e)||(r=jg(),Ce.lanes|=r,In|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=r)}function i_(t,e){var r=he;he=r!==0&&4>r?r:4,t(!0);var n=$l.transition;$l.transition={};try{t(!1),e()}finally{he=r,$l.transition=n}}function Sy(){return Mt().memoizedState}function o_(t,e,r){var n=Jr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ey(t))Ty(e,r);else if(r=oy(t,e,r,n),r!==null){var s=at();Xt(r,t,n,s),Cy(r,e,n)}}function a_(t,e,r){var n=Jr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ey(t))Ty(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,er(a,o)){var l=e.interleaved;l===null?(s.next=s,gd(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=oy(t,e,s,n),r!==null&&(s=at(),Xt(r,t,n,s),Cy(r,e,n))}}function Ey(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function Ty(t,e){pi=ga=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Cy(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rd(t,r)}}var ya={readContext:$t,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},l_={readContext:$t,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:hf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ko(4194308,4,wy.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ko(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ko(4,2,t,e)},useMemo:function(t,e){var r=nr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=o_.bind(null,Ce,t),[n.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:df,useDebugValue:Ed,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=df(!1),e=t[0];return t=i_.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ce,s=nr();if(ke){if(r===void 0)throw Error(A(407));r=r()}else{if(r=e(),Ke===null)throw Error(A(349));On&30||dy(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,hf(fy.bind(null,n,i,t),[t]),n.flags|=2048,Fi(9,hy.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=nr(),e=Ke.identifierPrefix;if(ke){var r=mr,n=pr;r=(n&~(1<<32-Qt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Mi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=s_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},u_={readContext:$t,useCallback:_y,useContext:$t,useEffect:Sd,useImperativeHandle:xy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:by,useReducer:Ml,useRef:gy,useState:function(){return Ml(Ui)},useDebugValue:Ed,useDeferredValue:function(t){var e=Mt();return ky(e,Fe.memoizedState,t)},useTransition:function(){var t=Ml(Ui)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:uy,useSyncExternalStore:cy,useId:Sy,unstable_isNewReconciler:!1},c_={readContext:$t,useCallback:_y,useContext:$t,useEffect:Sd,useImperativeHandle:xy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:by,useReducer:Ul,useRef:gy,useState:function(){return Ul(Ui)},useDebugValue:Ed,useDeferredValue:function(t){var e=Mt();return Fe===null?e.memoizedState=t:ky(e,Fe.memoizedState,t)},useTransition:function(){var t=Ul(Ui)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:uy,useSyncExternalStore:cy,useId:Sy,unstable_isNewReconciler:!1};function Ht(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Yu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:je({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ja={isMounted:function(t){return(t=t._reactInternals)?$n(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=at(),s=Jr(t),i=yr(n,s);i.payload=e,r!=null&&(i.callback=r),e=Gr(t,i,s),e!==null&&(Xt(e,t,s,n),Wo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=at(),s=Jr(t),i=yr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Gr(t,i,s),e!==null&&(Xt(e,t,s,n),Wo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=at(),n=Jr(t),s=yr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Gr(t,s,n),e!==null&&(Xt(e,t,n,r),Wo(e,t,n))}};function ff(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Oi(r,n)||!Oi(s,i):!0}function jy(t,e,r){var n=!1,s=tn,i=e.contextType;return typeof i=="object"&&i!==null?i=$t(i):(s=mt(e)?Rn:nt.current,n=e.contextTypes,i=(n=n!=null)?Cs(t,s):tn),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ja,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ja.enqueueReplaceState(e,e.state,null)}function Qu(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},yd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$t(i):(i=mt(e)?Rn:nt.current,s.context=Cs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yu(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ja.enqueueReplaceState(s,s.state,null),pa(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Rs(t,e){try{var r="",n=e;do r+=$w(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var d_=typeof WeakMap=="function"?WeakMap:Map;function Py(t,e,r){r=yr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){wa||(wa=!0,uc=n),Xu(t,e)},r}function Ay(t,e,r){r=yr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Xu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xu(t,e),typeof n!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function mf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new d_;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=E_.bind(null,t,e,r),e.then(t,t))}function gf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yf(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=yr(-1,1),e.tag=2,Gr(r,e,1))),r.lanes|=1),t)}var h_=Tr.ReactCurrentOwner,ft=!1;function ot(t,e,r,n){e.child=t===null?iy(e,null,r,n):Ps(e,t.child,r,n)}function vf(t,e,r,n,s){r=r.render;var i=e.ref;return ks(e,s),n=bd(t,e,r,n,i,s),r=kd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kr(t,e,s)):(ke&&r&&cd(e),e.flags|=1,ot(t,e,n,s),e.child)}function wf(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Od(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Ry(t,e,i,n,s)):(t=Jo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Oi,r(o,n)&&t.ref===e.ref)return kr(t,e,s)}return e.flags|=1,t=Yr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Ry(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Oi(i,n)&&t.ref===e.ref)if(ft=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,kr(t,e,s)}return ec(t,e,r,n,s)}function Ny(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(fs,wt),wt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(fs,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ve(fs,wt),wt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ve(fs,wt),wt|=n;return ot(t,e,s,r),e.child}function Oy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ec(t,e,r,n,s){var i=mt(r)?Rn:nt.current;return i=Cs(e,i),ks(e,s),r=bd(t,e,r,n,i,s),n=kd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kr(t,e,s)):(ke&&n&&cd(e),e.flags|=1,ot(t,e,r,s),e.child)}function xf(t,e,r,n,s){if(mt(r)){var i=!0;ua(e)}else i=!1;if(ks(e,s),e.stateNode===null)qo(t,e),jy(e,r,n),Qu(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=mt(r)?Rn:nt.current,u=Cs(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&pf(e,o,n,u),Or=!1;var f=e.memoizedState;o.state=f,pa(e,n,o,s),l=e.memoizedState,a!==n||f!==l||pt.current||Or?(typeof c=="function"&&(Yu(e,r,c,n),l=e.memoizedState),(a=Or||ff(e,r,a,n,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,ay(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ht(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=mt(r)?Rn:nt.current,l=Cs(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&pf(e,o,n,l),Or=!1,f=e.memoizedState,o.state=f,pa(e,n,o,s);var v=e.memoizedState;a!==d||f!==v||pt.current||Or?(typeof p=="function"&&(Yu(e,r,p,n),v=e.memoizedState),(u=Or||ff(e,r,u,n,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return tc(t,e,r,n,i,s)}function tc(t,e,r,n,s,i){Oy(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&sf(e,r,!1),kr(t,e,i);n=e.stateNode,h_.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ps(e,t.child,null,i),e.child=Ps(e,null,a,i)):ot(t,e,a,i),e.memoizedState=n.state,s&&sf(e,r,!0),e.child}function Iy(t){var e=t.stateNode;e.pendingContext?nf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nf(t,e.context,!1),vd(t,e.containerInfo)}function _f(t,e,r,n,s){return js(),hd(s),e.flags|=256,ot(t,e,r,n),e.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function nc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dy(t,e,r){var n=e.pendingProps,s=Ee.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ve(Ee,s&1),t===null)return Zu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xa(o,n,0,null),t=Pn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=nc(r),e.memoizedState=rc,t):Td(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return f_(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Yr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Yr(a,i):(i=Pn(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?nc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=rc,n}return i=t.child,t=i.sibling,n=Yr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Td(t,e){return e=Xa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Co(t,e,r,n){return n!==null&&hd(n),Ps(e,t.child,null,r),t=Td(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function f_(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Fl(Error(A(422))),Co(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Xa({mode:"visible",children:n.children},s,0,null),i=Pn(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ps(e,t.child,null,o),e.child.memoizedState=nc(o),e.memoizedState=rc,i);if(!(e.mode&1))return Co(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(A(419)),n=Fl(i,n,void 0),Co(t,e,o,n)}if(a=(o&t.childLanes)!==0,ft||a){if(n=Ke,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,br(t,s),Xt(n,t,s,-1))}return Nd(),n=Fl(Error(A(421))),Co(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=T_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,kt=qr(s.nextSibling),St=e,ke=!0,Zt=null,t!==null&&(It[Dt++]=pr,It[Dt++]=mr,It[Dt++]=Nn,pr=t.id,mr=t.overflow,Nn=e),e=Td(e,n.children),e.flags|=4096,e)}function bf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ju(t.return,e,r)}function Bl(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ly(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ot(t,e,n.children,r),n=Ee.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bf(t,r,e);else if(t.tag===19)bf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ve(Ee,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ma(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Bl(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ma(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Bl(e,!0,r,null,i);break;case"together":Bl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),In|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,r=Yr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function p_(t,e,r){switch(e.tag){case 3:Iy(e),js();break;case 5:ly(e);break;case 1:mt(e.type)&&ua(e);break;case 4:vd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ve(ha,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ve(Ee,Ee.current&1),e.flags|=128,null):r&e.child.childLanes?Dy(t,e,r):(ve(Ee,Ee.current&1),t=kr(t,e,r),t!==null?t.sibling:null);ve(Ee,Ee.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ly(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Ee,Ee.current),n)break;return null;case 22:case 23:return e.lanes=0,Ny(t,e,r)}return kr(t,e,r)}var Vy,sc,$y,My;Vy=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sc=function(){};$y=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Sn(ar.current);var i=null;switch(r){case"input":s=Tu(t,s),n=Tu(t,n),i=[];break;case"select":s=je({},s,{value:void 0}),n=je({},n,{value:void 0}),i=[];break;case"textarea":s=Pu(t,s),n=Pu(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=aa)}Ru(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ti.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};My=function(t,e,r,n){r!==n&&(e.flags|=4)};function Js(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function m_(t,e,r){var n=e.pendingProps;switch(dd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return mt(e.type)&&la(),et(e),null;case 3:return n=e.stateNode,As(),_e(pt),_e(nt),xd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Eo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(hc(Zt),Zt=null))),sc(t,e),et(e),null;case 5:wd(e);var s=Sn($i.current);if(r=e.type,t!==null&&e.stateNode!=null)$y(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(A(166));return et(e),null}if(t=Sn(ar.current),Eo(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ir]=e,n[Li]=i,t=(e.mode&1)!==0,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(s=0;s<ii.length;s++)xe(ii[s],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":Ah(n,i),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},xe("invalid",n);break;case"textarea":Nh(n,i),xe("invalid",n)}Ru(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&So(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&So(n.textContent,a,t),s=["children",""+a]):Ti.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",n)}switch(r){case"input":go(n),Rh(n,i,!0);break;case"textarea":go(n),Oh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=aa)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fg(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ir]=e,t[Li]=n,Vy(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nu(r,n),r){case"dialog":xe("cancel",t),xe("close",t),s=n;break;case"iframe":case"object":case"embed":xe("load",t),s=n;break;case"video":case"audio":for(s=0;s<ii.length;s++)xe(ii[s],t);s=n;break;case"source":xe("error",t),s=n;break;case"img":case"image":case"link":xe("error",t),xe("load",t),s=n;break;case"details":xe("toggle",t),s=n;break;case"input":Ah(t,n),s=Tu(t,n),xe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=je({},n,{value:void 0}),xe("invalid",t);break;case"textarea":Nh(t,n),s=Pu(t,n),xe("invalid",t);break;default:s=n}Ru(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pg(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ci(t,l):typeof l=="number"&&Ci(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ti.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xe("scroll",t):l!=null&&Jc(t,i,l,o))}switch(r){case"input":go(t),Rh(t,n,!1);break;case"textarea":go(t),Oh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+en(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ws(t,!!n.multiple,i,!1):n.defaultValue!=null&&ws(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=aa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return et(e),null;case 6:if(t&&e.stateNode!=null)My(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(A(166));if(r=Sn($i.current),Sn(ar.current),Eo(e)){if(n=e.stateNode,r=e.memoizedProps,n[ir]=e,(i=n.nodeValue!==r)&&(t=St,t!==null))switch(t.tag){case 3:So(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&So(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ir]=e,e.stateNode=n}return et(e),null;case 13:if(_e(Ee),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&kt!==null&&e.mode&1&&!(e.flags&128))ny(),js(),e.flags|=98560,i=!1;else if(i=Eo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[ir]=e}else js(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),i=!1}else Zt!==null&&(hc(Zt),Zt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Be===0&&(Be=3):Nd())),e.updateQueue!==null&&(e.flags|=4),et(e),null);case 4:return As(),sc(t,e),t===null&&Ii(e.stateNode.containerInfo),et(e),null;case 10:return md(e.type._context),et(e),null;case 17:return mt(e.type)&&la(),et(e),null;case 19:if(_e(Ee),i=e.memoizedState,i===null)return et(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Js(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ma(t),o!==null){for(e.flags|=128,Js(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ve(Ee,Ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ne()>Ns&&(e.flags|=128,n=!0,Js(i,!1),e.lanes=4194304)}else{if(!n)if(t=ma(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Js(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return et(e),null}else 2*Ne()-i.renderingStartTime>Ns&&r!==1073741824&&(e.flags|=128,n=!0,Js(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ne(),e.sibling=null,r=Ee.current,ve(Ee,n?r&1|2:r&1),e):(et(e),null);case 22:case 23:return Rd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?wt&1073741824&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function g_(t,e){switch(dd(e),e.tag){case 1:return mt(e.type)&&la(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return As(),_e(pt),_e(nt),xd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wd(e),null;case 13:if(_e(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ee),null;case 4:return As(),null;case 10:return md(e.type._context),null;case 22:case 23:return Rd(),null;case 24:return null;default:return null}}var jo=!1,rt=!1,y_=typeof WeakSet=="function"?WeakSet:Set,M=null;function hs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ae(t,e,n)}else r.current=null}function ic(t,e,r){try{r()}catch(n){Ae(t,e,n)}}var kf=!1;function v_(t,e){if(Bu=sa,t=Wg(),ud(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===r&&++u===s&&(a=o),f===i&&++c===n&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(zu={focusedElem:t,selectionRange:r},sa=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,b=v.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ht(e.type,w),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(x){Ae(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return v=kf,kf=!1,v}function mi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ic(e,r,i)}s=s.next}while(s!==n)}}function Ya(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function oc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Uy(t){var e=t.alternate;e!==null&&(t.alternate=null,Uy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[Li],delete e[Ku],delete e[e_],delete e[t_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fy(t){return t.tag===5||t.tag===3||t.tag===4}function Sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ac(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=aa));else if(n!==4&&(t=t.child,t!==null))for(ac(t,e,r),t=t.sibling;t!==null;)ac(t,e,r),t=t.sibling}function lc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(lc(t,e,r),t=t.sibling;t!==null;)lc(t,e,r),t=t.sibling}var Ze=null,qt=!1;function Ar(t,e,r){for(r=r.child;r!==null;)By(t,e,r),r=r.sibling}function By(t,e,r){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(za,r)}catch{}switch(r.tag){case 5:rt||hs(r,e);case 6:var n=Ze,s=qt;Ze=null,Ar(t,e,r),Ze=n,qt=s,Ze!==null&&(qt?(t=Ze,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(qt?(t=Ze,r=r.stateNode,t.nodeType===8?Dl(t.parentNode,r):t.nodeType===1&&Dl(t,r),Ri(t)):Dl(Ze,r.stateNode));break;case 4:n=Ze,s=qt,Ze=r.stateNode.containerInfo,qt=!0,Ar(t,e,r),Ze=n,qt=s;break;case 0:case 11:case 14:case 15:if(!rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ic(r,e,o),s=s.next}while(s!==n)}Ar(t,e,r);break;case 1:if(!rt&&(hs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ae(r,e,a)}Ar(t,e,r);break;case 21:Ar(t,e,r);break;case 22:r.mode&1?(rt=(n=rt)||r.memoizedState!==null,Ar(t,e,r),rt=n):Ar(t,e,r);break;default:Ar(t,e,r)}}function Ef(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new y_),e.forEach(function(n){var s=C_.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function zt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,qt=!1;break e;case 3:Ze=a.stateNode.containerInfo,qt=!0;break e;case 4:Ze=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(Ze===null)throw Error(A(160));By(i,o,s),Ze=null,qt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ae(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zy(e,t),e=e.sibling}function zy(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zt(e,t),rr(t),n&4){try{mi(3,t,t.return),Ya(3,t)}catch(w){Ae(t,t.return,w)}try{mi(5,t,t.return)}catch(w){Ae(t,t.return,w)}}break;case 1:zt(e,t),rr(t),n&512&&r!==null&&hs(r,r.return);break;case 5:if(zt(e,t),rr(t),n&512&&r!==null&&hs(r,r.return),t.flags&32){var s=t.stateNode;try{Ci(s,"")}catch(w){Ae(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dg(s,i),Nu(a,o);var u=Nu(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?gg(s,d):c==="dangerouslySetInnerHTML"?pg(s,d):c==="children"?Ci(s,d):Jc(s,c,d,u)}switch(a){case"input":Cu(s,i);break;case"textarea":hg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ws(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ws(s,!!i.multiple,i.defaultValue,!0):ws(s,!!i.multiple,i.multiple?[]:"",!1))}s[Li]=i}catch(w){Ae(t,t.return,w)}}break;case 6:if(zt(e,t),rr(t),n&4){if(t.stateNode===null)throw Error(A(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Ae(t,t.return,w)}}break;case 3:if(zt(e,t),rr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ri(e.containerInfo)}catch(w){Ae(t,t.return,w)}break;case 4:zt(e,t),rr(t);break;case 13:zt(e,t),rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pd=Ne())),n&4&&Ef(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(rt=(u=rt)||c,zt(e,t),rt=u):zt(e,t),rr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(M=t,c=t.child;c!==null;){for(d=M=c;M!==null;){switch(f=M,p=f.child,f.tag){case 0:case 11:case 14:case 15:mi(4,f,f.return);break;case 1:hs(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Ae(n,r,w)}}break;case 5:hs(f,f.return);break;case 22:if(f.memoizedState!==null){Cf(d);continue}}p!==null?(p.return=f,M=p):Cf(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mg("display",o))}catch(w){Ae(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Ae(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zt(e,t),rr(t),n&4&&Ef(t);break;case 21:break;default:zt(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Fy(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ci(s,""),n.flags&=-33);var i=Sf(t);lc(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Sf(t);ac(t,a,o);break;default:throw Error(A(161))}}catch(l){Ae(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function w_(t,e,r){M=t,Wy(t)}function Wy(t,e,r){for(var n=(t.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||jo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||rt;a=jo;var u=rt;if(jo=o,(rt=l)&&!u)for(M=s;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?jf(s):l!==null?(l.return=o,M=l):jf(s);for(;i!==null;)M=i,Wy(i),i=i.sibling;M=s,jo=a,rt=u}Tf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):Tf(t)}}function Tf(t){for(;M!==null;){var e=M;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||Ya(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!rt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ht(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cf(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cf(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ri(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}rt||e.flags&512&&oc(e)}catch(f){Ae(e,e.return,f)}}if(e===t){M=null;break}if(r=e.sibling,r!==null){r.return=e.return,M=r;break}M=e.return}}function Cf(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var r=e.sibling;if(r!==null){r.return=e.return,M=r;break}M=e.return}}function jf(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ya(4,e)}catch(l){Ae(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Ae(e,s,l)}}var i=e.return;try{oc(e)}catch(l){Ae(e,i,l)}break;case 5:var o=e.return;try{oc(e)}catch(l){Ae(e,o,l)}}}catch(l){Ae(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var x_=Math.ceil,va=Tr.ReactCurrentDispatcher,Cd=Tr.ReactCurrentOwner,Vt=Tr.ReactCurrentBatchConfig,ae=0,Ke=null,$e=null,Ye=0,wt=0,fs=ln(0),Be=0,Bi=null,In=0,Qa=0,jd=0,gi=null,ht=null,Pd=0,Ns=1/0,dr=null,wa=!1,uc=null,Zr=null,Po=!1,Br=null,xa=0,yi=0,cc=null,Go=-1,Zo=0;function at(){return ae&6?Ne():Go!==-1?Go:Go=Ne()}function Jr(t){return t.mode&1?ae&2&&Ye!==0?Ye&-Ye:n_.transition!==null?(Zo===0&&(Zo=jg()),Zo):(t=he,t!==0||(t=window.event,t=t===void 0?16:Dg(t.type)),t):1}function Xt(t,e,r,n){if(50<yi)throw yi=0,cc=null,Error(A(185));to(t,r,n),(!(ae&2)||t!==Ke)&&(t===Ke&&(!(ae&2)&&(Qa|=r),Be===4&&$r(t,Ye)),gt(t,n),r===1&&ae===0&&!(e.mode&1)&&(Ns=Ne()+500,Ga&&un()))}function gt(t,e){var r=t.callbackNode;nx(t,e);var n=na(t,t===Ke?Ye:0);if(n===0)r!==null&&Lh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Lh(r),e===1)t.tag===0?r_(Pf.bind(null,t)):ey(Pf.bind(null,t)),Qx(function(){!(ae&6)&&un()}),r=null;else{switch(Pg(n)){case 1:r=td;break;case 4:r=Tg;break;case 16:r=ra;break;case 536870912:r=Cg;break;default:r=ra}r=Qy(r,Hy.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Hy(t,e){if(Go=-1,Zo=0,ae&6)throw Error(A(327));var r=t.callbackNode;if(Ss()&&t.callbackNode!==r)return null;var n=na(t,t===Ke?Ye:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=_a(t,n);else{e=n;var s=ae;ae|=2;var i=qy();(Ke!==t||Ye!==e)&&(dr=null,Ns=Ne()+500,jn(t,e));do try{k_();break}catch(a){Ky(t,a)}while(!0);pd(),va.current=i,ae=s,$e!==null?e=0:(Ke=null,Ye=0,e=Be)}if(e!==0){if(e===2&&(s=Vu(t),s!==0&&(n=s,e=dc(t,s))),e===1)throw r=Bi,jn(t,0),$r(t,n),gt(t,Ne()),r;if(e===6)$r(t,n);else{if(s=t.current.alternate,!(n&30)&&!__(s)&&(e=_a(t,n),e===2&&(i=Vu(t),i!==0&&(n=i,e=dc(t,i))),e===1))throw r=Bi,jn(t,0),$r(t,n),gt(t,Ne()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(A(345));case 2:mn(t,ht,dr);break;case 3:if($r(t,n),(n&130023424)===n&&(e=Pd+500-Ne(),10<e)){if(na(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){at(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hu(mn.bind(null,t,ht,dr),e);break}mn(t,ht,dr);break;case 4:if($r(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Qt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*x_(n/1960))-n,10<n){t.timeoutHandle=Hu(mn.bind(null,t,ht,dr),n);break}mn(t,ht,dr);break;case 5:mn(t,ht,dr);break;default:throw Error(A(329))}}}return gt(t,Ne()),t.callbackNode===r?Hy.bind(null,t):null}function dc(t,e){var r=gi;return t.current.memoizedState.isDehydrated&&(jn(t,e).flags|=256),t=_a(t,e),t!==2&&(e=ht,ht=r,e!==null&&hc(e)),t}function hc(t){ht===null?ht=t:ht.push.apply(ht,t)}function __(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~jd,e&=~Qa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Qt(e),n=1<<r;t[r]=-1,e&=~n}}function Pf(t){if(ae&6)throw Error(A(327));Ss();var e=na(t,0);if(!(e&1))return gt(t,Ne()),null;var r=_a(t,e);if(t.tag!==0&&r===2){var n=Vu(t);n!==0&&(e=n,r=dc(t,n))}if(r===1)throw r=Bi,jn(t,0),$r(t,e),gt(t,Ne()),r;if(r===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mn(t,ht,dr),gt(t,Ne()),null}function Ad(t,e){var r=ae;ae|=1;try{return t(e)}finally{ae=r,ae===0&&(Ns=Ne()+500,Ga&&un())}}function Dn(t){Br!==null&&Br.tag===0&&!(ae&6)&&Ss();var e=ae;ae|=1;var r=Vt.transition,n=he;try{if(Vt.transition=null,he=1,t)return t()}finally{he=n,Vt.transition=r,ae=e,!(ae&6)&&un()}}function Rd(){wt=fs.current,_e(fs)}function jn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Yx(r)),$e!==null)for(r=$e.return;r!==null;){var n=r;switch(dd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&la();break;case 3:As(),_e(pt),_e(nt),xd();break;case 5:wd(n);break;case 4:As();break;case 13:_e(Ee);break;case 19:_e(Ee);break;case 10:md(n.type._context);break;case 22:case 23:Rd()}r=r.return}if(Ke=t,$e=t=Yr(t.current,null),Ye=wt=e,Be=0,Bi=null,jd=Qa=In=0,ht=gi=null,kn!==null){for(e=0;e<kn.length;e++)if(r=kn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}kn=null}return t}function Ky(t,e){do{var r=$e;try{if(pd(),Ho.current=ya,ga){for(var n=Ce.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ga=!1}if(On=0,He=Fe=Ce=null,pi=!1,Mi=0,Cd.current=null,r===null||r.return===null){Be=1,Bi=e,$e=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=gf(o);if(p!==null){p.flags&=-257,yf(p,o,a,i,e),p.mode&1&&mf(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){mf(i,u,e),Nd();break e}l=Error(A(426))}}else if(ke&&a.mode&1){var b=gf(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yf(b,o,a,i,e),hd(Rs(l,a));break e}}i=l=Rs(l,a),Be!==4&&(Be=2),gi===null?gi=[i]:gi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Py(i,l,e);uf(i,y);break e;case 1:a=l;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zr===null||!Zr.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Ay(i,a,e);uf(i,x);break e}}i=i.return}while(i!==null)}Zy(r)}catch(S){e=S,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function qy(){var t=va.current;return va.current=ya,t===null?ya:t}function Nd(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(In&268435455)&&!(Qa&268435455)||$r(Ke,Ye)}function _a(t,e){var r=ae;ae|=2;var n=qy();(Ke!==t||Ye!==e)&&(dr=null,jn(t,e));do try{b_();break}catch(s){Ky(t,s)}while(!0);if(pd(),ae=r,va.current=n,$e!==null)throw Error(A(261));return Ke=null,Ye=0,Be}function b_(){for(;$e!==null;)Gy($e)}function k_(){for(;$e!==null&&!Gw();)Gy($e)}function Gy(t){var e=Yy(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?Zy(t):$e=e,Cd.current=null}function Zy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=g_(r,e),r!==null){r.flags&=32767,$e=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,$e=null;return}}else if(r=m_(r,e,wt),r!==null){$e=r;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Be===0&&(Be=5)}function mn(t,e,r){var n=he,s=Vt.transition;try{Vt.transition=null,he=1,S_(t,e,r,n)}finally{Vt.transition=s,he=n}return null}function S_(t,e,r,n){do Ss();while(Br!==null);if(ae&6)throw Error(A(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(sx(t,i),t===Ke&&($e=Ke=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Po||(Po=!0,Qy(ra,function(){return Ss(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Vt.transition,Vt.transition=null;var o=he;he=1;var a=ae;ae|=4,Cd.current=null,v_(t,r),zy(r,t),Wx(zu),sa=!!Bu,zu=Bu=null,t.current=r,w_(r),Zw(),ae=a,he=o,Vt.transition=i}else t.current=r;if(Po&&(Po=!1,Br=t,xa=s),i=t.pendingLanes,i===0&&(Zr=null),Qw(r.stateNode),gt(t,Ne()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wa)throw wa=!1,t=uc,uc=null,t;return xa&1&&t.tag!==0&&Ss(),i=t.pendingLanes,i&1?t===cc?yi++:(yi=0,cc=t):yi=0,un(),null}function Ss(){if(Br!==null){var t=Pg(xa),e=Vt.transition,r=he;try{if(Vt.transition=null,he=16>t?16:t,Br===null)var n=!1;else{if(t=Br,Br=null,xa=0,ae&6)throw Error(A(331));var s=ae;for(ae|=4,M=t.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:mi(8,c,i)}var d=c.child;if(d!==null)d.return=c,M=d;else for(;M!==null;){c=M;var f=c.sibling,p=c.return;if(Uy(c),c===u){M=null;break}if(f!==null){f.return=p,M=f;break}M=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mi(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,M=y;break e}M=i.return}}var m=t.current;for(M=m;M!==null;){o=M;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,M=g;else e:for(o=m;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ya(9,a)}}catch(S){Ae(a,a.return,S)}if(a===o){M=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,M=x;break e}M=a.return}}if(ae=s,un(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(za,t)}catch{}n=!0}return n}finally{he=r,Vt.transition=e}}return!1}function Af(t,e,r){e=Rs(r,e),e=Py(t,e,1),t=Gr(t,e,1),e=at(),t!==null&&(to(t,1,e),gt(t,e))}function Ae(t,e,r){if(t.tag===3)Af(t,t,r);else for(;e!==null;){if(e.tag===3){Af(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zr===null||!Zr.has(n))){t=Rs(r,t),t=Ay(e,t,1),e=Gr(e,t,1),t=at(),e!==null&&(to(e,1,t),gt(e,t));break}}e=e.return}}function E_(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=at(),t.pingedLanes|=t.suspendedLanes&r,Ke===t&&(Ye&r)===r&&(Be===4||Be===3&&(Ye&130023424)===Ye&&500>Ne()-Pd?jn(t,0):jd|=r),gt(t,e)}function Jy(t,e){e===0&&(t.mode&1?(e=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):e=1);var r=at();t=br(t,e),t!==null&&(to(t,e,r),gt(t,r))}function T_(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Jy(t,r)}function C_(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(e),Jy(t,r)}var Yy;Yy=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ft=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ft=!1,p_(t,e,r);ft=!!(t.flags&131072)}else ft=!1,ke&&e.flags&1048576&&ty(e,da,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qo(t,e),t=e.pendingProps;var s=Cs(e,nt.current);ks(e,r),s=bd(null,e,n,t,s,r);var i=kd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(n)?(i=!0,ua(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yd(e),s.updater=Ja,e.stateNode=s,s._reactInternals=e,Qu(e,n,t,r),e=tc(null,e,n,!0,i,r)):(e.tag=0,ke&&i&&cd(e),ot(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(qo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=P_(n),t=Ht(n,t),s){case 0:e=ec(null,e,n,t,r);break e;case 1:e=xf(null,e,n,t,r);break e;case 11:e=vf(null,e,n,t,r);break e;case 14:e=wf(null,e,n,Ht(n.type,t),r);break e}throw Error(A(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ht(n,s),ec(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ht(n,s),xf(t,e,n,s,r);case 3:e:{if(Iy(e),t===null)throw Error(A(387));n=e.pendingProps,i=e.memoizedState,s=i.element,ay(t,e),pa(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Rs(Error(A(423)),e),e=_f(t,e,n,r,s);break e}else if(n!==s){s=Rs(Error(A(424)),e),e=_f(t,e,n,r,s);break e}else for(kt=qr(e.stateNode.containerInfo.firstChild),St=e,ke=!0,Zt=null,r=iy(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(js(),n===s){e=kr(t,e,r);break e}ot(t,e,n,r)}e=e.child}return e;case 5:return ly(e),t===null&&Zu(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Wu(n,s)?o=null:i!==null&&Wu(n,i)&&(e.flags|=32),Oy(t,e),ot(t,e,o,r),e.child;case 6:return t===null&&Zu(e),null;case 13:return Dy(t,e,r);case 4:return vd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ps(e,null,n,r):ot(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ht(n,s),vf(t,e,n,s,r);case 7:return ot(t,e,e.pendingProps,r),e.child;case 8:return ot(t,e,e.pendingProps.children,r),e.child;case 12:return ot(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ve(ha,n._currentValue),n._currentValue=o,i!==null)if(er(i.value,o)){if(i.children===s.children&&!pt.current){e=kr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=yr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ju(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ju(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ot(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ks(e,r),s=$t(s),n=n(s),e.flags|=1,ot(t,e,n,r),e.child;case 14:return n=e.type,s=Ht(n,e.pendingProps),s=Ht(n.type,s),wf(t,e,n,s,r);case 15:return Ry(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ht(n,s),qo(t,e),e.tag=1,mt(n)?(t=!0,ua(e)):t=!1,ks(e,r),jy(e,n,s),Qu(e,n,s,r),tc(null,e,n,!0,t,r);case 19:return Ly(t,e,r);case 22:return Ny(t,e,r)}throw Error(A(156,e.tag))};function Qy(t,e){return Eg(t,e)}function j_(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,e,r,n){return new j_(t,e,r,n)}function Od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P_(t){if(typeof t=="function")return Od(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qc)return 11;if(t===Xc)return 14}return 2}function Yr(t,e){var r=t.alternate;return r===null?(r=Lt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Jo(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Od(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ns:return Pn(r.children,s,i,e);case Yc:o=8,s|=8;break;case bu:return t=Lt(12,r,e,s|2),t.elementType=bu,t.lanes=i,t;case ku:return t=Lt(13,r,e,s),t.elementType=ku,t.lanes=i,t;case Su:return t=Lt(19,r,e,s),t.elementType=Su,t.lanes=i,t;case lg:return Xa(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case og:o=10;break e;case ag:o=9;break e;case Qc:o=11;break e;case Xc:o=14;break e;case Nr:o=16,n=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Lt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Pn(t,e,r,n){return t=Lt(7,t,n,e),t.lanes=r,t}function Xa(t,e,r,n){return t=Lt(22,t,n,e),t.elementType=lg,t.lanes=r,t.stateNode={isHidden:!1},t}function zl(t,e,r){return t=Lt(6,t,null,e),t.lanes=r,t}function Wl(t,e,r){return e=Lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function A_(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Id(t,e,r,n,s,i,o,a,l){return t=new A_(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(i),t}function R_(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Xy(t){if(!t)return tn;t=t._reactInternals;e:{if($n(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var r=t.type;if(mt(r))return Xg(t,r,e)}return e}function ev(t,e,r,n,s,i,o,a,l){return t=Id(r,n,!0,t,s,i,o,a,l),t.context=Xy(null),r=t.current,n=at(),s=Jr(r),i=yr(n,s),i.callback=e??null,Gr(r,i,s),t.current.lanes=s,to(t,s,n),gt(t,n),t}function el(t,e,r,n){var s=e.current,i=at(),o=Jr(s);return r=Xy(r),e.context===null?e.context=r:e.pendingContext=r,e=yr(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gr(s,e,o),t!==null&&(Xt(t,s,o,i),Wo(t,s,o)),o}function ba(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Dd(t,e){Rf(t,e),(t=t.alternate)&&Rf(t,e)}function N_(){return null}var tv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ld(t){this._internalRoot=t}tl.prototype.render=Ld.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));el(t,e,null,null)};tl.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dn(function(){el(null,t,null,null)}),e[_r]=null}};function tl(t){this._internalRoot=t}tl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ng();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vr.length&&e!==0&&e<Vr[r].priority;r++);Vr.splice(r,0,t),r===0&&Ig(t)}};function Vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function O_(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ba(o);i.call(u)}}var o=ev(e,n,t,0,null,!1,!1,"",Nf);return t._reactRootContainer=o,t[_r]=o.current,Ii(t.nodeType===8?t.parentNode:t),Dn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ba(l);a.call(u)}}var l=Id(t,0,!1,null,null,!1,!1,"",Nf);return t._reactRootContainer=l,t[_r]=l.current,Ii(t.nodeType===8?t.parentNode:t),Dn(function(){el(e,l,r,n)}),l}function nl(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ba(o);a.call(l)}}el(e,o,t,s)}else o=O_(r,e,t,s,n);return ba(o)}Ag=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=si(e.pendingLanes);r!==0&&(rd(e,r|1),gt(e,Ne()),!(ae&6)&&(Ns=Ne()+500,un()))}break;case 13:Dn(function(){var n=br(t,1);if(n!==null){var s=at();Xt(n,t,1,s)}}),Dd(t,1)}};nd=function(t){if(t.tag===13){var e=br(t,134217728);if(e!==null){var r=at();Xt(e,t,134217728,r)}Dd(t,134217728)}};Rg=function(t){if(t.tag===13){var e=Jr(t),r=br(t,e);if(r!==null){var n=at();Xt(r,t,e,n)}Dd(t,e)}};Ng=function(){return he};Og=function(t,e){var r=he;try{return he=t,e()}finally{he=r}};Iu=function(t,e,r){switch(e){case"input":if(Cu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=qa(n);if(!s)throw Error(A(90));cg(n),Cu(n,s)}}}break;case"textarea":hg(t,r);break;case"select":e=r.value,e!=null&&ws(t,!!r.multiple,e,!1)}};wg=Ad;xg=Dn;var I_={usingClientEntryPoint:!1,Events:[no,as,qa,yg,vg,Ad]},Ys={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D_={bundleType:Ys.bundleType,version:Ys.version,rendererPackageName:Ys.rendererPackageName,rendererConfig:Ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kg(t),t===null?null:t.stateNode},findFiberByHostInstance:Ys.findFiberByHostInstance||N_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{za=Ao.inject(D_),or=Ao}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I_;jt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vd(e))throw Error(A(200));return R_(t,e,null,r)};jt.createRoot=function(t,e){if(!Vd(t))throw Error(A(299));var r=!1,n="",s=tv;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Id(t,1,!1,null,null,r,!1,n,s),t[_r]=e.current,Ii(t.nodeType===8?t.parentNode:t),new Ld(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=kg(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return Dn(t)};jt.hydrate=function(t,e,r){if(!rl(e))throw Error(A(200));return nl(null,t,e,!0,r)};jt.hydrateRoot=function(t,e,r){if(!Vd(t))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=tv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=ev(e,null,t,1,r??null,s,!1,i,o),t[_r]=e.current,Ii(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new tl(e)};jt.render=function(t,e,r){if(!rl(e))throw Error(A(200));return nl(null,t,e,!1,r)};jt.unmountComponentAtNode=function(t){if(!rl(t))throw Error(A(40));return t._reactRootContainer?(Dn(function(){nl(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};jt.unstable_batchedUpdates=Ad;jt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!rl(r))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return nl(t,e,r,!1,n)};jt.version="18.3.1-next-f1338f8080-20240426";function rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rv)}catch(t){console.error(t)}}rv(),rg.exports=jt;var L_=rg.exports,Of=L_;xu.createRoot=Of.createRoot,xu.hydrateRoot=Of.hydrateRoot;const V_={},If=t=>{let e;const r=new Set,n=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(v=>v(e,p))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(V_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,s,l);return l},$_=t=>t?If(t):If;var nv={exports:{}},sv={},iv={exports:{}},ov={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=P;function M_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var U_=typeof Object.is=="function"?Object.is:M_,F_=Os.useState,B_=Os.useEffect,z_=Os.useLayoutEffect,W_=Os.useDebugValue;function H_(t,e){var r=e(),n=F_({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return z_(function(){s.value=r,s.getSnapshot=e,Hl(s)&&i({inst:s})},[t,r,e]),B_(function(){return Hl(s)&&i({inst:s}),t(function(){Hl(s)&&i({inst:s})})},[t]),W_(r),r}function Hl(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!U_(t,r)}catch{return!0}}function K_(t,e){return e()}var q_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K_:H_;ov.useSyncExternalStore=Os.useSyncExternalStore!==void 0?Os.useSyncExternalStore:q_;iv.exports=ov;var G_=iv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=P,Z_=G_;function J_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Y_=typeof Object.is=="function"?Object.is:J_,Q_=Z_.useSyncExternalStore,X_=sl.useRef,eb=sl.useEffect,tb=sl.useMemo,rb=sl.useDebugValue;sv.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=X_(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=tb(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),s!==void 0&&o.hasValue){var v=o.value;if(s(v,p))return d=v}return d=p}if(v=d,Y_(c,p))return v;var w=n(p);return s!==void 0&&s(v,w)?(c=p,v):(c=p,d=w)}var u=!1,c,d,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,s]);var a=Q_(t,i[0],i[1]);return eb(function(){o.hasValue=!0,o.value=a},[a]),rb(a),a};nv.exports=sv;var nb=nv.exports;const sb=Wm(nb),av={},{useDebugValue:ib}=Je,{useSyncExternalStoreWithSelector:ob}=sb;let Df=!1;const ab=t=>t;function lb(t,e=ab,r){(av?"production":void 0)!=="production"&&r&&!Df&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Df=!0);const n=ob(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return ib(n),n}const Lf=t=>{(av?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?$_(t):t,r=(n,s)=>lb(e,n,s);return Object.assign(r,e),r},ub=t=>t?Lf(t):Lf,Vf={sex:"male",age:42,heightFeet:5,heightInches:11,weight:215,lifestyle:"1.2",exercise:"0.1",goal:"lose",deficit:25,diet:"carnivore",ratio:"75-25",email:"",firstName:"",lastName:"",medications:"Metformin 500mg twice daily, Lisinopril 10mg for blood pressure",conditions:["diabetes","guthealth","inflammation"],allergies:"Shellfish (anaphylaxis), tree nuts",avoidFoods:"Pork (causes bloating and GI distress), chicken thighs (inflammatory response), dairy except butter, seed oils, vegetable oils, peanuts, legumes",previousDiets:'Standard American diet for 20 years (caused prediabetes and chronic inflammation). Tried low-fat diet 2012-2015 (made energy worse). Did keto for 14 months (great results but fell off). Recently did "healthy whole grains" nonsense for 2 years (blood sugar went out of control, gained 40lbs, severe brain fog and joint pain).',whatWorked:"Keto worked great for 14 months - lost weight, had energy, mental clarity was excellent. Need to apply that same discipline with carnivore.",carnivoreExperience:"months",selectedProtocol:"carnivore",goals:["weightloss","mental","guthealth"],biggestChallenge:"Sticking to the diet long-term. I fall off and go back to old eating habits. Need sustainable approach that doesn't feel restrictive.",cookingSkill:"intermediate",budget:"moderate",familySituation:"family-with-kids",workTravel:"office",additionalNotes:"Serious about this time. Have young kids and want to be around to see them grow up. Already seeing family members go through health decline. Mostly want beef (ribeye, ground beef), some salmon and halibut. Open to organ meats (liver is fine). Cannot do pork or chicken. Want simple protocols, no complicated supplements. Have GI issues from years of sugar and processed foods - need gentle transition plan. Blood sugar readings have been 180-220 fasting. Doctor says pre-diabetic but I know I can reverse this with proper diet."},io=ub(t=>({form:Vf,macros:null,currentStep:1,units:"imperial",isPremium:!1,sessionToken:null,setFormField:(e,r)=>t(n=>({form:{...n.form,[e]:r}})),setMacros:e=>t({macros:e}),setCurrentStep:e=>t({currentStep:e}),setUnits:e=>t({units:e}),setIsPremium:e=>t({isPremium:e}),setSessionToken:e=>t({sessionToken:e}),setForm:e=>t(r=>({form:{...r.form,...e}})),resetForm:()=>t({form:Vf,currentStep:1,macros:null})}));function il(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function cb(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}const db=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class $d extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class hb extends $d{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $f extends $d{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mf extends $d{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fc||(fc={}));class fb{constructor(e,{headers:r={},customFetch:n,region:s=fc.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=db(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return cb(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let f={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let b=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(b=o.signal,c.addEventListener("abort",()=>o.abort())):b=o.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:b}).catch(S=>{throw new hb(S)}),m=y.headers.get("x-relay-error");if(m&&m==="true")throw new $f(y);if(!y.ok)throw new Mf(y);let g=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield y.json():g==="application/octet-stream"||g==="application/pdf"?x=yield y.blob():g==="text/event-stream"?x=y:g==="multipart/form-data"?x=yield y.formData():x=yield y.text(),{data:x,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Mf||a instanceof $f?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var pb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},mb=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,f;if(r.method!=="HEAD"){var p;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const w=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&b&&b.length>1&&(l=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new pb(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,d,f;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,w&&(a+=` (${w})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},gb=class extends mb{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Uf=new RegExp("[,()]");var Yn=class extends gb{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Uf.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Uf.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},yb=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Yn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new Yn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Yn({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Yn({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},vb=class lv{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yb(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new lv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",u=r);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new Yn({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class wb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xb="2.89.0",_b=`realtime-js/${xb}`,uv="1.0.0",bb="2.0.0",Ff=uv,pc=1e4,kb=1e3,Sb=100;var Ir;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ir||(Ir={}));var Ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ue||(Ue={}));var Gt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Gt||(Gt={}));var mc;(function(t){t.websocket="websocket"})(mc||(mc={}));var xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xn||(xn={}));class Eb{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(p),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,o.length),v.setUint8(w++,u.length),v.setUint8(w++,d.length),v.setUint8(w++,r),Array.from(l,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(d,y=>v.setUint8(w++,y.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class cv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ye||(ye={}));const Bf=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Tb(o,t,e,s),i),{}):{}},Tb=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?dv(i,o):gc(o)},dv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ab(e,r)}switch(t){case ye.bool:return Cb(e);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return jb(e);case ye.json:case ye.jsonb:return Pb(e);case ye.timestamp:return Rb(e);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return gc(e);default:return gc(e)}},gc=t=>t,Cb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},jb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Pb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Ab=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>dv(e,a))}return t},Rb=t=>typeof t=="string"?t.replace(" ","T"):t,hv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Kl{constructor(e,r,n={},s=pc){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zf||(zf={}));class vi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=vi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const f=c.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),v=c.filter(b=>p.indexOf(b.presence_ref)<0),w=d.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(p=>p.presence_ref),f=c.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Wf||(Wf={}));var wi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wi||(wi={}));var hr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hr||(hr={}));class ps{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kl(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new cv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new vi(this),this.broadcastEndpointURL=hv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[wi.PRESENCE]&&this.bindings[wi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(hr.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(hr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(hr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,y=[];for(let m=0;m<b;m++){const g=w[m],{filter:{event:x,schema:S,table:E,filter:C}}=g,j=p&&p[m];if(j&&j.event===x&&ps.isFilterValueEqual(j.schema,S)&&ps.isFilterValueEqual(j.table,E)&&ps.isFilterValueEqual(j.filter,C))y.push(Object.assign(Object.assign({},g),{id:j.id}));else{this.unsubscribe(),this.state=Ue.errored,e==null||e(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(hr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ue.errored,e==null||e(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ue.joined&&e===wi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Kl(this,Gt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kl(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Sb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Gt;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(w=p.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,b,y,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const x=p.id,S=(v=p.filter)===null||v===void 0?void 0:v.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(m=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:b,commit_timestamp:y,type:m,errors:g}=v;f=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ps.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gt.close,{},e)}_onError(e){this._on(Gt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Bf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Bf(e.columns,e.old_record)),r}}const ql=()=>{},Ro={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nb=[1e3,2e3,5e3,1e4],Ob=1e4,Ib=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Db{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pc,this.transport=null,this.heartbeatIntervalMs=Ro.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ql,this.ref=0,this.reconnectTimer=null,this.vsn=Ff,this.logger=ql,this.conn=null,this.sendBuffer=[],this.serializer=new Eb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${mc.websocket}`,this.httpEndpoint=hv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return xn.Connecting;case Ir.open:return xn.Open;case Ir.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ps(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(kb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ro.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ir.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ir.open||this.conn.readyState===Ir.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Ib],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:_b};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Gt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ro.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,d,f,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:pc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ro.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:ql,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Ff,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>Nb[v-1]||Ob,this.vsn){case uv:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(v,w)=>w(JSON.parse(v));break;case bb:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var zi=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Lb(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Vb(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function $b(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=Lb(t.baseUrl,n,s),l=await Vb(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&c?JSON.parse(c):c;if(!u.ok){const p=d?f:void 0,v=p==null?void 0:p.error;throw new zi((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function No(t){return t.join("")}var Mb=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:No(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${No(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${No(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${No(t.namespace)}`}),!0}catch(e){if(e instanceof zi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof zi&&r.status===409)return;throw r}}};function zn(t){return t.join("")}var Ub=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof zi&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof zi&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Fb=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=$b({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Mb(this.client,e),this.tableOps=new Ub(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ol=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Bb=class extends ol{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yc=class extends ol{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Md=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zb=()=>Response,vc=t=>{if(Array.isArray(t))return t.map(r=>vc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=vc(n)}),e},Wb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hb=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Wi(t){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(t)}function Kb(t,e){if(Wi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qb(t){var e=Kb(t,"string");return Wi(e)=="symbol"?e:e+""}function Gb(t,e,r){return(e=qb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hf(Object(r),!0).forEach(function(n){Gb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Gl=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Zb=async(t,e,r)=>{t instanceof await zb()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new Bb(Gl(n),s,i))}).catch(n=>{e(new yc(Gl(n),n))}):e(new yc(Gl(t),t))},Jb=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Wb(n)?(s.headers=J({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),J(J({},s),r))};async function oo(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,Jb(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Zb(l,a,n))})}async function Hi(t,e,r,n){return oo(t,"GET",e,r,n)}async function Kt(t,e,r,n,s){return oo(t,"POST",e,n,s,r)}async function wc(t,e,r,n,s){return oo(t,"PUT",e,n,s,r)}async function Yb(t,e,r,n){return oo(t,"HEAD",e,J(J({},r),{},{noResolveJson:!0}),n)}async function Ud(t,e,r,n,s){return oo(t,"DELETE",e,n,s,r)}var Qb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Se(e))return{data:null,error:e};throw e}}};let fv;fv=Symbol.toStringTag;var Xb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[fv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qb(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Se(e))return{data:null,error:e};throw e}}};const ek={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tk=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Md(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const o=J(J({},Kf),n);let a=J(J({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=J(J({},a),n.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),d=await(t=="PUT"?wc:Kt)(s.fetch,`${s.url}/object/${c}`,i,J({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=J({upsert:Kf.upsert},n),c=J(J({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await wc(s.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=J({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Kt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new ol("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Kt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await Kt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await Kt(n.fetch,`${n.url}/object/sign/${s}`,J({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await Kt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>J(J({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>Hi(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Xb(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:vc(await Hi(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Yb(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Se(n)&&n instanceof yc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await Ud(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=J(J(J({},ek),e),{},{prefix:t||""});return{data:await Kt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=J({},t);return{data:await Kt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const pv="2.89.0",mv={"X-Client-Info":`storage-js/${pv}`};var rk=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=J(J({},mv),e),this.fetch=Md(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Hi(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Hi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Kt(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await wc(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ud(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},nk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},mv),e),this.fetch=Md(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Hi(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ud(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!Hb(t))throw new ol("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Fb({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Fd={"X-Client-Info":`storage-js/${pv}`,"Content-Type":"application/json"};var gv=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Zl=class extends gv{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sk=class extends gv{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Bd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ik=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ok=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new Zl(qf(i),n,o))}).catch(()=>{const i=n+"";e(new Zl(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new Zl(s.statusText||`HTTP ${n} error`,n,i))}}else e(new sk(qf(t),t))},ak=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(ik(n)?(s.headers=J({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,J(J({},s),r)):s};async function lk(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,ak(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>ok(l,a,n))})}async function _t(t,e,r,n,s){return lk(t,"POST",e,n,s,r)}var uk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},Fd),e),this.fetch=Bd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await _t(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await _t(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await _t(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await _t(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}}},ck=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},Fd),e),this.fetch=Bd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await _t(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await _t(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await _t(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await _t(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await _t(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}},dk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},Fd),e),this.fetch=Bd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await _t(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await _t(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await _t(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await _t(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}},hk=class extends dk{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new fk(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},fk=class extends uk{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new pk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},pk=class extends ck{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,J(J({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},mk=class extends rk{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new tk(this.url,this.headers,t,this.fetch)}get vectors(){return new hk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nk(this.url+"/iceberg",this.headers,this.fetch)}};const yv="2.89.0",Qn=30*1e3,xc=3,Jl=xc*Qn,gk="http://localhost:9999",yk="supabase.auth.token",vk={"X-Client-Info":`gotrue-js/${yv}`},_c="X-Supabase-Api-Version",vv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xk=10*60*1e3;class Ki extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _k extends Ki{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bk(t){return W(t)&&t.name==="AuthApiError"}class _n extends Ki{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Cr extends Ki{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class vt extends Cr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kk(t){return W(t)&&t.name==="AuthSessionMissingError"}class Wn extends Cr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oo extends Cr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Io extends Cr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Sk(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gf extends Cr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ek extends Cr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bc extends Cr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Yl(t){return W(t)&&t.name==="AuthRetryableFetchError"}class Zf extends Cr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class kc extends Cr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jf=` 	
\r=`.split(""),Tk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Jf.length;e+=1)t[Jf[e].charCodeAt(0)]=-2;for(let e=0;e<ka.length;e+=1)t[ka[e].charCodeAt(0)]=e;return t})();function Yf(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ka[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ka[n]),e.queuedBits-=6}}function wv(t,e,r){const n=Tk[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Qf(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Pk(o,n,r)};for(let o=0;o<t.length;o+=1)wv(t.charCodeAt(o),s,i);return e.join("")}function Ck(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jk(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ck(n,e)}}function Pk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Es(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)wv(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Ak(t){const e=[];return jk(t,r=>e.push(r)),new Uint8Array(e)}function En(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Yf(s,r,n)),Yf(null,r,n),e.join("")}function Rk(t){return Math.round(Date.now()/1e3)+t}function Nk(){return Symbol("auth-callback")}const Ge=()=>typeof window<"u"&&typeof document<"u",dn={tested:!1,writable:!1},xv=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dn.tested)return dn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dn.tested=!0,dn.writable=!0}catch{dn.tested=!0,dn.writable=!1}return dn.writable};function Ok(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const _v=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ik=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},hn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qe=async(t,e)=>{await t.removeItem(e)};class al{constructor(){this.promise=new al.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}al.promiseConstructor=Promise;function Ql(t){const e=t.split(".");if(e.length!==3)throw new kc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!wk.test(e[n]))throw new kc("JWT not in base64url format");return{header:JSON.parse(Qf(e[0])),payload:JSON.parse(Qf(e[1])),signature:Es(e[2]),raw:{header:e[0],payload:e[1]}}}async function Dk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Lk(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Vk(t){return("0"+t.toString(16)).substr(-2)}function $k(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Vk).join("")}async function Mk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Uk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Mk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hn(t,e,r=!1){const n=$k();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xn(t,`${e}-code-verifier`,s);const i=await Uk(n);return[i,n===i?"plain":"s256"]}const Fk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bk(t){const e=t.headers.get(_c);if(!e||!e.match(Fk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Wk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kn(t){if(!Hk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kk(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Xf(t){return JSON.parse(JSON.stringify(t))}const gn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qk=[502,503,504];async function ep(t){var e;if(!Ik(t))throw new bc(gn(t),0);if(qk.includes(t.status))throw new bc(gn(t),t.status);let r;try{r=await t.json()}catch(i){throw new _n(gn(i),i)}let n;const s=Bk(t);if(s&&s.getTime()>=vv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zf(gn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new vt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Zf(gn(r),t.status,r.weak_password.reasons);throw new _k(gn(r),t.status||500,n)}const Gk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Z(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[_c]||(i[_c]=vv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Zk(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Zk(t,e,r,n,s,i){const o=Gk(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new bc(gn(l),0)}if(a.ok||await ep(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ep(l)}}function Wt(t){var e;let r=null;Qk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Rk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function tp(t){const e=Wt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jk(t){return{data:t,error:null}}function Yk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=il(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function rp(t){return t}function Qk(t){return t.access_token&&t.refresh_token&&t.expires_in}const eu=["global","local","others"];class Xk{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=_v(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=eu[0]){if(eu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eu.join(", ")}`);try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=il(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rp});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Kn(e);try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Kn(e);try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Mr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Kn(e);try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Kn(e.userId);try{const{data:r,error:n}=await Z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Kn(e.userId),Kn(e.id);try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rp});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(W(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}}function np(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const qn={debug:!!(globalThis&&xv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class eS extends bv{}async function tS(t,e,r){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new eS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(qn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nS(t){return parseInt(t,16)}function sS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function iS(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=kv(t.address),v=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${p}

${w}`;let y=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}y+=m}return`${b}
${y}`}class Le extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Sa extends Le{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function oS({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Sv(o)){if(i.rp.id!==o)return new Le({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function aS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Sv(n)){if(r.rpId!==n)return new Le({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class lS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const uS=new lS;function cS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=il(t,["challenge","user","excludeCredentials"]),i=Es(e).buffer,o=Object.assign(Object.assign({},r),{id:Es(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Es(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function dS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=il(t,["challenge","allowCredentials"]),s=Es(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Es(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function hS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:En(new Uint8Array(t.response.attestationObject)),clientDataJSON:En(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:En(new Uint8Array(s.authenticatorData)),clientDataJSON:En(new Uint8Array(s.clientDataJSON)),signature:En(new Uint8Array(s.signature)),userHandle:s.userHandle?En(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function sp(){var t,e;return!!(Ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function pS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:oS({error:e,options:t})}}}async function mS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:aS({error:e,options:t})}}}const gS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ea(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Ea(a,o):n[i]=Ea(o)}else n[i]=o}return n}function vS(t,e){return Ea(gS,t,e||{})}function wS(t,e){return Ea(yS,t,e||{})}class xS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??uS.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=vS(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await pS({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=wS(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await mS(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new _n("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ki("rpId is required for WebAuthn authentication")};try{if(!sp())return{data:null,error:new _n("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new _n("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ki("rpId is required for WebAuthn registration")};try{if(!sp())return{data:null,error:new _n("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new _n("Unexpected error in register",o)}}}}rS();const _S={url:gk,storageKey:yk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ip(t,e,r){return await r()}const Gn={};class qi{get jwks(){var e,r;return(r=(e=Gn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Gn[this.storageKey]=Object.assign(Object.assign({},Gn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Gn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gn[this.storageKey]=Object.assign(Object.assign({},Gn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},_S),e);if(this.storageKey=i.storageKey,this.instanceID=(r=qi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ge()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Xk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=_v(i.fetch),this.lock=i.lock||ip,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Ge()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=tS:this.lock=ip,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:xv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=np(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=np(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ge()&&(r=Ok(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ge()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Sk(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?this._returnResult({error:r}):this._returnResult({error:new _n("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Wt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:d,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Hn(this.storage,this.storageKey)),i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:Wt})}else if("phone"in e){const{phone:c,password:d,options:f}=e;i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Wt})}else throw new Oo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await qe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await qe(this.storage,`${this.storageKey}-code-verifier`),W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tp})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tp})}else throw new Oo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Wn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,d,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:w,wallet:b,statement:y,options:m}=e;let g;if(Ge())if(typeof b=="object")g=b;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")g=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=b}const x=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await g.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=kv(S[0]);let C=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const D=await g.request({method:"eth_chainId"});C=nS(D)}const j={domain:x.host,address:E,statement:y,uri:x.href,version:"1",chainId:C,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=iS(j),v=await g.request({method:"personal_sign",params:[sS(p),E]})}try{const{data:w,error:b}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Wt});if(b)throw b;if(!w||!w.session||!w.user){const y=new Wn;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(W(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,d,f,p;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:b,wallet:y,statement:m,options:g}=e;let x;if(Ge())if(typeof y=="object")x=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const S=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:b,error:y}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:En(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Wt});if(y)throw y;if(!b||!b.session||!b.user){const m=new Wn;return this._returnResult({data:{user:null,session:null},error:m})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(W(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await hn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Ek;const{data:i,error:o}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Wt});if(await qe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Wn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await qe(this.storage,`${this.storageKey}-code-verifier`),W(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Wt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Wn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Hn(this.storage,this.storageKey));const{error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Oo("You must provide either an email or phone number.")}catch(a){if(await qe(this.storage,`${this.storageKey}-code-verifier`),W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Wt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Hn(this.storage,this.storageKey));const u=await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Jk});return!((i=u.data)===null||i===void 0)&&i.url&&Ge()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await qe(this.storage,`${this.storageKey}-code-verifier`),W(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new vt;const{error:s}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(W(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Oo("You must provide either an email or phone number and a type")}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Jl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await hn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Xl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Kk(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Mr})})}catch(r){if(W(r))return kk(r)&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new vt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Hn(this.storage,this.storageKey));const{data:u,error:c}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Mr});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await qe(this.storage,`${this.storageKey}-code-verifier`),W(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ql(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(W(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new vt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ge())throw new Io("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Io(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Io("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gf("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Io("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const p=f-c;p*1e3<=Qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=f-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(W(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await hn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(bk(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Nk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Hn(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await qe(this.storage,`${this.storageKey}-code-verifier`),W(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ge()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(W(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Wt}),{data:f,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Wn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await qe(this.storage,`${this.storageKey}-code-verifier`),W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Lk(async s=>(s>0&&await Dk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Yl(i)&&Date.now()+o-n<Qn})}catch(n){if(this._debug(r,"error",n),W(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ge()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await hn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await hn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Xn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Xl()}else if(s&&!s.user&&!s.user){const o=await hn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await qe(this.storage,this.storageKey+"-user"),await Xn(this.storage,this.storageKey,s)):s.user=Xl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Jl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Yl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new al;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),W(i)){const o={data:null,error:i};return Yl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Xf(s);await Xn(this.storage,this.storageKey,i)}else{const s=Xf(r);await Xn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qe(this.storage,this.storageKey),await qe(this.storage,this.storageKey+"-code-verifier"),await qe(this.storage,this.storageKey+"-user"),this.userStorage&&await qe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qn}ms, refresh threshold is ${xc} ticks`),s<=xc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hS(e.webauthn.credential_response):fS(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:cS(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:dS(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ql(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Z(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new vt})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new vt});const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ge()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new vt});const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ge()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new vt})})}catch(e){if(W(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vt})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+xk>s)return n;const{data:i,error:o}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Ql(n);r!=null&&r.allowExpired||zk(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=Wk(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Ak(`${a}.${l}`)))throw new kc("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}}qi.nextInstanceID={};const bS=qi,kS="2.89.0";let oi="";typeof Deno<"u"?oi="deno":typeof document<"u"?oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oi="react-native":oi="node";const SS={"X-Client-Info":`supabase-js-${oi}/${kS}`},ES={headers:SS},TS={schema:"public"},CS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jS={};function Gi(t){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(t)}function PS(t,e){if(Gi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AS(t){var e=PS(t,"string");return Gi(e)=="symbol"?e:e+""}function RS(t,e,r){return(e=AS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function op(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?op(Object(r),!0).forEach(function(n){RS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):op(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const NS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OS=()=>Headers,IS=(t,e,r)=>{const n=NS(r),s=OS();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Pe(Pe({},o),{},{headers:u}))}};function DS(t){return t.endsWith("/")?t:t+"/"}function LS(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Pe(Pe({},l),s),auth:Pe(Pe({},u),i),realtime:Pe(Pe({},c),o),storage:{},global:Pe(Pe(Pe({},d),a),{},{headers:Pe(Pe({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function VS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $S=class extends bS{constructor(t){super(t)}},MS=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=VS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:TS,realtime:jS,auth:Pe(Pe({},CS),{},{storageKey:o}),global:ES},l=LS(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=IS(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Pe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new vb(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new mk(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new fb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $S({url:this.authUrl.href,headers:Pe(Pe({},f),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Db(this.realtimeUrl.href,Pe(Pe({},t),{},{params:Pe(Pe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const US=(t,e,r)=>new MS(t,e,r);function FS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}FS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BS="https://kwtdpvnjewtahuxjyltn.supabase.co",zS="sb_publishable_bQlgBZ7Otay8D9AErt8daA_2lQI36jk",Ta=US(BS,zS),tu="cw_session",ru="cw_session";function WS(t=32){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";const n=new Uint8Array(t);crypto.getRandomValues(n);for(let s=0;s<t;s++)r+=e[n[s]%e.length];return r}function ap(t,e,r){const n=new Date;n.setTime(n.getTime()+r*60*60*1e3),document.cookie=t+"="+e+";expires="+n.toUTCString()+";path=/;SameSite=Strict"}function HS(t){const e=t+"=",r=document.cookie.split(";");for(const n of r){const s=n.trim();if(s.startsWith(e))return s.substring(e.length)}return null}async function KS(){const t=HS(tu)||localStorage.getItem(ru);if(t){try{const{data:r}=await Ta.from("calculator2_sessions").select("*").eq("session_token",t).gte("last_active_at",new Date(Date.now()-1728e5).toISOString()).single();if(r)return r}catch{console.warn("Session table not available, using local storage only")}return{session_token:t}}const e=WS(32);try{const{data:r}=await Ta.from("calculator2_sessions").insert({session_token:e,last_active_at:new Date().toISOString()}).select().single();if(r)return ap(tu,e,48),localStorage.setItem(ru,e),r}catch{console.warn("Calculator2 session table not created yet. Using local storage only."),console.warn("To enable session persistence, run: node apply-migration.js")}return ap(tu,e,48),localStorage.setItem(ru,e),{session_token:e}}async function qS(t,e){try{await Ta.from("calculator2_sessions").update({last_active_at:new Date().toISOString(),...e&&{form_state:e}}).eq("session_token",t)}catch{}}function GS(){return window.__CLOUDFLARE_CF_COUNTRY||"US"}function ZS(t){const e=["US","LR","MM"],r=t;return e.includes(r)?"imperial":"metric"}var ao=t=>t.type==="checkbox",Tn=t=>t instanceof Date,dt=t=>t==null;const Ev=t=>typeof t=="object";var Me=t=>!dt(t)&&!Array.isArray(t)&&Ev(t)&&!Tn(t),JS=t=>Me(t)&&t.target?ao(t.target)?t.target.checked:t.target.value:t,YS=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,QS=(t,e)=>t.has(YS(e)),XS=t=>{const e=t.constructor&&t.constructor.prototype;return Me(e)&&e.hasOwnProperty("isPrototypeOf")},zd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function We(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(zd&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Me(t)&&XS(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=We(t[s]));return n}var ll=t=>/^\w*$/.test(t),Re=t=>t===void 0,Wd=t=>Array.isArray(t)?t.filter(Boolean):[],Hd=t=>Wd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),U=(t,e,r)=>{if(!e||!Me(t))return r;const n=(ll(e)?[e]:Hd(e)).reduce((s,i)=>dt(s)?s:s[i],t);return Re(n)||n===t?Re(t[e])?r:t[e]:n},sr=t=>typeof t=="boolean",Jt=t=>typeof t=="function",me=(t,e,r)=>{let n=-1;const s=ll(e)?[e]:Hd(e),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const u=t[a];l=Me(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const lp={BLUR:"blur",FOCUS_OUT:"focusout"},Yt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eE=Je.createContext(null);eE.displayName="HookFormContext";var tE=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Yt.all&&(e._proxyFormState[o]=!n||Yt.all),t[o]}});return s};const rE=typeof window<"u"?Je.useLayoutEffect:Je.useEffect;var bt=t=>typeof t=="string",nE=(t,e,r,n,s)=>bt(t)?(n&&e.watch.add(t),U(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),U(r,i))):(n&&(e.watchAll=!0),r),Sc=t=>dt(t)||!Ev(t);function Ur(t,e,r=new WeakSet){if(Sc(t)||Sc(e))return Object.is(t,e);if(Tn(t)&&Tn(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Tn(o)&&Tn(a)||Me(o)&&Me(a)||Array.isArray(o)&&Array.isArray(a)?!Ur(o,a,r):!Object.is(o,a))return!1}}return!0}var Tv=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},xi=t=>Array.isArray(t)?t:[t],up=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function Cv(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],i=e[n];if(s&&Me(s)&&i){const o=Cv(s,i);Me(o)&&(r[n]=o)}else t[n]&&(r[n]=i)}return r}var st=t=>Me(t)&&!Object.keys(t).length,Kd=t=>t.type==="file",Ca=t=>{if(!zd)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},jv=t=>t.type==="select-multiple",qd=t=>t.type==="radio",sE=t=>qd(t)||ao(t),nu=t=>Ca(t)&&t.isConnected;function iE(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Re(t)?n++:t[e[n++]];return t}function oE(t){for(const e in t)if(t.hasOwnProperty(e)&&!Re(t[e]))return!1;return!0}function Ie(t,e){const r=Array.isArray(e)?e:ll(e)?[e]:Hd(e),n=r.length===1?t:iE(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Me(n)&&st(n)||Array.isArray(n)&&oE(n))&&Ie(t,r.slice(0,-1)),t}var aE=t=>{for(const e in t)if(Jt(t[e]))return!0;return!1};function Pv(t){return Array.isArray(t)||Me(t)&&!aE(t)}function Ec(t,e={}){for(const r in t){const n=t[r];Pv(n)?(e[r]=Array.isArray(n)?[]:{},Ec(n,e[r])):Re(n)||(e[r]=!0)}return e}function es(t,e,r){r||(r=Ec(e));for(const n in t){const s=t[n];if(Pv(s))Re(e)||Sc(r[n])?r[n]=Ec(s,Array.isArray(s)?[]:{}):es(s,dt(e)?{}:e[n],r[n]);else{const i=e[n];r[n]=!Ur(s,i)}}return r}const cp={value:!1,isValid:!1},dp={value:!0,isValid:!0};var Av=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Re(t[0].attributes.value)?Re(t[0].value)||t[0].value===""?dp:{value:t[0].value,isValid:!0}:dp:cp}return cp},Rv=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Re(t)?t:e?t===""?NaN:t&&+t:r&&bt(t)?new Date(t):n?n(t):t;const hp={isValid:!1,value:null};var Nv=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,hp):hp;function fp(t){const e=t.ref;return Kd(e)?e.files:qd(e)?Nv(t.refs).value:jv(e)?[...e.selectedOptions].map(({value:r})=>r):ao(e)?Av(t.refs).value:Rv(Re(e.value)?t.ref.value:e.value,t)}var lE=(t,e,r,n)=>{const s={};for(const i of t){const o=U(e,i);o&&me(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},ja=t=>t instanceof RegExp,Qs=t=>Re(t)?t:ja(t)?t.source:Me(t)?ja(t.value)?t.value.source:t.value:t,pp=t=>({isOnSubmit:!t||t===Yt.onSubmit,isOnBlur:t===Yt.onBlur,isOnChange:t===Yt.onChange,isOnAll:t===Yt.all,isOnTouch:t===Yt.onTouched});const mp="AsyncFunction";var uE=t=>!!t&&!!t.validate&&!!(Jt(t.validate)&&t.validate.constructor.name===mp||Me(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===mp)),cE=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),gp=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const _i=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=U(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(_i(a,e))break}else if(Me(a)&&_i(a,e))break}}};function yp(t,e,r){const n=U(t,r);if(n||ll(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=U(e,i),a=U(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:r}}var dE=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return st(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||Yt.all))},hE=(t,e,r)=>!t||!e||t===e||xi(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),fE=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,pE=(t,e)=>!Wd(U(t,e)).length&&Ie(t,e),mE=(t,e,r)=>{const n=xi(U(t,r));return me(n,"root",e[r]),me(t,r,n),t};function vp(t,e,r="validate"){if(bt(t)||Array.isArray(t)&&t.every(bt)||sr(t)&&!t)return{type:r,message:bt(t)?t:"",ref:e}}var Zn=t=>Me(t)&&!ja(t)?t:{value:t,message:""},wp=async(t,e,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:c,min:d,max:f,pattern:p,validate:v,name:w,valueAsNumber:b,mount:y}=t._f,m=U(r,w);if(!y||e.has(w))return{};const g=a?a[0]:o,x=z=>{s&&g.reportValidity&&(g.setCustomValidity(sr(z)?"":z||""),g.reportValidity())},S={},E=qd(o),C=ao(o),j=E||C,D=(b||Kd(o))&&Re(o.value)&&Re(m)||Ca(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,V=Tv.bind(null,w,n,S),be=(z,q,re,pe=cr.maxLength,ie=cr.minLength)=>{const fe=z?q:re;S[w]={type:z?pe:ie,message:fe,ref:o,...V(z?pe:ie,fe)}};if(i?!Array.isArray(m)||!m.length:l&&(!j&&(D||dt(m))||sr(m)&&!m||C&&!Av(a).isValid||E&&!Nv(a).isValid)){const{value:z,message:q}=bt(l)?{value:!!l,message:l}:Zn(l);if(z&&(S[w]={type:cr.required,message:q,ref:g,...V(cr.required,q)},!n))return x(q),S}if(!D&&(!dt(d)||!dt(f))){let z,q;const re=Zn(f),pe=Zn(d);if(!dt(m)&&!isNaN(m)){const ie=o.valueAsNumber||m&&+m;dt(re.value)||(z=ie>re.value),dt(pe.value)||(q=ie<pe.value)}else{const ie=o.valueAsDate||new Date(m),fe=Y=>new Date(new Date().toDateString()+" "+Y),O=o.type=="time",H=o.type=="week";bt(re.value)&&m&&(z=O?fe(m)>fe(re.value):H?m>re.value:ie>new Date(re.value)),bt(pe.value)&&m&&(q=O?fe(m)<fe(pe.value):H?m<pe.value:ie<new Date(pe.value))}if((z||q)&&(be(!!z,re.message,pe.message,cr.max,cr.min),!n))return x(S[w].message),S}if((u||c)&&!D&&(bt(m)||i&&Array.isArray(m))){const z=Zn(u),q=Zn(c),re=!dt(z.value)&&m.length>+z.value,pe=!dt(q.value)&&m.length<+q.value;if((re||pe)&&(be(re,z.message,q.message),!n))return x(S[w].message),S}if(p&&!D&&bt(m)){const{value:z,message:q}=Zn(p);if(ja(z)&&!m.match(z)&&(S[w]={type:cr.pattern,message:q,ref:o,...V(cr.pattern,q)},!n))return x(q),S}if(v){if(Jt(v)){const z=await v(m,r),q=vp(z,g);if(q&&(S[w]={...q,...V(cr.validate,q.message)},!n))return x(q.message),S}else if(Me(v)){let z={};for(const q in v){if(!st(z)&&!n)break;const re=vp(await v[q](m,r),g,q);re&&(z={...re,...V(q,re.message)},x(re.message),n&&(S[w]=z))}if(!st(z)&&(S[w]={ref:g,...z},!n))return S}}return x(!0),S};const gE={mode:Yt.onSubmit,reValidateMode:Yt.onChange,shouldFocusError:!0};function yE(t={}){let e={...gE,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Jt(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Me(e.defaultValues)||Me(e.values)?We(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:We(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...c};let f={...d};const p={array:up(),state:up()},v=e.criteriaMode===Yt.all,w=_=>k=>{clearTimeout(u),u=setTimeout(_,k)},b=async _=>{if(!o.keepIsValid&&!e.disabled&&(d.isValid||f.isValid||_)){let k;e.resolver?(k=st((await j()).errors),y()):k=await V(n,!0),k!==r.isValid&&p.state.next({isValid:k})}},y=(_,k)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((_||Array.from(a.mount)).forEach(T=>{T&&(k?me(r.validatingFields,T,k):Ie(r.validatingFields,T))}),p.state.next({validatingFields:r.validatingFields,isValidating:!st(r.validatingFields)}))},m=(_,k=[],T,$,I=!0,N=!0)=>{if($&&T&&!e.disabled){if(o.action=!0,N&&Array.isArray(U(n,_))){const K=T(U(n,_),$.argA,$.argB);I&&me(n,_,K)}if(N&&Array.isArray(U(r.errors,_))){const K=T(U(r.errors,_),$.argA,$.argB);I&&me(r.errors,_,K),pE(r.errors,_)}if((d.touchedFields||f.touchedFields)&&N&&Array.isArray(U(r.touchedFields,_))){const K=T(U(r.touchedFields,_),$.argA,$.argB);I&&me(r.touchedFields,_,K)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=es(s,i)),p.state.next({name:_,isDirty:z(_,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else me(i,_,k)},g=(_,k)=>{me(r.errors,_,k),p.state.next({errors:r.errors})},x=_=>{r.errors=_,p.state.next({errors:r.errors,isValid:!1})},S=(_,k,T,$)=>{const I=U(n,_);if(I){const N=U(i,_,Re(T)?U(s,_):T);Re(N)||$&&$.defaultChecked||k?me(i,_,k?N:fp(I._f)):pe(_,N),o.mount&&!o.action&&b()}},E=(_,k,T,$,I)=>{let N=!1,K=!1;const de={name:_};if(!e.disabled){if(!T||$){(d.isDirty||f.isDirty)&&(K=r.isDirty,r.isDirty=de.isDirty=z(),N=K!==de.isDirty);const ge=Ur(U(s,_),k);K=!!U(r.dirtyFields,_),ge?Ie(r.dirtyFields,_):me(r.dirtyFields,_,!0),de.dirtyFields=r.dirtyFields,N=N||(d.dirtyFields||f.dirtyFields)&&K!==!ge}if(T){const ge=U(r.touchedFields,_);ge||(me(r.touchedFields,_,T),de.touchedFields=r.touchedFields,N=N||(d.touchedFields||f.touchedFields)&&ge!==T)}N&&I&&p.state.next(de)}return N?de:{}},C=(_,k,T,$)=>{const I=U(r.errors,_),N=(d.isValid||f.isValid)&&sr(k)&&r.isValid!==k;if(e.delayError&&T?(l=w(()=>g(_,T)),l(e.delayError)):(clearTimeout(u),l=null,T?me(r.errors,_,T):Ie(r.errors,_)),(T?!Ur(I,T):I)||!st($)||N){const K={...$,...N&&sr(k)?{isValid:k}:{},errors:r.errors,name:_};r={...r,...K},p.state.next(K)}},j=async _=>(y(_,!0),await e.resolver(i,e.context,lE(_||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),D=async _=>{const{errors:k}=await j(_);if(y(_),_)for(const T of _){const $=U(k,T);$?me(r.errors,T,$):Ie(r.errors,T)}else r.errors=k;return k},V=async(_,k,T={valid:!0})=>{for(const $ in _){const I=_[$];if(I){const{_f:N,...K}=I;if(N){const de=a.array.has(N.name),ge=I._f&&uE(I._f);ge&&d.validatingFields&&y([N.name],!0);const Rt=await wp(I,a.disabled,i,v,e.shouldUseNativeValidation&&!k,de);if(ge&&d.validatingFields&&y([N.name]),Rt[N.name]&&(T.valid=!1,k))break;!k&&(U(Rt,N.name)?de?mE(r.errors,Rt,N.name):me(r.errors,N.name,Rt[N.name]):Ie(r.errors,N.name))}!st(K)&&await V(K,k,T)}}return T.valid},be=()=>{for(const _ of a.unMount){const k=U(n,_);k&&(k._f.refs?k._f.refs.every(T=>!nu(T)):!nu(k._f.ref))&&Ft(_)}a.unMount=new Set},z=(_,k)=>!e.disabled&&(_&&k&&me(i,_,k),!Ur(G(),s)),q=(_,k,T)=>nE(_,a,{...o.mount?i:Re(k)?s:bt(_)?{[_]:k}:k},T,k),re=_=>Wd(U(o.mount?i:s,_,e.shouldUnregister?U(s,_,[]):[])),pe=(_,k,T={})=>{const $=U(n,_);let I=k;if($){const N=$._f;N&&(!N.disabled&&me(i,_,Rv(k,N)),I=Ca(N.ref)&&dt(k)?"":k,jv(N.ref)?[...N.ref.options].forEach(K=>K.selected=I.includes(K.value)):N.refs?ao(N.ref)?N.refs.forEach(K=>{(!K.defaultChecked||!K.disabled)&&(Array.isArray(I)?K.checked=!!I.find(de=>de===K.value):K.checked=I===K.value||!!I)}):N.refs.forEach(K=>K.checked=K.value===I):Kd(N.ref)?N.ref.value="":(N.ref.value=I,N.ref.type||p.state.next({name:_,values:We(i)})))}(T.shouldDirty||T.shouldTouch)&&E(_,I,T.shouldTouch,T.shouldDirty,!0),T.shouldValidate&&Y(_)},ie=(_,k,T)=>{for(const $ in k){if(!k.hasOwnProperty($))return;const I=k[$],N=_+"."+$,K=U(n,N);(a.array.has(_)||Me(I)||K&&!K._f)&&!Tn(I)?ie(N,I,T):pe(N,I,T)}},fe=(_,k,T={})=>{const $=U(n,_),I=a.array.has(_),N=We(k);me(i,_,N),I?(p.array.next({name:_,values:We(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&T.shouldDirty&&p.state.next({name:_,dirtyFields:es(s,i),isDirty:z(_,N)})):$&&!$._f&&!dt(N)?ie(_,N,T):pe(_,N,T),gp(_,a)&&p.state.next({...r,name:_}),p.state.next({name:o.mount?_:void 0,values:We(i)})},O=async _=>{o.mount=!0;const k=_.target;let T=k.name,$=!0;const I=U(n,T),N=ge=>{$=Number.isNaN(ge)||Tn(ge)&&isNaN(ge.getTime())||Ur(ge,U(i,T,ge))},K=pp(e.mode),de=pp(e.reValidateMode);if(I){let ge,Rt;const fo=k.type?fp(I._f):JS(_),Pr=_.type===lp.BLUR||_.type===lp.FOCUS_OUT,lw=!cE(I._f)&&!e.resolver&&!U(r.errors,T)&&!I._f.deps||fE(Pr,U(r.touchedFields,T),r.isSubmitted,de,K),yl=gp(T,a,Pr);me(i,T,fo),Pr?(!k||!k.readOnly)&&(I._f.onBlur&&I._f.onBlur(_),l&&l(0)):I._f.onChange&&I._f.onChange(_);const vl=E(T,fo,Pr),uw=!st(vl)||yl;if(!Pr&&p.state.next({name:T,type:_.type,values:We(i)}),lw)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Pr&&b():Pr||b()),uw&&p.state.next({name:T,...yl?{}:vl});if(!Pr&&yl&&p.state.next({...r}),e.resolver){const{errors:bh}=await j([T]);if(y([T]),N(fo),$){const cw=yp(r.errors,n,T),kh=yp(bh,n,cw.name||T);ge=kh.error,T=kh.name,Rt=st(bh)}}else y([T],!0),ge=(await wp(I,a.disabled,i,v,e.shouldUseNativeValidation))[T],y([T]),N(fo),$&&(ge?Rt=!1:(d.isValid||f.isValid)&&(Rt=await V(n,!0)));$&&(I._f.deps&&(!Array.isArray(I._f.deps)||I._f.deps.length>0)&&Y(I._f.deps),C(T,Rt,ge,vl))}},H=(_,k)=>{if(U(r.errors,k)&&_.focus)return _.focus(),1},Y=async(_,k={})=>{let T,$;const I=xi(_);if(e.resolver){const N=await D(Re(_)?_:I);T=st(N),$=_?!I.some(K=>U(N,K)):T}else _?($=(await Promise.all(I.map(async N=>{const K=U(n,N);return await V(K&&K._f?{[N]:K}:K)}))).every(Boolean),!(!$&&!r.isValid)&&b()):$=T=await V(n);return p.state.next({...!bt(_)||(d.isValid||f.isValid)&&T!==r.isValid?{}:{name:_},...e.resolver||!_?{isValid:T}:{},errors:r.errors}),k.shouldFocus&&!$&&_i(n,H,_?I:a.mount),$},G=(_,k)=>{let T={...o.mount?i:s};return k&&(T=Cv(k.dirtyFields?r.dirtyFields:r.touchedFields,T)),Re(_)?T:bt(_)?U(T,_):_.map($=>U(T,$))},ce=(_,k)=>({invalid:!!U((k||r).errors,_),isDirty:!!U((k||r).dirtyFields,_),error:U((k||r).errors,_),isValidating:!!U(r.validatingFields,_),isTouched:!!U((k||r).touchedFields,_)}),At=_=>{_&&xi(_).forEach(k=>Ie(r.errors,k)),p.state.next({errors:_?r.errors:{}})},ct=(_,k,T)=>{const $=(U(n,_,{_f:{}})._f||{}).ref,I=U(r.errors,_)||{},{ref:N,message:K,type:de,...ge}=I;me(r.errors,_,{...ge,...k,ref:$}),p.state.next({name:_,errors:r.errors,isValid:!1}),T&&T.shouldFocus&&$&&$.focus&&$.focus()},tr=(_,k)=>Jt(_)?p.state.subscribe({next:T=>"values"in T&&_(q(void 0,k),T)}):q(_,k,!0),ze=_=>p.state.subscribe({next:k=>{hE(_.name,k.name,_.exact)&&dE(k,_.formState||d,aw,_.reRenderRoot)&&_.callback({values:{...i},...r,...k,defaultValues:s})}}).unsubscribe,oe=_=>(o.mount=!0,f={...f,..._.formState},ze({..._,formState:{...c,..._.formState}})),Ft=(_,k={})=>{for(const T of _?xi(_):a.mount)a.mount.delete(T),a.array.delete(T),k.keepValue||(Ie(n,T),Ie(i,T)),!k.keepError&&Ie(r.errors,T),!k.keepDirty&&Ie(r.dirtyFields,T),!k.keepTouched&&Ie(r.touchedFields,T),!k.keepIsValidating&&Ie(r.validatingFields,T),!e.shouldUnregister&&!k.keepDefaultValue&&Ie(s,T);p.state.next({values:We(i)}),p.state.next({...r,...k.keepDirty?{isDirty:z()}:{}}),!k.keepIsValid&&b()},Fn=({disabled:_,name:k})=>{(sr(_)&&o.mount||_||a.disabled.has(k))&&(_?a.disabled.add(k):a.disabled.delete(k))},jr=(_,k={})=>{let T=U(n,_);const $=sr(k.disabled)||sr(e.disabled);return me(n,_,{...T||{},_f:{...T&&T._f?T._f:{ref:{name:_}},name:_,mount:!0,...k}}),a.mount.add(_),T?Fn({disabled:sr(k.disabled)?k.disabled:e.disabled,name:_}):S(_,!0,k.value),{...$?{disabled:k.disabled||e.disabled}:{},...e.progressive?{required:!!k.required,min:Qs(k.min),max:Qs(k.max),minLength:Qs(k.minLength),maxLength:Qs(k.maxLength),pattern:Qs(k.pattern)}:{},name:_,onChange:O,onBlur:O,ref:I=>{if(I){jr(_,k),T=U(n,_);const N=Re(I.value)&&I.querySelectorAll&&I.querySelectorAll("input,select,textarea")[0]||I,K=sE(N),de=T._f.refs||[];if(K?de.find(ge=>ge===N):N===T._f.ref)return;me(n,_,{_f:{...T._f,...K?{refs:[...de.filter(nu),N,...Array.isArray(U(s,_))?[{}]:[]],ref:{type:N.type,name:_}}:{ref:N}}}),S(_,!1,void 0,N)}else T=U(n,_,{}),T._f&&(T._f.mount=!1),(e.shouldUnregister||k.shouldUnregister)&&!(QS(a.array,_)&&o.action)&&a.unMount.add(_)}}},Bt=()=>e.shouldFocusError&&_i(n,H,a.mount),yh=_=>{sr(_)&&(p.state.next({disabled:_}),_i(n,(k,T)=>{const $=U(n,T);$&&(k.disabled=$._f.disabled||_,Array.isArray($._f.refs)&&$._f.refs.forEach(I=>{I.disabled=$._f.disabled||_}))},0,!1))},vh=(_,k)=>async T=>{let $;T&&(T.preventDefault&&T.preventDefault(),T.persist&&T.persist());let I=We(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:N,values:K}=await j();y(),r.errors=N,I=We(K)}else await V(n);if(a.disabled.size)for(const N of a.disabled)Ie(I,N);if(Ie(r.errors,"root"),st(r.errors)){p.state.next({errors:{}});try{await _(I,T)}catch(N){$=N}}else k&&await k({...r.errors},T),Bt(),setTimeout(Bt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:st(r.errors)&&!$,submitCount:r.submitCount+1,errors:r.errors}),$)throw $},iw=(_,k={})=>{U(n,_)&&(Re(k.defaultValue)?fe(_,We(U(s,_))):(fe(_,k.defaultValue),me(s,_,We(k.defaultValue))),k.keepTouched||Ie(r.touchedFields,_),k.keepDirty||(Ie(r.dirtyFields,_),r.isDirty=k.defaultValue?z(_,We(U(s,_))):z()),k.keepError||(Ie(r.errors,_),d.isValid&&b()),p.state.next({...r}))},wh=(_,k={})=>{const T=_?We(_):s,$=We(T),I=st(_),N=I?s:$;if(k.keepDefaultValues||(s=T),!k.keepValues){if(k.keepDirtyValues){const K=new Set([...a.mount,...Object.keys(es(s,i))]);for(const de of Array.from(K))U(r.dirtyFields,de)?me(N,de,U(i,de)):fe(de,U(N,de))}else{if(zd&&Re(_))for(const K of a.mount){const de=U(n,K);if(de&&de._f){const ge=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if(Ca(ge)){const Rt=ge.closest("form");if(Rt){Rt.reset();break}}}}if(k.keepFieldsRef)for(const K of a.mount)fe(K,U(N,K));else n={}}i=e.shouldUnregister?k.keepDefaultValues?We(s):{}:We(N),p.array.next({values:{...N}}),p.state.next({values:{...N}})}a={mount:k.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues||!e.shouldUnregister&&!st(N),o.watch=!!e.shouldUnregister,o.keepIsValid=!!k.keepIsValid,o.action=!1,k.keepErrors||(r.errors={}),p.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:I?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Ur(_,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I?{}:k.keepDirtyValues?k.keepDefaultValues&&i?es(s,i):r.dirtyFields:k.keepDefaultValues&&_?es(s,_):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},xh=(_,k)=>wh(Jt(_)?_(i):_,{...e.resetOptions,...k}),ow=(_,k={})=>{const T=U(n,_),$=T&&T._f;if($){const I=$.refs?$.refs[0]:$.ref;I.focus&&setTimeout(()=>{I.focus(),k.shouldSelect&&Jt(I.select)&&I.select()})}},aw=_=>{r={...r,..._}},_h={control:{register:jr,unregister:Ft,getFieldState:ce,handleSubmit:vh,setError:ct,_subscribe:ze,_runSchema:j,_updateIsValidating:y,_focusError:Bt,_getWatch:q,_getDirty:z,_setValid:b,_setFieldArray:m,_setDisabledField:Fn,_setErrors:x,_getFieldArray:re,_reset:wh,_resetDefaultValues:()=>Jt(e.defaultValues)&&e.defaultValues().then(_=>{xh(_,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:be,_disableForm:yh,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(_){o=_},get _defaultValues(){return s},get _names(){return a},set _names(_){a=_},get _formState(){return r},get _options(){return e},set _options(_){e={...e,..._}}},subscribe:oe,trigger:Y,register:jr,handleSubmit:vh,watch:tr,setValue:fe,getValues:G,reset:xh,resetField:iw,clearErrors:At,unregister:Ft,setError:ct,setFocus:ow,getFieldState:ce};return{..._h,formControl:_h}}function vE(t={}){const e=Je.useRef(void 0),r=Je.useRef(void 0),[n,s]=Je.useState({isDirty:!1,isValidating:!1,isLoading:Jt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Jt(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Jt(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=yE(t);e.current={...a,formState:n}}const i=e.current.control;return i._options=t,rE(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),Je.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Je.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Je.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Je.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Je.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Je.useEffect(()=>{var o;t.values&&!Ur(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),Je.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=tE(n,i),e.current}const xp=(t,e,r)=>{if(t&&"reportValidity"in t){const n=U(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Ov=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?xp(n.ref,r,t):n.refs&&n.refs.forEach(s=>xp(s,r,t))}},wE=(t,e)=>{e.shouldUseNativeValidation&&Ov(t,e);const r={};for(const n in t){const s=U(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(xE(e.names||Object.keys(t),n)){const o=Object.assign({},U(r,n));me(o,"root",i),me(r,n,o)}else me(r,n,i)}return r},xE=(t,e)=>t.some(r=>r.startsWith(e+"."));var _E=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(c){return c.errors.forEach(function(d){return t.push(d)})}),e){var l=r[o].types,u=l&&l[n.code];r[o]=Tv(o,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},bE=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&Ov({},i),{errors:{},values:r.raw?n:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:wE(_E(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ue;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ue||(ue={}));var _p;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(_p||(_p={}));const F=ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dr=t=>{switch(typeof t){case"undefined":return F.undefined;case"string":return F.string;case"number":return Number.isNaN(t)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(t)?F.array:t===null?F.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?F.promise:typeof Map<"u"&&t instanceof Map?F.map:typeof Set<"u"&&t instanceof Set?F.set:typeof Date<"u"&&t instanceof Date?F.date:F.object;default:return F.unknown}},R=ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Sr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),n}static assert(e){if(!(e instanceof Sr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Sr.create=t=>new Sr(t);const Tc=(t,e)=>{let r;switch(t.code){case R.invalid_type:t.received===F.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ue.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:r=`Unrecognized key(s) in object: ${ue.joinValues(t.keys,", ")}`;break;case R.invalid_union:r="Invalid input";break;case R.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ue.joinValues(t.options)}`;break;case R.invalid_enum_value:r=`Invalid enum value. Expected ${ue.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:r="Invalid function arguments";break;case R.invalid_return_type:r="Invalid function return type";break;case R.invalid_date:r="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ue.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case R.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case R.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case R.custom:r="Invalid input";break;case R.invalid_intersection_types:r="Intersection results could not be merged";break;case R.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:r="Number must be finite";break;default:r=e.defaultError,ue.assertNever(t)}return{message:r}};let kE=Tc;function SE(){return kE}const EE=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function L(t,e){const r=SE(),n=EE({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Tc?void 0:Tc].filter(s=>!!s)});t.common.issues.push(n)}class Tt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ee;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Tt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ee;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const ee=Object.freeze({status:"aborted"}),ai=t=>({status:"dirty",value:t}),Ut=t=>({status:"valid",value:t}),bp=t=>t.status==="aborted",kp=t=>t.status==="dirty",Is=t=>t.status==="valid",Pa=t=>typeof Promise<"u"&&t instanceof Promise;var B;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(B||(B={}));class rn{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Sp=(t,e)=>{if(Is(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Sr(t.common.issues);return this._error=r,this._error}}};function ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??n??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??r??a.defaultError}},description:s}}class le{get description(){return this._def.description}_getType(e){return Dr(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Dr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Tt,ctx:{common:e.parent.common,data:e.data,parsedType:Dr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Pa(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dr(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Sp(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return Is(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Is(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dr(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Pa(s)?s:Promise.resolve(s));return Sp(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:R.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Vs({schema:this,typeName:te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Qr.create(this,this._def)}nullable(){return $s.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return lr.create(this)}promise(){return Oa.create(this,this._def)}or(e){return Ra.create([this,e],this._def)}and(e){return Na.create(this,e,this._def)}transform(e){return new Vs({...ne(this._def),schema:this,typeName:te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new jc({...ne(this._def),innerType:this,defaultValue:r,typeName:te.ZodDefault})}brand(){return new GE({typeName:te.ZodBranded,type:this,...ne(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Pc({...ne(this._def),innerType:this,catchValue:r,typeName:te.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Gd.create(this,e)}readonly(){return Ac.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const TE=/^c[^\s-]{8,}$/i,CE=/^[0-9a-z]+$/,jE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AE=/^[a-z0-9_-]{21}$/i,RE=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,NE=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,OE=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,IE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let su;const DE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,LE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,VE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$E=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ME=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,UE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Iv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FE=new RegExp(`^${Iv}$`);function Dv(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function BE(t){return new RegExp(`^${Dv(t)}$`)}function zE(t){let e=`${Iv}T${Dv(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function WE(t,e){return!!((e==="v4"||!e)&&DE.test(t)||(e==="v6"||!e)&&VE.test(t))}function HE(t,e){if(!RE.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function KE(t,e){return!!((e==="v4"||!e)&&LE.test(t)||(e==="v6"||!e)&&$E.test(t))}class zr extends le{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==F.string){const i=this._getOrReturnCtx(e);return L(i,{code:R.invalid_type,expected:F.string,received:i.parsedType}),ee}const n=new Tt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:R.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:R.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?L(s,{code:R.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&L(s,{code:R.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")OE.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"email",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")su||(su=new RegExp(IE,"u")),su.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"emoji",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")PE.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"uuid",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")AE.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"nanoid",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")TE.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"cuid",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")CE.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"cuid2",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")jE.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"ulid",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),L(s,{validation:"url",code:R.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"regex",code:R.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),L(s,{code:R.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),L(s,{code:R.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),L(s,{code:R.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?zE(i).test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{code:R.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?FE.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{code:R.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?BE(i).test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{code:R.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?NE.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"duration",code:R.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?WE(e.data,i.version)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"ip",code:R.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?HE(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"jwt",code:R.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?KE(e.data,i.version)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"cidr",code:R.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ME.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"base64",code:R.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?UE.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"base64url",code:R.invalid_string,message:i.message}),n.dirty()):ue.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:R.invalid_string,...B.errToObj(n)})}_addCheck(e){return new zr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...B.errToObj(e)})}url(e){return this._addCheck({kind:"url",...B.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...B.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...B.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...B.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...B.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...B.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...B.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...B.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...B.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...B.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...B.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...B.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...B.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...B.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...B.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...B.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...B.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...B.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...B.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...B.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...B.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...B.errToObj(r)})}nonempty(e){return this.min(1,B.errToObj(e))}trim(){return new zr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}zr.create=t=>new zr({checks:[],typeName:te.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ne(t)});function qE(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Ds extends le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==F.number){const i=this._getOrReturnCtx(e);return L(i,{code:R.invalid_type,expected:F.number,received:i.parsedType}),ee}let n;const s=new Tt;for(const i of this._def.checks)i.kind==="int"?ue.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),L(n,{code:R.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),L(n,{code:R.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),L(n,{code:R.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?qE(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),L(n,{code:R.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),L(n,{code:R.not_finite,message:i.message}),s.dirty()):ue.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,B.toString(r))}gt(e,r){return this.setLimit("min",e,!1,B.toString(r))}lte(e,r){return this.setLimit("max",e,!0,B.toString(r))}lt(e,r){return this.setLimit("max",e,!1,B.toString(r))}setLimit(e,r,n,s){return new Ds({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:B.toString(s)}]})}_addCheck(e){return new Ds({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:B.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:B.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ue.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ds.create=t=>new Ds({checks:[],typeName:te.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ne(t)});class Zi extends le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==F.bigint)return this._getInvalidInput(e);let n;const s=new Tt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),L(n,{code:R.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),L(n,{code:R.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),L(n,{code:R.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ue.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return L(r,{code:R.invalid_type,expected:F.bigint,received:r.parsedType}),ee}gte(e,r){return this.setLimit("min",e,!0,B.toString(r))}gt(e,r){return this.setLimit("min",e,!1,B.toString(r))}lte(e,r){return this.setLimit("max",e,!0,B.toString(r))}lt(e,r){return this.setLimit("max",e,!1,B.toString(r))}setLimit(e,r,n,s){return new Zi({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:B.toString(s)}]})}_addCheck(e){return new Zi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Zi.create=t=>new Zi({checks:[],typeName:te.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ne(t)});class Ep extends le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==F.boolean){const n=this._getOrReturnCtx(e);return L(n,{code:R.invalid_type,expected:F.boolean,received:n.parsedType}),ee}return Ut(e.data)}}Ep.create=t=>new Ep({typeName:te.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ne(t)});class Aa extends le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==F.date){const i=this._getOrReturnCtx(e);return L(i,{code:R.invalid_type,expected:F.date,received:i.parsedType}),ee}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return L(i,{code:R.invalid_date}),ee}const n=new Tt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:R.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:R.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ue.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Aa({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:B.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:B.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Aa.create=t=>new Aa({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:te.ZodDate,...ne(t)});class Tp extends le{_parse(e){if(this._getType(e)!==F.symbol){const n=this._getOrReturnCtx(e);return L(n,{code:R.invalid_type,expected:F.symbol,received:n.parsedType}),ee}return Ut(e.data)}}Tp.create=t=>new Tp({typeName:te.ZodSymbol,...ne(t)});class Cp extends le{_parse(e){if(this._getType(e)!==F.undefined){const n=this._getOrReturnCtx(e);return L(n,{code:R.invalid_type,expected:F.undefined,received:n.parsedType}),ee}return Ut(e.data)}}Cp.create=t=>new Cp({typeName:te.ZodUndefined,...ne(t)});class jp extends le{_parse(e){if(this._getType(e)!==F.null){const n=this._getOrReturnCtx(e);return L(n,{code:R.invalid_type,expected:F.null,received:n.parsedType}),ee}return Ut(e.data)}}jp.create=t=>new jp({typeName:te.ZodNull,...ne(t)});class Pp extends le{constructor(){super(...arguments),this._any=!0}_parse(e){return Ut(e.data)}}Pp.create=t=>new Pp({typeName:te.ZodAny,...ne(t)});class Ap extends le{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ut(e.data)}}Ap.create=t=>new Ap({typeName:te.ZodUnknown,...ne(t)});class nn extends le{_parse(e){const r=this._getOrReturnCtx(e);return L(r,{code:R.invalid_type,expected:F.never,received:r.parsedType}),ee}}nn.create=t=>new nn({typeName:te.ZodNever,...ne(t)});class Rp extends le{_parse(e){if(this._getType(e)!==F.undefined){const n=this._getOrReturnCtx(e);return L(n,{code:R.invalid_type,expected:F.void,received:n.parsedType}),ee}return Ut(e.data)}}Rp.create=t=>new Rp({typeName:te.ZodVoid,...ne(t)});class lr extends le{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==F.array)return L(r,{code:R.invalid_type,expected:F.array,received:r.parsedType}),ee;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(L(r,{code:o?R.too_big:R.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(L(r,{code:R.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(L(r,{code:R.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new rn(r,o,r.path,a)))).then(o=>Tt.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new rn(r,o,r.path,a)));return Tt.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new lr({...this._def,minLength:{value:e,message:B.toString(r)}})}max(e,r){return new lr({...this._def,maxLength:{value:e,message:B.toString(r)}})}length(e,r){return new lr({...this._def,exactLength:{value:e,message:B.toString(r)}})}nonempty(e){return this.min(1,e)}}lr.create=(t,e)=>new lr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:te.ZodArray,...ne(e)});function ts(t){if(t instanceof Ve){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Qr.create(ts(n))}return new Ve({...t._def,shape:()=>e})}else return t instanceof lr?new lr({...t._def,type:ts(t.element)}):t instanceof Qr?Qr.create(ts(t.unwrap())):t instanceof $s?$s.create(ts(t.unwrap())):t instanceof Ln?Ln.create(t.items.map(e=>ts(e))):t}class Ve extends le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ue.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==F.object){const u=this._getOrReturnCtx(e);return L(u,{code:R.invalid_type,expected:F.object,received:u.parsedType}),ee}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof nn&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=i[u],d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new rn(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof nn){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")a.length>0&&(L(s,{code:R.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new rn(s,d,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>Tt.mergeObjectSync(n,u)):Tt.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return B.errToObj,new Ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:B.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ve({...this._def,unknownKeys:"strip"})}passthrough(){return new Ve({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ve({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:te.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ve({...this._def,catchall:e})}pick(e){const r={};for(const n of ue.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ve({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ue.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ve({...this._def,shape:()=>r})}deepPartial(){return ts(this)}partial(e){const r={};for(const n of ue.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Ve({...this._def,shape:()=>r})}required(e){const r={};for(const n of ue.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Qr;)i=i._def.innerType;r[n]=i}return new Ve({...this._def,shape:()=>r})}keyof(){return Lv(ue.objectKeys(this.shape))}}Ve.create=(t,e)=>new Ve({shape:()=>t,unknownKeys:"strip",catchall:nn.create(),typeName:te.ZodObject,...ne(e)});Ve.strictCreate=(t,e)=>new Ve({shape:()=>t,unknownKeys:"strict",catchall:nn.create(),typeName:te.ZodObject,...ne(e)});Ve.lazycreate=(t,e)=>new Ve({shape:t,unknownKeys:"strip",catchall:nn.create(),typeName:te.ZodObject,...ne(e)});class Ra extends le{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Sr(a.ctx.common.issues));return L(r,{code:R.invalid_union,unionErrors:o}),ee}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Sr(l));return L(r,{code:R.invalid_union,unionErrors:a}),ee}}get options(){return this._def.options}}Ra.create=(t,e)=>new Ra({options:t,typeName:te.ZodUnion,...ne(e)});function Cc(t,e){const r=Dr(t),n=Dr(e);if(t===e)return{valid:!0,data:t};if(r===F.object&&n===F.object){const s=ue.objectKeys(e),i=ue.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Cc(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===F.array&&n===F.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Cc(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===F.date&&n===F.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Na extends le{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(bp(i)||bp(o))return ee;const a=Cc(i.value,o.value);return a.valid?((kp(i)||kp(o))&&r.dirty(),{status:r.value,value:a.data}):(L(n,{code:R.invalid_intersection_types}),ee)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Na.create=(t,e,r)=>new Na({left:t,right:e,typeName:te.ZodIntersection,...ne(r)});class Ln extends le{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.array)return L(n,{code:R.invalid_type,expected:F.array,received:n.parsedType}),ee;if(n.data.length<this._def.items.length)return L(n,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee;!this._def.rest&&n.data.length>this._def.items.length&&(L(n,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new rn(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Tt.mergeArray(r,o)):Tt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Ln({...this._def,rest:e})}}Ln.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ln({items:t,typeName:te.ZodTuple,rest:null,...ne(e)})};class Np extends le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.map)return L(n,{code:R.invalid_type,expected:F.map,received:n.parsedType}),ee;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],u)=>({key:s._parse(new rn(n,a,n.path,[u,"key"])),value:i._parse(new rn(n,l,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ee;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ee;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}}}}Np.create=(t,e,r)=>new Np({valueType:e,keyType:t,typeName:te.ZodMap,...ne(r)});class Ji extends le{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.set)return L(n,{code:R.invalid_type,expected:F.set,received:n.parsedType}),ee;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(L(n,{code:R.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(L(n,{code:R.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ee;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((l,u)=>i._parse(new rn(n,l,n.path,u)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,r){return new Ji({...this._def,minSize:{value:e,message:B.toString(r)}})}max(e,r){return new Ji({...this._def,maxSize:{value:e,message:B.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ji.create=(t,e)=>new Ji({valueType:t,minSize:null,maxSize:null,typeName:te.ZodSet,...ne(e)});class Op extends le{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Op.create=(t,e)=>new Op({getter:t,typeName:te.ZodLazy,...ne(e)});class Ip extends le{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return L(r,{received:r.data,code:R.invalid_literal,expected:this._def.value}),ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ip.create=(t,e)=>new Ip({value:t,typeName:te.ZodLiteral,...ne(e)});function Lv(t,e){return new Ls({values:t,typeName:te.ZodEnum,...ne(e)})}class Ls extends le{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return L(r,{expected:ue.joinValues(n),received:r.parsedType,code:R.invalid_type}),ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return L(r,{received:r.data,code:R.invalid_enum_value,options:n}),ee}return Ut(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ls.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ls.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ls.create=Lv;class Dp extends le{_parse(e){const r=ue.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==F.string&&n.parsedType!==F.number){const s=ue.objectValues(r);return L(n,{expected:ue.joinValues(s),received:n.parsedType,code:R.invalid_type}),ee}if(this._cache||(this._cache=new Set(ue.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ue.objectValues(r);return L(n,{received:n.data,code:R.invalid_enum_value,options:s}),ee}return Ut(e.data)}get enum(){return this._def.values}}Dp.create=(t,e)=>new Dp({values:t,typeName:te.ZodNativeEnum,...ne(e)});class Oa extends le{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==F.promise&&r.common.async===!1)return L(r,{code:R.invalid_type,expected:F.promise,received:r.parsedType}),ee;const n=r.parsedType===F.promise?r.data:Promise.resolve(r.data);return Ut(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Oa.create=(t,e)=>new Oa({type:t,typeName:te.ZodPromise,...ne(e)});class Vs extends le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{L(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return ee;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?ee:l.status==="dirty"||r.value==="dirty"?ai(l.value):l});{if(r.value==="aborted")return ee;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?ee:a.status==="dirty"||r.value==="dirty"?ai(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ee:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ee:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Is(o))return ee;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Is(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):ee);ue.assertNever(s)}}Vs.create=(t,e,r)=>new Vs({schema:t,typeName:te.ZodEffects,effect:e,...ne(r)});Vs.createWithPreprocess=(t,e,r)=>new Vs({schema:e,effect:{type:"preprocess",transform:t},typeName:te.ZodEffects,...ne(r)});class Qr extends le{_parse(e){return this._getType(e)===F.undefined?Ut(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qr.create=(t,e)=>new Qr({innerType:t,typeName:te.ZodOptional,...ne(e)});class $s extends le{_parse(e){return this._getType(e)===F.null?Ut(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$s.create=(t,e)=>new $s({innerType:t,typeName:te.ZodNullable,...ne(e)});class jc extends le{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===F.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}jc.create=(t,e)=>new jc({innerType:t,typeName:te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ne(e)});class Pc extends le{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Pa(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Sr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Sr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Pc.create=(t,e)=>new Pc({innerType:t,typeName:te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ne(e)});class Lp extends le{_parse(e){if(this._getType(e)!==F.nan){const n=this._getOrReturnCtx(e);return L(n,{code:R.invalid_type,expected:F.nan,received:n.parsedType}),ee}return{status:"valid",value:e.data}}}Lp.create=t=>new Lp({typeName:te.ZodNaN,...ne(t)});class GE extends le{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Gd extends le{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ee:i.status==="dirty"?(r.dirty(),ai(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ee:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Gd({in:e,out:r,typeName:te.ZodPipeline})}}class Ac extends le{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Is(s)&&(s.value=Object.freeze(s.value)),s);return Pa(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Ac.create=(t,e)=>new Ac({innerType:t,typeName:te.ZodReadonly,...ne(e)});var te;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(te||(te={}));const iu=zr.create,Jn=Ds.create;nn.create;lr.create;const ZE=Ve.create;Ra.create;Na.create;Ln.create;const Vp=Ls.create;Oa.create;Qr.create;$s.create;const Vv=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ul=P.createContext({}),cl=P.createContext(null),dl=typeof document<"u",Zd=dl?P.useLayoutEffect:P.useEffect,$v=P.createContext({strict:!1}),Jd=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),JE="framerAppearId",Mv="data-"+Jd(JE);function YE(t,e,r,n){const{visualElement:s}=P.useContext(ul),i=P.useContext($v),o=P.useContext(cl),a=P.useContext(Vv).reducedMotion,l=P.useRef();n=n||i.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;P.useInsertionEffect(()=>{u&&u.update(r,o)});const c=P.useRef(!!(r[Mv]&&!window.HandoffComplete));return Zd(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),P.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function ms(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QE(t,e,r){return P.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):ms(r)&&(r.current=n))},[e])}function Yi(t){return typeof t=="string"||Array.isArray(t)}function hl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Yd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qd=["initial",...Yd];function fl(t){return hl(t.animate)||Qd.some(e=>Yi(t[e]))}function Uv(t){return!!(fl(t)||t.variants)}function XE(t,e){if(fl(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Yi(r)?r:void 0,animate:Yi(n)?n:void 0}}return t.inherit!==!1?e:{}}function e1(t){const{initial:e,animate:r}=XE(t,P.useContext(ul));return P.useMemo(()=>({initial:e,animate:r}),[$p(e),$p(r)])}function $p(t){return Array.isArray(t)?t.join(" "):t}const Mp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qi={};for(const t in Mp)Qi[t]={isEnabled:e=>Mp[t].some(r=>!!e[r])};function t1(t){for(const e in t)Qi[e]={...Qi[e],...t[e]}}const Xd=P.createContext({}),Fv=P.createContext({}),r1=Symbol.for("motionComponentSymbol");function n1({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&t1(t);function i(a,l){let u;const c={...P.useContext(Vv),...a,layoutId:s1(a)},{isStatic:d}=c,f=e1(a),p=n(a,d);if(!d&&dl){f.visualElement=YE(s,p,c,e);const v=P.useContext(Fv),w=P.useContext($v).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,w,t,v))}return P.createElement(ul.Provider,{value:f},u&&f.visualElement?P.createElement(u,{visualElement:f.visualElement,...c}):null,r(s,a,QE(p,f.visualElement,l),p,d,f.visualElement))}const o=P.forwardRef(i);return o[r1]=s,o}function s1({layoutId:t}){const e=P.useContext(Xd).id;return e&&t!==void 0?e+"-"+t:t}function i1(t){function e(n,s={}){return n1(t(n,s))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,s)=>(r.has(s)||r.set(s,e(s)),r.get(s))})}const o1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eh(t){return typeof t!="string"||t.includes("-")?!1:!!(o1.indexOf(t)>-1||/[A-Z]/.test(t))}const Ia={};function a1(t){Object.assign(Ia,t)}const lo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mn=new Set(lo);function Bv(t,{layout:e,layoutId:r}){return Mn.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Ia[t]||t==="opacity")}const yt=t=>!!(t&&t.getVelocity),l1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},u1=lo.length;function c1(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<u1;o++){const a=lo[o];if(t[a]!==void 0){const l=l1[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,n?"":i):r&&n&&(i="none"),i}const zv=t=>e=>typeof e=="string"&&e.startsWith(t),Wv=zv("--"),Rc=zv("var(--"),d1=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,h1=(t,e)=>e&&typeof t=="number"?e.transform(t):t,sn=(t,e,r)=>Math.min(Math.max(r,t),e),Un={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bi={...Un,transform:t=>sn(0,1,t)},Do={...Un,default:1},ki=t=>Math.round(t*1e5)/1e5,pl=/(-)?([\d]*\.?[\d])+/g,Hv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,f1=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function uo(t){return typeof t=="string"}const co=t=>({test:e=>uo(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rr=co("deg"),ur=co("%"),Q=co("px"),p1=co("vh"),m1=co("vw"),Up={...ur,parse:t=>ur.parse(t)/100,transform:t=>ur.transform(t*100)},Fp={...Un,transform:Math.round},Kv={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:Rr,rotateX:Rr,rotateY:Rr,rotateZ:Rr,scale:Do,scaleX:Do,scaleY:Do,scaleZ:Do,skew:Rr,skewX:Rr,skewY:Rr,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:bi,originX:Up,originY:Up,originZ:Q,zIndex:Fp,fillOpacity:bi,strokeOpacity:bi,numOctaves:Fp};function th(t,e,r,n){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const d in e){const f=e[d];if(Wv(d)){i[d]=f;continue}const p=Kv[d],v=h1(f,p);if(Mn.has(d)){if(l=!0,o[d]=v,!c)continue;f!==(p.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=v):s[d]=v}if(e.transform||(l||n?s.transform=c1(t.transform,r,c,n):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;s.transformOrigin=`${d} ${f} ${p}`}}const rh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qv(t,e,r){for(const n in e)!yt(e[n])&&!Bv(n,r)&&(t[n]=e[n])}function g1({transformTemplate:t},e,r){return P.useMemo(()=>{const n=rh();return th(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function y1(t,e,r){const n=t.style||{},s={};return qv(s,n,t),Object.assign(s,g1(t,e,r)),t.transformValues?t.transformValues(s):s}function v1(t,e,r){const n={},s=y1(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const w1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Da(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||w1.has(t)}let Gv=t=>!Da(t);function x1(t){t&&(Gv=e=>e.startsWith("on")?!Da(e):t(e))}try{x1(require("@emotion/is-prop-valid").default)}catch{}function _1(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(Gv(s)||r===!0&&Da(s)||!e&&!Da(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function Bp(t,e,r){return typeof t=="string"?t:Q.transform(e+r*t)}function b1(t,e,r){const n=Bp(e,t.x,t.width),s=Bp(r,t.y,t.height);return`${n} ${s}`}const k1={offset:"stroke-dashoffset",array:"stroke-dasharray"},S1={offset:"strokeDashoffset",array:"strokeDasharray"};function E1(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?k1:S1;t[i.offset]=Q.transform(-n);const o=Q.transform(e),a=Q.transform(r);t[i.array]=`${o} ${a}`}function nh(t,{attrX:e,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,f){if(th(t,u,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:w}=t;p.transform&&(w&&(v.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=b1(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&E1(p,o,a,l,!1)}const Zv=()=>({...rh(),attrs:{}}),sh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function T1(t,e,r,n){const s=P.useMemo(()=>{const i=Zv();return nh(i,e,{enableHardwareAcceleration:!1},sh(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};qv(i,t.style,t),s.style={...i,...s.style}}return s}function C1(t=!1){return(r,n,s,{latestValues:i},o)=>{const l=(eh(r)?T1:v1)(n,i,o,r),c={..._1(n,typeof r=="string",t),...l,ref:s},{children:d}=n,f=P.useMemo(()=>yt(d)?d.get():d,[d]);return P.createElement(r,{...c,children:f})}}function Jv(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const Yv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qv(t,e,r,n){Jv(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(Yv.has(s)?s:Jd(s),e.attrs[s])}function ih(t,e){const{style:r}=t,n={};for(const s in r)(yt(r[s])||e.style&&yt(e.style[s])||Bv(s,t))&&(n[s]=r[s]);return n}function Xv(t,e){const r=ih(t,e);for(const n in t)if(yt(t[n])||yt(e[n])){const s=lo.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=t[n]}return r}function oh(t,e,r,n={},s={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,s)),e}function e0(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const La=t=>Array.isArray(t),j1=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),P1=t=>La(t)?t[t.length-1]||0:t;function Yo(t){const e=yt(t)?t.get():t;return j1(e)?e.toValue():e}function A1({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,s,i){const o={latestValues:R1(n,s,i,t),renderState:e()};return r&&(o.mount=a=>r(n,a,o)),o}const t0=t=>(e,r)=>{const n=P.useContext(ul),s=P.useContext(cl),i=()=>A1(t,e,n,s);return r?i():e0(i)};function R1(t,e,r,n){const s={},i=n(t,{});for(const f in i)s[f]=Yo(i[f]);let{initial:o,animate:a}=t;const l=fl(t),u=Uv(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=r?r.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!hl(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const v=oh(t,p);if(!v)return;const{transitionEnd:w,transition:b,...y}=v;for(const m in y){let g=y[m];if(Array.isArray(g)){const x=c?g.length-1:0;g=g[x]}g!==null&&(s[m]=g)}for(const m in w)s[m]=w[m]}),s}const Oe=t=>t;class zp{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function N1(t){let e=new zp,r=new zp,n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&s,f=d?e:r;return u&&o.add(l),f.add(l)&&d&&s&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const Lo=["prepare","read","update","preRender","render","postRender"],O1=40;function I1(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Lo.reduce((d,f)=>(d[f]=N1(()=>r=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(d-s.timestamp,O1),1),s.timestamp=d,s.isProcessing=!0,Lo.forEach(o),s.isProcessing=!1,r&&e&&(n=!1,t(a))},l=()=>{r=!0,n=!0,s.isProcessing||t(a)};return{schedule:Lo.reduce((d,f)=>{const p=i[f];return d[f]=(v,w=!1,b=!1)=>(r||l(),p.schedule(v,w,b)),d},{}),cancel:d=>Lo.forEach(f=>i[f].cancel(d)),state:s,steps:i}}const{schedule:we,cancel:Er,state:tt,steps:ou}=I1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oe,!0),D1={useVisualState:t0({scrapeMotionValuesFromProps:Xv,createRenderState:Zv,onMount:(t,e,{renderState:r,latestValues:n})=>{we.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),we.render(()=>{nh(r,n,{enableHardwareAcceleration:!1},sh(e.tagName),t.transformTemplate),Qv(e,r)})}})},L1={useVisualState:t0({scrapeMotionValuesFromProps:ih,createRenderState:rh})};function V1(t,{forwardMotionProps:e=!1},r,n){return{...eh(t)?D1:L1,preloadedFeatures:r,useRender:C1(e),createVisualElement:n,Component:t}}function gr(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const r0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ml(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const $1=t=>e=>r0(e)&&t(e,ml(e));function vr(t,e,r,n){return gr(t,e,$1(r),n)}const M1=(t,e)=>r=>e(t(r)),Xr=(...t)=>t.reduce(M1);function n0(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const Wp=n0("dragHorizontal"),Hp=n0("dragVertical");function s0(t){let e=!1;if(t==="y")e=Hp();else if(t==="x")e=Wp();else{const r=Wp(),n=Hp();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function i0(){const t=s0(!0);return t?(t(),!1):!0}class cn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Kp(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||i0())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[n]&&we.update(()=>a[n](i,o))};return vr(t.current,r,s,{passive:!t.getProps()[n]})}class U1 extends cn{mount(){this.unmount=Xr(Kp(this.node,!0),Kp(this.node,!1))}unmount(){}}class F1 extends cn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xr(gr(this.node.current,"focus",()=>this.onFocus()),gr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const o0=(t,e)=>e?t===e?!0:o0(t,e.parentElement):!1;function au(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,ml(r))}class B1 extends cn{constructor(){super(...arguments),this.removeStartListeners=Oe,this.removeEndListeners=Oe,this.removeAccessibleListeners=Oe,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=vr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps();we.update(()=>{!d&&!o0(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=vr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Xr(i,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||au("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&we.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=gr(this.node.current,"keyup",o),au("down",(a,l)=>{this.startPress(a,l)})},r=gr(this.node.current,"keydown",e),n=()=>{this.isPressing&&au("cancel",(i,o)=>this.cancelPress(i,o))},s=gr(this.node.current,"blur",n);this.removeAccessibleListeners=Xr(r,s)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&we.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!i0()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&we.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=vr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=gr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Nc=new WeakMap,lu=new WeakMap,z1=t=>{const e=Nc.get(t.target);e&&e(t)},W1=t=>{t.forEach(z1)};function H1({root:t,...e}){const r=t||document;lu.has(r)||lu.set(r,{});const n=lu.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(W1,{root:t,...e})),n[s]}function K1(t,e,r){const n=H1(e);return Nc.set(t,r),n.observe(t),()=>{Nc.delete(t),n.unobserve(t)}}const q1={some:0,all:1};class G1 extends cn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:q1[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return K1(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Z1(e,r))&&this.startObserver()}unmount(){}}function Z1({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const J1={inView:{Feature:G1},tap:{Feature:B1},focus:{Feature:F1},hover:{Feature:U1}};function a0(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Y1(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function Q1(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function gl(t,e,r){const n=t.getProps();return oh(n,e,r!==void 0?r:n.custom,Y1(t),Q1(t))}let ah=Oe;const An=t=>t*1e3,wr=t=>t/1e3,X1={current:!1},l0=t=>Array.isArray(t)&&typeof t[0]=="number";function u0(t){return!!(!t||typeof t=="string"&&c0[t]||l0(t)||Array.isArray(t)&&t.every(u0))}const li=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,c0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:li([0,.65,.55,1]),circOut:li([.55,0,1,.45]),backIn:li([.31,.01,.66,-.59]),backOut:li([.33,1.53,.69,.99])};function d0(t){if(t)return l0(t)?li(t):Array.isArray(t)?t.map(d0):c0[t]}function eT(t,e,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:r};l&&(u.offset=l);const c=d0(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:n,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function tT(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const h0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,rT=1e-7,nT=12;function sT(t,e,r,n,s){let i,o,a=0;do o=e+(r-e)/2,i=h0(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>rT&&++a<nT);return o}function ho(t,e,r,n){if(t===e&&r===n)return Oe;const s=i=>sT(i,0,1,t,r);return i=>i===0||i===1?i:h0(s(i),e,n)}const iT=ho(.42,0,1,1),oT=ho(0,0,.58,1),f0=ho(.42,0,.58,1),aT=t=>Array.isArray(t)&&typeof t[0]!="number",p0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,m0=t=>e=>1-t(1-e),lh=t=>1-Math.sin(Math.acos(t)),g0=m0(lh),lT=p0(lh),y0=ho(.33,1.53,.69,.99),uh=m0(y0),uT=p0(uh),cT=t=>(t*=2)<1?.5*uh(t):.5*(2-Math.pow(2,-10*(t-1))),dT={linear:Oe,easeIn:iT,easeInOut:f0,easeOut:oT,circIn:lh,circInOut:lT,circOut:g0,backIn:uh,backInOut:uT,backOut:y0,anticipate:cT},qp=t=>{if(Array.isArray(t)){ah(t.length===4);const[e,r,n,s]=t;return ho(e,r,n,s)}else if(typeof t=="string")return dT[t];return t},ch=(t,e)=>r=>!!(uo(r)&&f1.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),v0=(t,e,r)=>n=>{if(!uo(n))return n;const[s,i,o,a]=n.match(pl);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},hT=t=>sn(0,255,t),uu={...Un,transform:t=>Math.round(hT(t))},Cn={test:ch("rgb","red"),parse:v0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+uu.transform(t)+", "+uu.transform(e)+", "+uu.transform(r)+", "+ki(bi.transform(n))+")"};function fT(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Oc={test:ch("#"),parse:fT,transform:Cn.transform},gs={test:ch("hsl","hue"),parse:v0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ur.transform(ki(e))+", "+ur.transform(ki(r))+", "+ki(bi.transform(n))+")"},it={test:t=>Cn.test(t)||Oc.test(t)||gs.test(t),parse:t=>Cn.test(t)?Cn.parse(t):gs.test(t)?gs.parse(t):Oc.parse(t),transform:t=>uo(t)?t:t.hasOwnProperty("red")?Cn.transform(t):gs.transform(t)},Te=(t,e,r)=>-r*t+r*e+t;function cu(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function pT({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;s=cu(l,a,t+1/3),i=cu(l,a,t),o=cu(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const du=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},mT=[Oc,Cn,gs],gT=t=>mT.find(e=>e.test(t));function Gp(t){const e=gT(t);let r=e.parse(t);return e===gs&&(r=pT(r)),r}const w0=(t,e)=>{const r=Gp(t),n=Gp(e),s={...r};return i=>(s.red=du(r.red,n.red,i),s.green=du(r.green,n.green,i),s.blue=du(r.blue,n.blue,i),s.alpha=Te(r.alpha,n.alpha,i),Cn.transform(s))};function yT(t){var e,r;return isNaN(t)&&uo(t)&&(((e=t.match(pl))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Hv))===null||r===void 0?void 0:r.length)||0)>0}const x0={regex:d1,countKey:"Vars",token:"${v}",parse:Oe},_0={regex:Hv,countKey:"Colors",token:"${c}",parse:it.parse},b0={regex:pl,countKey:"Numbers",token:"${n}",parse:Un.parse};function hu(t,{regex:e,countKey:r,token:n,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+r]=i.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...i.map(s)))}function Va(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&hu(r,x0),hu(r,_0),hu(r,b0),r}function k0(t){return Va(t).values}function S0(t){const{values:e,numColors:r,numVars:n,tokenised:s}=Va(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<n?a=a.replace(x0.token,o[l]):l<n+r?a=a.replace(_0.token,it.transform(o[l])):a=a.replace(b0.token,ki(o[l]));return a}}const vT=t=>typeof t=="number"?0:t;function wT(t){const e=k0(t);return S0(t)(e.map(vT))}const on={test:yT,parse:k0,createTransformer:S0,getAnimatableNone:wT},E0=(t,e)=>r=>`${r>0?e:t}`;function T0(t,e){return typeof t=="number"?r=>Te(t,e,r):it.test(t)?w0(t,e):t.startsWith("var(")?E0(t,e):j0(t,e)}const C0=(t,e)=>{const r=[...t],n=r.length,s=t.map((i,o)=>T0(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},xT=(t,e)=>{const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=T0(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},j0=(t,e)=>{const r=on.createTransformer(e),n=Va(t),s=Va(e);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Xr(C0(n.values,s.values),r):E0(t,e)},Xi=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Zp=(t,e)=>r=>Te(t,e,r);function _T(t){return typeof t=="number"?Zp:typeof t=="string"?it.test(t)?w0:j0:Array.isArray(t)?C0:typeof t=="object"?xT:Zp}function bT(t,e,r){const n=[],s=r||_T(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Oe:e;a=Xr(l,a)}n.push(a)}return n}function P0(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(ah(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=bT(e,n,s),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Xi(t[c],t[c+1],u);return o[c](d)};return r?u=>l(sn(t[0],t[i-1],u)):l}function kT(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Xi(0,e,n);t.push(Te(r,1,s))}}function ST(t){const e=[0];return kT(e,t.length-1),e}function ET(t,e){return t.map(r=>r*e)}function TT(t,e){return t.map(()=>e||f0).splice(0,t.length-1)}function $a({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=aT(n)?n.map(qp):qp(n),i={done:!1,value:e[0]},o=ET(r&&r.length===e.length?r:ST(e),t),a=P0(o,e,{ease:Array.isArray(s)?s:TT(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function A0(t,e){return e?t*(1e3/e):0}const CT=5;function R0(t,e,r){const n=Math.max(e-CT,0);return A0(r-t(n),e-n)}const fu=.001,jT=.01,PT=10,AT=.05,RT=1;function NT({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let s,i,o=1-e;o=sn(AT,RT,o),t=sn(jT,PT,wr(t)),o<1?(s=u=>{const c=u*o,d=c*t,f=c-r,p=Ic(u,o),v=Math.exp(-d);return fu-f/p*v},i=u=>{const d=u*o*t,f=d*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-d),w=Ic(Math.pow(u,2),o);return(-s(u)+fu>0?-1:1)*((f-p)*v)/w}):(s=u=>{const c=Math.exp(-u*t),d=(u-r)*t+1;return-fu+c*d},i=u=>{const c=Math.exp(-u*t),d=(r-u)*(t*t);return c*d});const a=5/t,l=IT(s,i,a);if(t=An(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const OT=12;function IT(t,e,r){let n=r;for(let s=1;s<OT;s++)n=n-t(n)/e(n);return n}function Ic(t,e){return t*Math.sqrt(1-e*e)}const DT=["duration","bounce"],LT=["stiffness","damping","mass"];function Jp(t,e){return e.some(r=>t[r]!==void 0)}function VT(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Jp(t,LT)&&Jp(t,DT)){const r=NT(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function N0({keyframes:t,restDelta:e,restSpeed:r,...n}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:f}=VT({...n,velocity:-wr(n.velocity||0)}),p=d||0,v=l/(2*Math.sqrt(a*u)),w=i-s,b=wr(Math.sqrt(a/u)),y=Math.abs(w)<5;r||(r=y?.01:2),e||(e=y?.005:.5);let m;if(v<1){const g=Ic(b,v);m=x=>{const S=Math.exp(-v*b*x);return i-S*((p+v*b*w)/g*Math.sin(g*x)+w*Math.cos(g*x))}}else if(v===1)m=g=>i-Math.exp(-b*g)*(w+(p+b*w)*g);else{const g=b*Math.sqrt(v*v-1);m=x=>{const S=Math.exp(-v*b*x),E=Math.min(g*x,300);return i-S*((p+v*b*w)*Math.sinh(E)+g*w*Math.cosh(E))/g}}return{calculatedDuration:f&&c||null,next:g=>{const x=m(g);if(f)o.done=g>=c;else{let S=p;g!==0&&(v<1?S=R0(m,g,x):S=0);const E=Math.abs(S)<=r,C=Math.abs(i-x)<=e;o.done=E&&C}return o.value=o.done?i:x,o}}}function Yp({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},p=j=>a!==void 0&&j<a||l!==void 0&&j>l,v=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let w=r*e;const b=d+w,y=o===void 0?b:o(b);y!==b&&(w=y-d);const m=j=>-w*Math.exp(-j/n),g=j=>y+m(j),x=j=>{const D=m(j),V=g(j);f.done=Math.abs(D)<=u,f.value=f.done?y:V};let S,E;const C=j=>{p(f.value)&&(S=j,E=N0({keyframes:[f.value,v(f.value)],velocity:R0(g,j,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:j=>{let D=!1;return!E&&S===void 0&&(D=!0,x(j),C(j)),S!==void 0&&j>S?E.next(j-S):(!D&&x(j),f)}}}const $T=t=>{const e=({timestamp:r})=>t(r);return{start:()=>we.update(e,!0),stop:()=>Er(e),now:()=>tt.isProcessing?tt.timestamp:performance.now()}},Qp=2e4;function Xp(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Qp;)e+=r,n=t.next(e);return e>=Qp?1/0:e}const MT={decay:Yp,inertia:Yp,tween:$a,keyframes:$a,spring:N0};function Ma({autoplay:t=!0,delay:e=0,driver:r=$T,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...f}){let p=1,v=!1,w,b;const y=()=>{b=new Promise(G=>{w=G})};y();let m;const g=MT[s]||$a;let x;g!==$a&&typeof n[0]!="number"&&(x=P0([0,100],n,{clamp:!1}),n=[0,100]);const S=g({...f,keyframes:n});let E;a==="mirror"&&(E=g({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let C="idle",j=null,D=null,V=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=Xp(S));const{calculatedDuration:be}=S;let z=1/0,q=1/0;be!==null&&(z=be+o,q=z*(i+1)-o);let re=0;const pe=G=>{if(D===null)return;p>0&&(D=Math.min(D,G)),p<0&&(D=Math.min(G-q/p,D)),j!==null?re=j:re=Math.round(G-D)*p;const ce=re-e*(p>=0?1:-1),At=p>=0?ce<0:ce>q;re=Math.max(ce,0),C==="finished"&&j===null&&(re=q);let ct=re,tr=S;if(i){const Fn=Math.min(re,q)/z;let jr=Math.floor(Fn),Bt=Fn%1;!Bt&&Fn>=1&&(Bt=1),Bt===1&&jr--,jr=Math.min(jr,i+1),!!(jr%2)&&(a==="reverse"?(Bt=1-Bt,o&&(Bt-=o/z)):a==="mirror"&&(tr=E)),ct=sn(0,1,Bt)*z}const ze=At?{done:!1,value:n[0]}:tr.next(ct);x&&(ze.value=x(ze.value));let{done:oe}=ze;!At&&be!==null&&(oe=p>=0?re>=q:re<=0);const Ft=j===null&&(C==="finished"||C==="running"&&oe);return d&&d(ze.value),Ft&&O(),ze},ie=()=>{m&&m.stop(),m=void 0},fe=()=>{C="idle",ie(),w(),y(),D=V=null},O=()=>{C="finished",c&&c(),ie(),w()},H=()=>{if(v)return;m||(m=r(pe));const G=m.now();l&&l(),j!==null?D=G-j:(!D||C==="finished")&&(D=G),C==="finished"&&y(),V=D,j=null,C="running",m.start()};t&&H();const Y={then(G,ce){return b.then(G,ce)},get time(){return wr(re)},set time(G){G=An(G),re=G,j!==null||!m||p===0?j=G:D=m.now()-G/p},get duration(){const G=S.calculatedDuration===null?Xp(S):S.calculatedDuration;return wr(G)},get speed(){return p},set speed(G){G===p||!m||(p=G,Y.time=wr(re))},get state(){return C},play:H,pause:()=>{C="paused",j=re},stop:()=>{v=!0,C!=="idle"&&(C="idle",u&&u(),fe())},cancel:()=>{V!==null&&pe(V),fe()},complete:()=>{C="finished"},sample:G=>(D=0,pe(G))};return Y}function UT(t){let e;return()=>(e===void 0&&(e=t()),e)}const FT=UT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),BT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Vo=10,zT=2e4,WT=(t,e)=>e.type==="spring"||t==="backgroundColor"||!u0(e.ease);function HT(t,e,{onUpdate:r,onComplete:n,...s}){if(!(FT()&&BT.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const c=()=>{l=new Promise(g=>{a=g})};c();let{keyframes:d,duration:f=300,ease:p,times:v}=s;if(WT(e,s)){const g=Ma({...s,repeat:0,delay:0});let x={done:!1,value:d[0]};const S=[];let E=0;for(;!x.done&&E<zT;)x=g.sample(E),S.push(x.value),E+=Vo;v=void 0,d=S,f=E-Vo,p="linear"}const w=eT(t.owner.current,e,d,{...s,duration:f,ease:p,times:v}),b=()=>{u=!1,w.cancel()},y=()=>{u=!0,we.update(b),a(),c()};return w.onfinish=()=>{u||(t.set(tT(d,s)),n&&n(),y())},{then(g,x){return l.then(g,x)},attachTimeline(g){return w.timeline=g,w.onfinish=null,Oe},get time(){return wr(w.currentTime||0)},set time(g){w.currentTime=An(g)},get speed(){return w.playbackRate},set speed(g){w.playbackRate=g},get duration(){return wr(f)},play:()=>{o||(w.play(),Er(b))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:g}=w;if(g){const x=Ma({...s,autoplay:!1});t.setWithVelocity(x.sample(g-Vo).value,x.sample(g).value,Vo)}y()},complete:()=>{u||w.finish()},cancel:y}}function KT({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const s=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Oe,pause:Oe,stop:Oe,then:i=>(i(),Promise.resolve()),cancel:Oe,complete:Oe});return e?Ma({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const qT={type:"spring",stiffness:500,damping:25,restSpeed:10},GT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZT={type:"keyframes",duration:.8},JT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YT=(t,{keyframes:e})=>e.length>2?ZT:Mn.has(t)?t.startsWith("scale")?GT(e[1]):qT:JT,Dc=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(on.test(e)||e==="0")&&!e.startsWith("url(")),QT=new Set(["brightness","contrast","saturate","opacity"]);function XT(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(pl)||[];if(!n)return t;const s=r.replace(n,"");let i=QT.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const eC=/([a-z-]*)\(.*?\)/g,Lc={...on,getAnimatableNone:t=>{const e=t.match(eC);return e?e.map(XT).join(" "):t}},tC={...Kv,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:Lc,WebkitFilter:Lc},dh=t=>tC[t];function O0(t,e){let r=dh(t);return r!==Lc&&(r=on),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const I0=t=>/^0[^.\s]+$/.test(t);function rC(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||I0(t)}function nC(t,e,r,n){const s=Dc(e,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:t.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),rC(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];i[c]=O0(e,a)}return i}function sC({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function hh(t,e){return t[e]||t.default||t}const iC={skipAnimations:!1},fh=(t,e,r,n={})=>s=>{const i=hh(n,t)||{},o=i.delay||n.delay||0;let{elapsed:a=0}=n;a=a-An(o);const l=nC(e,t,r,i),u=l[0],c=l[l.length-1],d=Dc(t,u),f=Dc(t,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{e.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(sC(i)||(p={...p,...YT(t,p)}),p.duration&&(p.duration=An(p.duration)),p.repeatDelay&&(p.repeatDelay=An(p.repeatDelay)),!d||!f||X1.current||i.type===!1||iC.skipAnimations)return KT(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=HT(e,t,p);if(v)return v}return Ma(p)};function Ua(t){return!!(yt(t)&&t.add)}const D0=t=>/^\-?\d*\.?\d+$/.test(t);function ph(t,e){t.indexOf(e)===-1&&t.push(e)}function mh(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class gh{constructor(){this.subscriptions=[]}add(e){return ph(this.subscriptions,e),()=>mh(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oC=t=>!isNaN(parseFloat(t));class aC{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=tt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,we.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>we.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=oC(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new gh);const n=this.events[e].add(r);return e==="change"?()=>{n(),we.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?A0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ms(t,e){return new aC(t,e)}const L0=t=>e=>e.test(t),lC={test:t=>t==="auto",parse:t=>t},V0=[Un,Q,ur,Rr,m1,p1,lC],Xs=t=>V0.find(L0(t)),uC=[...V0,it,on],cC=t=>uC.find(L0(t));function dC(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ms(r))}function hC(t,e){const r=gl(t,e);let{transitionEnd:n={},transition:s={},...i}=r?t.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const a=P1(i[o]);dC(t,o,a)}}function fC(t,e,r){var n,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(s=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&s!==void 0?s:e[l]),c!=null&&(typeof c=="string"&&(D0(c)||I0(c))?c=parseFloat(c):!cC(c)&&on.test(u)&&(c=O0(l,u)),t.addValue(l,Ms(c,{owner:t})),r[l]===void 0&&(r[l]=c),c!==null&&t.setBaseTarget(l,c))}}function pC(t,e){return e?(e[t]||e.default||e).from:void 0}function mC(t,e,r){const n={};for(const s in t){const i=pC(s,e);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function gC({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function yC(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function $0(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(i=n);const u=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d),p=a[d];if(!f||p===void 0||c&&gC(c,d))continue;const v={delay:r,elapsed:0,...hh(i||{},d)};if(window.HandoffAppearAnimations){const y=t.getProps()[Mv];if(y){const m=window.HandoffAppearAnimations(y,d,f,we);m!==null&&(v.elapsed=m,v.isHandoff=!0)}}let w=!v.isHandoff&&!yC(f,p);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(w=!1),f.animation&&(w=!1),w)continue;f.start(fh(d,f,p,t.shouldReduceMotion&&Mn.has(d)?{type:!1}:v));const b=f.animation;Ua(l)&&(l.add(d),b.then(()=>l.remove(d))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&hC(t,o)}),u}function Vc(t,e,r={}){const n=gl(t,e,r.custom);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all($0(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=s;return vC(t,e,u+l,c,d,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function vC(t,e,r=0,n=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*n,l=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(t.variantChildren).sort(wC).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Vc(u,e,{...i,delay:r+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function wC(t,e){return t.sortNodePosition(e)}function xC(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>Vc(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=Vc(t,e,r);else{const s=typeof e=="function"?gl(t,e,r.custom):e;n=Promise.all($0(t,s,r))}return n.then(()=>t.notify("AnimationComplete",e))}const _C=[...Yd].reverse(),bC=Yd.length;function kC(t){return e=>Promise.all(e.map(({animation:r,options:n})=>xC(t,r,n)))}function SC(t){let e=kC(t);const r=TC();let n=!0;const s=(l,u)=>{const c=gl(t,u);if(c){const{transition:d,transitionEnd:f,...p}=c;l={...l,...p,...f}}return l};function i(l){e=l(t)}function o(l,u){const c=t.getProps(),d=t.getVariantContext(!0)||{},f=[],p=new Set;let v={},w=1/0;for(let y=0;y<bC;y++){const m=_C[y],g=r[m],x=c[m]!==void 0?c[m]:d[m],S=Yi(x),E=m===u?g.isActive:null;E===!1&&(w=y);let C=x===d[m]&&x!==c[m]&&S;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),g.protectedKeys={...v},!g.isActive&&E===null||!x&&!g.prevProp||hl(x)||typeof x=="boolean")continue;let D=EC(g.prevProp,x)||m===u&&g.isActive&&!C&&S||y>w&&S,V=!1;const be=Array.isArray(x)?x:[x];let z=be.reduce(s,{});E===!1&&(z={});const{prevResolvedValues:q={}}=g,re={...q,...z},pe=ie=>{D=!0,p.has(ie)&&(V=!0,p.delete(ie)),g.needsAnimating[ie]=!0};for(const ie in re){const fe=z[ie],O=q[ie];if(v.hasOwnProperty(ie))continue;let H=!1;La(fe)&&La(O)?H=!a0(fe,O):H=fe!==O,H?fe!==void 0?pe(ie):p.add(ie):fe!==void 0&&p.has(ie)?pe(ie):g.protectedKeys[ie]=!0}g.prevProp=x,g.prevResolvedValues=z,g.isActive&&(v={...v,...z}),n&&t.blockInitialAnimation&&(D=!1),D&&(!C||V)&&f.push(...be.map(ie=>({animation:ie,options:{type:m,...l}})))}if(p.size){const y={};p.forEach(m=>{const g=t.getBaseTarget(m);g!==void 0&&(y[m]=g)}),f.push({animation:y})}let b=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(f):Promise.resolve()}function a(l,u,c){var d;if(r[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),r[l].isActive=u;const f=o(c,l);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r}}function EC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!a0(e,t):!1}function fn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TC(){return{animate:fn(!0),whileInView:fn(),whileHover:fn(),whileTap:fn(),whileDrag:fn(),whileFocus:fn(),exit:fn()}}class CC extends cn{constructor(e){super(e),e.animationState||(e.animationState=SC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),hl(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let jC=0;class PC extends cn{constructor(){super(...arguments),this.id=jC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const AC={animation:{Feature:CC},exit:{Feature:PC}},em=(t,e)=>Math.abs(t-e);function RC(t,e){const r=em(t.x,e.x),n=em(t.y,e.y);return Math.sqrt(r**2+n**2)}class M0{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=mu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=RC(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=d,{timestamp:w}=tt;this.history.push({...v,timestamp:w});const{onStart:b,onMove:y}=this.handlers;f||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=pu(f,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=mu(d.type==="pointercancel"?this.lastMoveEventInfo:pu(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,b),v&&v(d,b)},!r0(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=ml(e),a=pu(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=tt;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=r;c&&c(e,mu(a,this.history)),this.removeListeners=Xr(vr(this.contextWindow,"pointermove",this.handlePointerMove),vr(this.contextWindow,"pointerup",this.handlePointerUp),vr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Er(this.updatePoint)}}function pu(t,e){return e?{point:e(t.point)}:t}function tm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mu({point:t},e){return{point:t,delta:tm(t,U0(e)),offset:tm(t,NC(e)),velocity:OC(e,.1)}}function NC(t){return t[0]}function U0(t){return t[t.length-1]}function OC(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=U0(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>An(e)));)r--;if(!n)return{x:0,y:0};const i=wr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ct(t){return t.max-t.min}function $c(t,e=0,r=.01){return Math.abs(t-e)<=r}function rm(t,e,r,n=.5){t.origin=n,t.originPoint=Te(e.min,e.max,t.origin),t.scale=Ct(r)/Ct(e),($c(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Te(r.min,r.max,t.origin)-t.originPoint,($c(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Si(t,e,r,n){rm(t.x,e.x,r.x,n?n.originX:void 0),rm(t.y,e.y,r.y,n?n.originY:void 0)}function nm(t,e,r){t.min=r.min+e.min,t.max=t.min+Ct(e)}function IC(t,e,r){nm(t.x,e.x,r.x),nm(t.y,e.y,r.y)}function sm(t,e,r){t.min=e.min-r.min,t.max=t.min+Ct(e)}function Ei(t,e,r){sm(t.x,e.x,r.x),sm(t.y,e.y,r.y)}function DC(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Te(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Te(r,t,n.max):Math.min(t,r)),t}function im(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function LC(t,{top:e,left:r,bottom:n,right:s}){return{x:im(t.x,r,s),y:im(t.y,e,n)}}function om(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function VC(t,e){return{x:om(t.x,e.x),y:om(t.y,e.y)}}function $C(t,e){let r=.5;const n=Ct(t),s=Ct(e);return s>n?r=Xi(e.min,e.max-n,t.min):n>s&&(r=Xi(t.min,t.max-s,e.min)),sn(0,1,r)}function MC(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Mc=.35;function UC(t=Mc){return t===!1?t=0:t===!0&&(t=Mc),{x:am(t,"left","right"),y:am(t,"top","bottom")}}function am(t,e,r){return{min:lm(t,e),max:lm(t,r)}}function lm(t,e){return typeof t=="number"?t:t[e]||0}const um=()=>({translate:0,scale:1,origin:0,originPoint:0}),ys=()=>({x:um(),y:um()}),cm=()=>({min:0,max:0}),De=()=>({x:cm(),y:cm()});function Ot(t){return[t("x"),t("y")]}function F0({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function FC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BC(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function gu(t){return t===void 0||t===1}function Uc({scale:t,scaleX:e,scaleY:r}){return!gu(t)||!gu(e)||!gu(r)}function yn(t){return Uc(t)||B0(t)||t.z||t.rotate||t.rotateX||t.rotateY}function B0(t){return dm(t.x)||dm(t.y)}function dm(t){return t&&t!=="0%"}function Fa(t,e,r){const n=t-r,s=e*n;return r+s}function hm(t,e,r,n,s){return s!==void 0&&(t=Fa(t,s,n)),Fa(t,r,n)+e}function Fc(t,e=0,r=1,n,s){t.min=hm(t.min,e,r,n,s),t.max=hm(t.max,e,r,n,s)}function z0(t,{x:e,y:r}){Fc(t.x,e.translate,e.scale,e.originPoint),Fc(t.y,r.translate,r.scale,r.originPoint)}function zC(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vs(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,z0(t,o)),n&&yn(i.latestValues)&&vs(t,i.latestValues))}e.x=fm(e.x),e.y=fm(e.y)}function fm(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Lr(t,e){t.min=t.min+e,t.max=t.max+e}function pm(t,e,[r,n,s]){const i=e[s]!==void 0?e[s]:.5,o=Te(t.min,t.max,i);Fc(t,e[r],e[n],o,e.scale)}const WC=["x","scaleX","originX"],HC=["y","scaleY","originY"];function vs(t,e){pm(t.x,e,WC),pm(t.y,e,HC)}function W0(t,e){return F0(BC(t.getBoundingClientRect(),e))}function KC(t,e,r){const n=W0(t,r),{scroll:s}=e;return s&&(Lr(n.x,s.offset.x),Lr(n.y,s.offset.y)),n}const H0=({current:t})=>t?t.ownerDocument.defaultView:null,qC=new WeakMap;class GC{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ml(c,"page").point)},i=(c,d)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=s0(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ot(b=>{let y=this.getAxisMotionValue(b).get()||0;if(ur.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const g=m.layout.layoutBox[b];g&&(y=Ct(g)*(parseFloat(y)/100))}}this.originPoint[b]=y}),v&&we.update(()=>v(c,d),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=d;if(p&&this.currentDirection===null){this.currentDirection=ZC(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),w&&w(c,d)},a=(c,d)=>this.stop(c,d),l=()=>Ot(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new M0(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:H0(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&we.update(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!$o(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=DC(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&ms(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=LC(s.layoutBox,r):this.constraints=!1,this.elastic=UC(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ot(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=MC(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!ms(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=KC(n,s.root,this.visualElement.getTransformPagePoint());let o=VC(s.layout.layoutBox,i);if(r){const a=r(FC(o));this.hasMutatedConstraints=!!a,a&&(o=F0(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ot(c=>{if(!$o(c,r,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:n?e[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(fh(e,n,0,r))}stopAnimation(){Ot(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ot(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ot(r=>{const{drag:n}=this.getProps();if(!$o(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(e[r]-Te(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ms(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ot(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=$C({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ot(o=>{if(!$o(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Te(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;qC.set(this.visualElement,this);const e=this.visualElement.current,r=vr(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();ms(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=gr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ot(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Mc,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function $o(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function ZC(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class JC extends cn{constructor(e){super(e),this.removeGroupControls=Oe,this.removeListeners=Oe,this.controls=new GC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oe}unmount(){this.removeGroupControls(),this.removeListeners()}}const mm=t=>(e,r)=>{t&&we.update(()=>t(e,r))};class YC extends cn{constructor(){super(...arguments),this.removePointerDownListener=Oe}onPointerDown(e){this.session=new M0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:H0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:mm(e),onStart:mm(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&we.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=vr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function QC(){const t=P.useContext(cl);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,s=P.useId();return P.useEffect(()=>n(s),[]),!e&&r?[!1,()=>r&&r(s)]:[!0]}const Qo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ei={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Q.test(t))t=parseFloat(t);else return t;const r=gm(t,e.target.x),n=gm(t,e.target.y);return`${r}% ${n}%`}},XC={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=on.parse(t);if(s.length>5)return n;const i=on.createTransformer(t),o=typeof s[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=Te(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class ej extends Je.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;a1(tj),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Qo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||we.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function K0(t){const[e,r]=QC(),n=P.useContext(Xd);return Je.createElement(ej,{...t,layoutGroup:n,switchLayoutGroup:P.useContext(Fv),isPresent:e,safeToRemove:r})}const tj={borderRadius:{...ei,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ei,borderTopRightRadius:ei,borderBottomLeftRadius:ei,borderBottomRightRadius:ei,boxShadow:XC},q0=["TopLeft","TopRight","BottomLeft","BottomRight"],rj=q0.length,ym=t=>typeof t=="string"?parseFloat(t):t,vm=t=>typeof t=="number"||Q.test(t);function nj(t,e,r,n,s,i){s?(t.opacity=Te(0,r.opacity!==void 0?r.opacity:1,sj(n)),t.opacityExit=Te(e.opacity!==void 0?e.opacity:1,0,ij(n))):i&&(t.opacity=Te(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<rj;o++){const a=`border${q0[o]}Radius`;let l=wm(e,a),u=wm(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||vm(l)===vm(u)?(t[a]=Math.max(Te(ym(l),ym(u),n),0),(ur.test(u)||ur.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=Te(e.rotate||0,r.rotate||0,n))}function wm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sj=G0(0,.5,g0),ij=G0(.5,.95,Oe);function G0(t,e,r){return n=>n<t?0:n>e?1:r(Xi(t,e,n))}function xm(t,e){t.min=e.min,t.max=e.max}function Nt(t,e){xm(t.x,e.x),xm(t.y,e.y)}function _m(t,e,r,n,s){return t-=e,t=Fa(t,1/r,n),s!==void 0&&(t=Fa(t,1/s,n)),t}function oj(t,e=0,r=1,n=.5,s,i=t,o=t){if(ur.test(e)&&(e=parseFloat(e),e=Te(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Te(i.min,i.max,n);t===i&&(a-=e),t.min=_m(t.min,e,r,a,s),t.max=_m(t.max,e,r,a,s)}function bm(t,e,[r,n,s],i,o){oj(t,e[r],e[n],e[s],e.scale,i,o)}const aj=["x","scaleX","originX"],lj=["y","scaleY","originY"];function km(t,e,r,n){bm(t.x,e,aj,r?r.x:void 0,n?n.x:void 0),bm(t.y,e,lj,r?r.y:void 0,n?n.y:void 0)}function Sm(t){return t.translate===0&&t.scale===1}function Z0(t){return Sm(t.x)&&Sm(t.y)}function uj(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function J0(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Em(t){return Ct(t.x)/Ct(t.y)}class cj{constructor(){this.members=[]}add(e){ph(this.members,e),e.scheduleRender()}remove(e){if(mh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tm(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:u,rotateY:c}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),c&&(n+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const dj=(t,e)=>t.depth-e.depth;class hj{constructor(){this.children=[],this.isDirty=!1}add(e){ph(this.children,e),this.isDirty=!0}remove(e){mh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dj),this.isDirty=!1,this.children.forEach(e)}}function fj(t,e){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Er(n),t(i-e))};return we.read(n,!0),()=>Er(n)}function pj(t){window.MotionDebug&&window.MotionDebug.record(t)}function mj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function gj(t,e,r){const n=yt(t)?t:Ms(t);return n.start(fh("",n,e,r)),n.animation}const Cm=["","X","Y","Z"],yj={visibility:"hidden"},jm=1e3;let vj=0;const vn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Y0({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=vj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vn.totalNodes=vn.resolvedTargetDeltas=vn.recalculatedProjection=0,this.nodes.forEach(_j),this.nodes.forEach(Tj),this.nodes.forEach(Cj),this.nodes.forEach(bj),pj(vn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gh),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mj(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=fj(f,250),Qo.hasAnimatedSinceResize&&(Qo.hasAnimatedSinceResize=!1,this.nodes.forEach(Am))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||Nj,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=c.getProps(),m=!this.targetLayout||!J0(this.targetLayout,v)||p,g=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const x={...hh(w,"layout"),onPlay:b,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||Am(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pm);return}this.isUpdating||this.nodes.forEach(Sj),this.isUpdating=!1,this.nodes.forEach(Ej),this.nodes.forEach(wj),this.nodes.forEach(xj),this.clearAllSnapshots();const a=performance.now();tt.delta=sn(0,1e3/60,a-tt.timestamp),tt.timestamp=a,tt.isProcessing=!0,ou.update.process(tt),ou.preRender.process(tt),ou.render.process(tt),tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(kj),this.sharedNodes.forEach(Pj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Z0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||yn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Oj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return De();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Lr(a.x,l.offset.x),Lr(a.y,l.offset.y)),a}removeElementScroll(o){const a=De();Nt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){Nt(a,o);const{scroll:f}=this.root;f&&(Lr(a.x,-f.offset.x),Lr(a.y,-f.offset.y))}Lr(a.x,c.offset.x),Lr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=De();Nt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&vs(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),yn(c.latestValues)&&vs(l,c.latestValues)}return yn(this.latestValues)&&vs(l,this.latestValues),l}removeTransform(o){const a=De();Nt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!yn(u.latestValues))continue;Uc(u.latestValues)&&u.updateSnapshot();const c=De(),d=u.measurePageBox();Nt(c,d),km(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return yn(this.latestValues)&&km(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=tt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Ei(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nt(this.target,this.layout.layoutBox),z0(this.target,this.targetDelta)):Nt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Ei(this.relativeTargetOrigin,this.target,p.target),Nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uc(this.parent.latestValues)||B0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===tt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Nt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;zC(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=ys(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ys(),this.projectionDeltaWithTransform=ys());const w=this.projectionTransform;Si(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Tm(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),vn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=De(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,b=this.getStack(),y=!b||b.members.length<=1,m=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(Rj));this.animationProgress=0;let g;this.mixTargetDelta=x=>{const S=x/1e3;Rm(d.x,o.x,S),Rm(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ei(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Aj(this.relativeTarget,this.relativeTargetOrigin,f,S),g&&uj(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=De()),Nt(g,this.relativeTarget)),w&&(this.animationValues=c,nj(c,u,this.latestValues,S,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Qo.hasAnimatedSinceResize=!0,this.currentAnimation=gj(0,jm,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Q0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||De();const d=Ct(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ct(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Nt(a,l),vs(a,c),Si(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Cm.length;c++){const d="rotate"+Cm[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yj;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Yo(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Yo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!yn(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Tm(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Ia){if(f[w]===void 0)continue;const{correct:b,applyTo:y}=Ia[w],m=u.transform==="none"?f[w]:b(f[w],d);if(y){const g=y.length;for(let x=0;x<g;x++)u[y[x]]=m}else u[w]=m}return this.options.layoutId&&(u.pointerEvents=d===this?Yo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Pm),this.root.sharedNodes.clear()}}}function wj(t){t.updateLayout()}function xj(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?Ot(d=>{const f=o?r.measuredBox[d]:r.layoutBox[d],p=Ct(f);f.min=n[d].min,f.max=f.min+p}):Q0(i,r.layoutBox,n)&&Ot(d=>{const f=o?r.measuredBox[d]:r.layoutBox[d],p=Ct(n[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=ys();Si(a,n,r.layoutBox);const l=ys();o?Si(l,t.applyTransform(s,!0),r.measuredBox):Si(l,n,r.layoutBox);const u=!Z0(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const v=De();Ei(v,r.layoutBox,f.layoutBox);const w=De();Ei(w,n,p.layoutBox),J0(v,w)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function _j(t){vn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kj(t){t.clearSnapshot()}function Pm(t){t.clearMeasurements()}function Sj(t){t.isLayoutDirty=!1}function Ej(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Am(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Tj(t){t.resolveTargetDelta()}function Cj(t){t.calcProjection()}function jj(t){t.resetRotation()}function Pj(t){t.removeLeadSnapshot()}function Rm(t,e,r){t.translate=Te(e.translate,0,r),t.scale=Te(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Nm(t,e,r,n){t.min=Te(e.min,r.min,n),t.max=Te(e.max,r.max,n)}function Aj(t,e,r,n){Nm(t.x,e.x,r.x,n),Nm(t.y,e.y,r.y,n)}function Rj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Nj={duration:.45,ease:[.4,0,.1,1]},Om=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Im=Om("applewebkit/")&&!Om("chrome/")?Math.round:Oe;function Dm(t){t.min=Im(t.min),t.max=Im(t.max)}function Oj(t){Dm(t.x),Dm(t.y)}function Q0(t,e,r){return t==="position"||t==="preserve-aspect"&&!$c(Em(e),Em(r),.2)}const Ij=Y0({attachResizeListener:(t,e)=>gr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yu={current:void 0},X0=Y0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yu.current){const t=new Ij({});t.mount(window),t.setOptions({layoutScroll:!0}),yu.current=t}return yu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Dj={pan:{Feature:YC},drag:{Feature:JC,ProjectionNode:X0,MeasureLayout:K0}},Lj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Vj(t){const e=Lj.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function Bc(t,e,r=1){const[n,s]=Vj(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return D0(o)?parseFloat(o):o}else return Rc(s)?Bc(s,e,r+1):s}function $j(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(s=>{const i=s.get();if(!Rc(i))return;const o=Bc(i,n);o&&s.set(o)});for(const s in e){const i=e[s];if(!Rc(i))continue;const o=Bc(i,n);o&&(e[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:e,transitionEnd:r}}const Mj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ew=t=>Mj.has(t),Uj=t=>Object.keys(t).some(ew),Lm=t=>t===Un||t===Q,Vm=(t,e)=>parseFloat(t.split(", ")[e]),$m=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return Vm(s[1],e);{const i=n.match(/^matrix\((.+)\)$/);return i?Vm(i[1],t):0}},Fj=new Set(["x","y","z"]),Bj=lo.filter(t=>!Fj.has(t));function zj(t){const e=[];return Bj.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Us={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$m(4,13),y:$m(5,14)};Us.translateX=Us.x;Us.translateY=Us.y;const Wj=(t,e,r)=>{const n=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{a[u]=Us[u](n,i)}),e.render();const l=e.measureViewportBox();return r.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Us[u](l,i)}),t},Hj=(t,e,r={},n={})=>{e={...e},n={...n};const s=Object.keys(e).filter(ew);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=r[l],d=Xs(c);const f=e[l];let p;if(La(f)){const v=f.length,w=f[0]===null?1:0;c=f[w],d=Xs(c);for(let b=w;b<v&&f[b]!==null;b++)p?ah(Xs(f[b])===p):p=Xs(f[b])}else p=Xs(f);if(d!==p)if(Lm(d)&&Lm(p)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===Q&&(e[l]=f.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(c===0||f===0)?c===0?u.set(p.transform(c)):e[l]=d.transform(f):(o||(i=zj(t),o=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Wj(e,t,a);return i.length&&i.forEach(([c,d])=>{t.getValue(c).set(d)}),t.render(),dl&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function Kj(t,e,r,n){return Uj(e)?Hj(t,e,r,n):{target:e,transitionEnd:n}}const qj=(t,e,r,n)=>{const s=$j(t,e,n);return e=s.target,n=s.transitionEnd,Kj(t,e,r,n)},zc={current:null},tw={current:!1};function Gj(){if(tw.current=!0,!!dl)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zc.current=t.matches;t.addListener(e),e()}else zc.current=!1}function Zj(t,e,r){const{willChange:n}=e;for(const s in e){const i=e[s],o=r[s];if(yt(i))t.addValue(s,i),Ua(n)&&n.add(s);else if(yt(o))t.addValue(s,Ms(i,{owner:t})),Ua(n)&&n.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Ms(a!==void 0?a:i,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const Mm=new WeakMap,rw=Object.keys(Qi),Jj=rw.length,Um=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Yj=Qd.length;class Qj{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>we.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=fl(r),this.isVariantNode=Uv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(r,{});for(const d in c){const f=c[d];a[d]!==void 0&&yt(f)&&(f.set(a[d],!1),Ua(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Mm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),tw.current||Gj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Mm.delete(this.current),this.projection&&this.projection.unmount(),Er(this.notifyUpdate),Er(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=Mn.has(e),s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&we.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,s,i){let o,a;for(let l=0;l<Jj;l++){const u=rw[l],{isEnabled:c,Feature:d,ProjectionNode:f,MeasureLayout:p}=Qi[u];f&&(o=f),c(r)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&ms(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Um.length;n++){const s=Um[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Zj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<Yj;n++){const s=Qd[n],i=this.props[s];(Yi(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Ms(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=oh(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!yt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new gh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class nw extends Qj{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:s},i){let o=mC(n,e||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){fC(this,n,o);const a=qj(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:r,...n}}}function Xj(t){return window.getComputedStyle(t)}class eP extends nw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(Mn.has(r)){const n=dh(r);return n&&n.default||0}else{const n=Xj(e),s=(Wv(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return W0(e,r)}build(e,r,n,s){th(e,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,r){return ih(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,s){Jv(e,r,n,s)}}class tP extends nw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Mn.has(r)){const n=dh(r);return n&&n.default||0}return r=Yv.has(r)?r:Jd(r),e.getAttribute(r)}measureInstanceViewportBox(){return De()}scrapeMotionValuesFromProps(e,r){return Xv(e,r)}build(e,r,n,s){nh(e,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,r,n,s){Qv(e,r,n,s)}mount(e){this.isSVGTag=sh(e.tagName),super.mount(e)}}const rP=(t,e)=>eh(t)?new tP(e,{enableHardwareAcceleration:!1}):new eP(e,{enableHardwareAcceleration:!0}),nP={layout:{ProjectionNode:X0,MeasureLayout:K0}},sP={...AC,...J1,...Dj,...nP},X=i1((t,e)=>V1(t,e,sP,rP));function sw(){const t=P.useRef(!1);return Zd(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function iP(){const t=sw(),[e,r]=P.useState(0),n=P.useCallback(()=>{t.current&&r(e+1)},[e]);return[P.useCallback(()=>we.postRender(n),[n]),e]}class oP extends P.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aP({children:t,isPresent:e}){const r=P.useId(),n=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),P.createElement(oP,{isPresent:e,childRef:n,sizeRef:s},P.cloneElement(t,{ref:n}))}const vu=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=e0(lP),l=P.useId(),u=P.useMemo(()=>({id:l,initial:e,isPresent:r,custom:s,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;n&&n()},register:c=>(a.set(c,!1),()=>a.delete(c))}),i?void 0:[r]);return P.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[r]),P.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(t=P.createElement(aP,{isPresent:r},t)),P.createElement(cl.Provider,{value:u},t)};function lP(){return new Map}function uP(t){return P.useEffect(()=>()=>t(),[])}const wn=t=>t.key||"";function cP(t,e){t.forEach(r=>{const n=wn(r);e.set(n,r)})}function dP(t){const e=[];return P.Children.forEach(t,r=>{P.isValidElement(r)&&e.push(r)}),e}const hP=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=P.useContext(Xd).forceRender||iP()[0],l=sw(),u=dP(t);let c=u;const d=P.useRef(new Map).current,f=P.useRef(c),p=P.useRef(new Map).current,v=P.useRef(!0);if(Zd(()=>{v.current=!1,cP(u,p),f.current=c}),uP(()=>{v.current=!0,p.clear(),d.clear()}),v.current)return P.createElement(P.Fragment,null,c.map(m=>P.createElement(vu,{key:wn(m),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},m)));c=[...c];const w=f.current.map(wn),b=u.map(wn),y=w.length;for(let m=0;m<y;m++){const g=w[m];b.indexOf(g)===-1&&!d.has(g)&&d.set(g,void 0)}return o==="wait"&&d.size&&(c=[]),d.forEach((m,g)=>{if(b.indexOf(g)!==-1)return;const x=p.get(g);if(!x)return;const S=w.indexOf(g);let E=m;if(!E){const C=()=>{d.delete(g);const j=Array.from(p.keys()).filter(D=>!b.includes(D));if(j.forEach(D=>p.delete(D)),f.current=u.filter(D=>{const V=wn(D);return V===g||j.includes(V)}),!d.size){if(l.current===!1)return;a(),n&&n()}};E=P.createElement(vu,{key:wn(x),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:i,mode:o},x),d.set(g,E)}c.splice(S,0,E)}),c=c.map(m=>{const g=m.key;return d.has(g)?m:P.createElement(vu,{key:wn(m),isPresent:!0,presenceAffectsLayout:i,mode:o},m)}),P.createElement(P.Fragment,null,d.size?c:c.map(m=>P.cloneElement(m)))};function fP({currentStep:t,totalSteps:e,labels:r}){const n=t/e*100;return h.jsxs("div",{className:"space-y-3 mb-8",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("h3",{className:"text-sm font-semibold text-dark",children:["Step ",t," of ",e]}),h.jsx("p",{className:"text-xs text-gray-500",children:r[t-1]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:h.jsx(X.div,{className:"h-full bg-gradient-to-r from-primary to-secondary",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.3}})}),h.jsx("div",{className:"flex justify-between items-center",children:r.map((s,i)=>h.jsx("div",{className:`text-xs font-medium ${i<t?"text-primary":i===t-1?"text-dark":"text-gray-400"}`,children:i+1},i))})]})}function Fm({macros:t,loading:e}){if(!t)return null;const r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},n={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}};return h.jsxs(X.div,{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",variants:r,initial:"hidden",animate:"visible",children:[h.jsx("h3",{className:"font-semibold text-dark text-center mb-4",children:"Your Macros Preview"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs(X.div,{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 text-center",variants:n,children:[h.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Daily Calories"}),h.jsx("p",{className:"text-2xl font-bold text-primary",children:t.calories}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"kcal"})]}),h.jsxs(X.div,{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-4 text-center",variants:n,children:[h.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Maintenance"}),h.jsx("p",{className:"text-2xl font-bold text-primary",children:t.tdee}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"TDEE"})]}),h.jsxs(X.div,{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 text-center",variants:n,children:[h.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Protein"}),h.jsxs("p",{className:"text-2xl font-bold text-primary",children:[t.protein,"g"]})]}),h.jsxs(X.div,{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 text-center",variants:n,children:[h.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Fat"}),h.jsxs("p",{className:"text-2xl font-bold text-primary",children:[t.fat,"g"]})]}),h.jsxs(X.div,{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 text-center",variants:n,children:[h.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Carbs"}),h.jsxs("p",{className:"text-2xl font-bold text-primary",children:[t.carbs,"g"]})]}),h.jsxs(X.div,{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 text-center",variants:n,children:[h.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Macro Split"}),h.jsxs("p",{className:"text-sm font-bold text-primary",children:[t.calories>0?Math.round(t.fat*9/t.calories*100):0,"%"]}),h.jsx("p",{className:"text-xs text-gray-500",children:"fat"})]})]}),e&&h.jsx("div",{className:"text-center py-4",children:h.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),gP=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>P.createElement("svg",{ref:c,...pP,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${mP(t)}`,a].join(" "),...u},[...e.map(([d,f])=>P.createElement(d,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=gP("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function vP({title:t,price:e,description:r,features:n,popular:s=!1,onClick:i}){const o=()=>{i()};return h.jsxs("div",{onClick:o,className:`rounded-xl p-6 transition-all relative z-30 cursor-pointer hover:scale-105 ${s?"bg-gradient-to-br from-primary to-primary/90 text-white border-2 border-secondary shadow-2xl":"bg-white border-2 border-gray-200 hover:border-secondary text-dark"}`,children:[s&&h.jsx("div",{className:"bg-secondary text-primary text-xs font-bold px-3 py-1 rounded-full w-fit mb-4",children:"Most Popular"}),h.jsx("h3",{className:"text-xl font-bold mb-2",children:t}),r&&h.jsx("p",{className:`text-sm mb-4 ${s?"text-white/80":"text-gray-600"}`,children:r}),h.jsxs("div",{className:"mb-6",children:[h.jsx("span",{className:"text-4xl font-bold",children:e}),e!=="Free"&&h.jsx("span",{className:`text-sm ml-2 ${s?"text-white/80":"text-gray-600"}`,children:"one-time"})]}),h.jsx("ul",{className:"space-y-3 mb-6",children:n.map((a,l)=>h.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[h.jsx(yP,{className:"w-5 h-5 flex-shrink-0"}),h.jsx("span",{children:a})]},l))}),h.jsx("button",{onClick:o,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all ${s?"bg-secondary text-primary hover:bg-secondary/90":"bg-primary text-accent hover:bg-primary/90"}`,children:"Choose Plan"})]})}function wP({tierId:t,tierTitle:e,tierPrice:r,onSuccess:n,onCancel:s}){const[i,o]=P.useState(!1),[a,l]=P.useState(""),[u,c]=P.useState(""),[d,f]=P.useState(null),[p,v]=P.useState(""),{sessionToken:w}=io();P.useEffect(()=>{l(""),c(""),f(null),v("")},[]);const b={bundle:999,meal_plan:2700,shopping:1900,doctor:1500},y=()=>{if(!d)return b[t]||999;const x=b[t]||999;return Math.round(x*(1-d.percent/100))},m=async()=>{if(!u.trim()){v("Enter a coupon code");return}v("");try{const x=await fetch("https://carnivore-report-api-production.iambrew.workers.dev/validate-coupon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:u.toUpperCase()})});if(!x.ok){const E=await x.json();v(E.message||"Invalid coupon code"),f(null);return}const S=await x.json();f({code:u.toUpperCase(),percent:S.percent}),v("")}catch{v("Failed to validate coupon. Try again."),f(null)}},g=async x=>{var S;x.preventDefault(),l(""),(S=window.gtag)==null||S.call(window,"event","click",{event_category:"Upgrade",event_label:"Protocol Upgrade CTA",tier_id:t,tier_title:e,amount:y()}),o(!0);try{const E=y();if(E===0){setTimeout(()=>{window.location.href=`${window.location.origin}/calculator.html?payment=free`},500);return}const C=await fetch("https://carnivore-report-api-production.iambrew.workers.dev/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tier_id:t,tier_title:e,amount:E,original_amount:b[t]||999,coupon_code:(d==null?void 0:d.code)||null,discount_percent:(d==null?void 0:d.percent)||0,session_token:w,success_url:`${window.location.origin}/calculator.html?payment=success`,cancel_url:`${window.location.origin}/calculator.html?payment=cancelled`})});if(!C.ok){const D=await C.text();throw new Error(`Failed to create checkout: ${D}`)}const j=await C.json();if(j.url)window.location.href=j.url;else throw new Error("No checkout URL returned")}catch(E){l(E instanceof Error?E.message:"Payment failed"),o(!1)}};return h.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-hidden",children:h.jsxs(X.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden relative mx-auto",children:[h.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/90 text-accent p-6 relative",children:[h.jsx("button",{onClick:s,disabled:i,className:"absolute top-4 right-4 text-2xl hover:opacity-80 disabled:opacity-50",children:""}),h.jsx("h2",{className:"text-2xl font-display font-bold mb-1",children:"Complete Payment"}),h.jsx("p",{className:"text-accent/80 text-sm",children:"Secure payment via Stripe"})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-dark",children:e}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Plan ID: ",t]})]}),h.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",(y()/100).toFixed(2)]})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2 space-y-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Subtotal"}),h.jsxs("span",{className:"font-semibold",children:["$",(y()/100).toFixed(2)]})]}),d&&h.jsxs("div",{className:"flex justify-between text-sm bg-green-50 -mx-2 px-2 py-1 rounded",children:[h.jsxs("span",{className:"text-green-700",children:["Discount (",d.code,")"]}),h.jsxs("span",{className:"font-semibold text-green-700",children:["-$",((b[t]||999)*d.percent/100/100).toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Tax"}),h.jsx("span",{className:"font-semibold",children:"$0.00"})]}),h.jsxs("div",{className:"flex justify-between font-bold text-dark pt-2 border-t border-gray-200",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{children:["$",(y()/100).toFixed(2)]})]})]})]}),h.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:h.jsx("p",{className:"text-sm text-blue-900",children:" You'll be redirected to Stripe's secure checkout to complete your payment."})}),a&&h.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:h.jsx("p",{className:"text-sm font-semibold text-red-900",children:a})}),i&&h.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[h.jsx("div",{className:"inline-block",children:h.jsx(X.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}),h.jsx("p",{className:"text-sm font-semibold text-dark mt-2",children:"Redirecting to Stripe..."})]}),!d&&h.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-secondary/10 rounded-lg p-4 border border-secondary/20",children:[h.jsx("label",{className:"block text-sm font-semibold text-dark mb-3",children:"Have a coupon code?"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:u,onChange:x=>c(x.target.value.toUpperCase()),placeholder:"Enter coupon code",disabled:i,className:"flex-1 px-4 py-2 rounded-lg border border-secondary/30 text-dark placeholder-gray-500 focus:border-secondary focus:ring-2 focus:ring-secondary/20 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed"}),h.jsx("button",{type:"button",onClick:m,disabled:i||!u.trim(),className:"px-4 py-2 rounded-lg bg-secondary text-accent font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Apply"})]}),p&&h.jsxs("p",{className:"text-sm text-red-600 mt-2",children:[" ",p]})]}),d&&h.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-green-50 rounded-lg p-4 border border-green-200",children:h.jsxs("p",{className:"text-sm font-semibold text-green-700",children:[" Coupon applied: ",d.code," (",d.percent,"% off)"]})}),h.jsxs("form",{onSubmit:g,className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:s,disabled:i,className:"flex-1 px-4 py-3 rounded-lg border-2 border-secondary text-dark font-semibold hover:bg-secondary/10 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-3 rounded-lg bg-gradient-to-r from-primary to-primary/90 text-accent font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition",children:i?"Redirecting to Stripe...":`Pay $${(y()/100).toFixed(2)}`})]}),h.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Payments are processed securely by Stripe. Your data is encrypted and protected."})]})]})})}const Bm=[{id:"shopping",title:"Shopping Lists",price:"$19",description:"Grocery focused",features:["4-week organized grocery lists","Budget-aware shopping options","Macro tracking by store","Category organization","Weekly item breakdowns"]},{id:"meal_plan",title:"30-Day Meal Plan",price:"$27",description:"Just meals",features:["30-day meal plan with variety","Daily recipe suggestions","Ingredient macros per meal","Prep time estimates","Substitution options"]},{id:"doctor",title:"Doctor Script",price:"$47",description:"Talk to your MD",features:["Medication review framework","Lab work discussion talking points","Safety protocols & guidelines","Doctor conversation scripts","Follow-up questions guide"]},{id:"bundle",title:"Complete Protocol Bundle",price:"$9.99",popular:!0,description:"Everything included",features:["13-section personalized protocol","30-day meal plan with recipes","Weekly shopping lists","Doctor consultation guide","Macro & electrolyte calculations","AI-customized obstacle protocol","Adaptation timeline"]}];function xP({onClose:t,onProceed:e}){const{sessionToken:r}=io(),[n,s]=P.useState(null),i=()=>Bm.find(c=>c.id===n),o=c=>{s(c)},a=async()=>{if(n)try{const{error:c}=await Ta.from("calculator2_sessions").update({pricing_tier:n}).eq("session_token",r);c&&console.error("[PricingModal] Failed to update session:",c),s(null),e(n)}catch(c){console.error("[PricingModal] Payment success handler error:",c),s(null),e(n)}},l=()=>{s(null)},u=i();return h.jsxs(h.Fragment,{children:[h.jsx("div",{onClick:t,className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[150] p-4",children:h.jsxs("div",{onClick:c=>c.stopPropagation(),className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 z-20 bg-gradient-to-r from-primary to-primary/90 text-accent p-8 border-b-2 border-secondary pointer-events-none",children:[h.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-2xl hover:opacity-80 pointer-events-auto",children:""}),h.jsx("h2",{className:"text-3xl font-display font-bold mb-2",children:"Choose Your Plan"}),h.jsx("p",{className:"text-accent/80",children:"Select the features that matter most to you"})]}),h.jsxs("div",{className:"bg-red-600 text-white p-4 text-center border-b-2 border-red-700",children:[h.jsx("p",{className:"text-lg font-bold",children:" NEW YEARS SALE "}),h.jsxs("p",{className:"text-sm mt-1",children:["Complete Bundle was ",h.jsx("span",{className:"line-through",children:"$298"}),"  NOW $9.99"]})]}),h.jsxs("div",{className:"p-8",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Bm.map(c=>h.jsxs("div",{className:c.id==="bundle"?"lg:col-span-1 relative":"",children:[c.id==="bundle"&&h.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 rounded-xl blur opacity-60 -z-10 pointer-events-none"}),h.jsx(vP,{title:c.title,price:c.price,description:c.description,features:c.features,popular:c.popular,onClick:()=>o(c.id)})]},c.id))}),h.jsxs("div",{className:"bg-gradient-to-r from-secondary/10 to-primary/10 rounded-lg p-6 border border-secondary/30",children:[h.jsx("h3",{className:"font-bold text-dark mb-4",children:"What You Get"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-dark mb-2",children:" Every Plan Includes"}),h.jsxs("ul",{className:"text-sm space-y-1 text-gray-600",children:[h.jsx("li",{children:" Personalized macro calculations"}),h.jsx("li",{children:" Your calorie targets"}),h.jsx("li",{children:" Instant results"})]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-dark mb-2",children:" Value Breakdown"}),h.jsxs("ul",{className:"text-sm space-y-1 text-gray-600",children:[h.jsx("li",{children:"Complete bundle: $298 value"}),h.jsx("li",{children:"Your price: $9.99"}),h.jsx("li",{children:"Save: 96.6%"})]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-dark mb-2",children:" 100% Money Back"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Not satisfied? Full refund within 7 days, no questions asked."})]})]})]})]})]})}),h.jsx(hP,{children:n&&u&&h.jsx(wP,{tierId:n,tierTitle:u.title,tierPrice:u.price,onSuccess:a,onCancel:l})})]})}function _P({onRestart:t}){const{form:e,macros:r}=io();return h.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8 text-center",children:[h.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"flex justify-center",children:h.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-5xl",children:""})})}),h.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:[h.jsx("h1",{className:"text-4xl font-display font-bold text-dark mb-2",children:"Your Protocol is Ready!"}),h.jsx("p",{className:"text-lg text-gray-600",children:"We're generating your personalized carnivore protocol"})]}),h.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-r from-primary/5 to-secondary/5 rounded-lg p-8 border-2 border-primary/30",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Calorie Target"}),h.jsx("p",{className:"text-3xl font-bold text-primary",children:(r==null?void 0:r.calories)||""}),h.jsx("p",{className:"text-xs text-gray-500",children:"kcal/day"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Protein"}),h.jsxs("p",{className:"text-3xl font-bold text-primary",children:[(r==null?void 0:r.protein)||"","g"]}),h.jsx("p",{className:"text-xs text-gray-500",children:"per day"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Fat"}),h.jsxs("p",{className:"text-3xl font-bold text-primary",children:[(r==null?void 0:r.fat)||"","g"]}),h.jsx("p",{className:"text-xs text-gray-500",children:"per day"})]})]}),h.jsxs("div",{className:"border-t border-primary/30 pt-6",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Your Report Includes:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left",children:[h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-primary font-bold",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:"13-section protocol"})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-primary font-bold",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:"30-day meal plan"})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-primary font-bold",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:"Shopping lists"})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-primary font-bold",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:"Doctor script"})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-primary font-bold",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:"Personalized tips"})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-primary font-bold",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:"Adaptation guide"})]})]})]})]}),h.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[h.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[h.jsx("span",{className:"font-semibold",children:"Email:"})," ",e.email||"Not provided"]}),h.jsx("p",{className:"text-xs text-gray-600",children:"Your complete protocol will be sent to this email within 1 minute"})]}),h.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1},className:"flex flex-col gap-3",children:[h.jsx("button",{onClick:t,className:"btn-primary w-full",children:"Create Another Protocol"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Check your email for your complete personalized protocol"})]}),h.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"pt-4",children:[h.jsxs("div",{className:"flex justify-center gap-2",children:[h.jsx(X.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-2 h-2 bg-primary rounded-full"}),h.jsx(X.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.2},className:"w-2 h-2 bg-secondary rounded-full"}),h.jsx(X.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.4},className:"w-2 h-2 bg-primary rounded-full"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Generating your report..."})]})]})}const ti=["Quick Start Protocol","Macronutrient Targets","30-Day Meal Plan","Weekly Shopping Lists","Food Quality Standards","Supplement Recommendations","Lab Work & Testing","Common Issues & Solutions","Doctor Conversation Guide","Tracking & Metrics","Adaptation Timeline","Obstacle Protocol","Community Resources"],wu=50;function bP({isComplete:t=!1}){const[e,r]=P.useState(0),[n,s]=P.useState(0),[i,o]=P.useState(0);P.useEffect(()=>{if(t){r(100),s(ti.length);return}const l=wu/ti.length,u=setInterval(()=>{o(c=>{const d=c+1,f=Math.min(d/wu*100,98),p=Math.min(Math.floor(d/l),ti.length-1);return s(p),r(f),d})},1e3);return()=>clearInterval(u)},[t]);const a=Math.max(1,Math.ceil((100-e)/100*wu));return h.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8 py-12",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("h2",{className:"text-3xl font-display font-bold text-dark",children:"Generating Your Protocol"}),h.jsx("p",{className:"text-gray-600",children:"Creating your personalized 13-section carnivore protocol..."})]}),h.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"space-y-4",children:[h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsx("span",{className:"text-sm font-semibold text-dark",children:"Progress"}),h.jsxs("span",{className:"text-sm font-semibold text-primary",children:[Math.round(e),"%"]})]}),h.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:h.jsx(X.div,{initial:{width:0},animate:{width:`${e}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-primary to-secondary rounded-full"})}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[h.jsxs("span",{children:["Estimated time remaining: ",a,"s"]}),h.jsxs("span",{children:[n," of ",ti.length," sections"]})]})]}),h.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-primary/5 to-secondary/5 rounded-lg p-6 border border-primary/20",children:[h.jsx("p",{className:"text-sm font-semibold text-dark mb-4",children:"Report Sections Being Generated:"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ti.map((l,u)=>h.jsxs(X.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:u*.05},className:"flex items-center gap-3",children:[h.jsx(X.div,{initial:{scale:0},animate:{scale:u<n?1:.8},className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center font-bold text-sm ${u<n?"bg-green-500 text-white":u===n?"bg-primary text-white animate-pulse":"bg-gray-300 text-gray-500"}`,children:u<n?h.jsx(X.span,{initial:{scale:0},animate:{scale:1},className:"text-lg",children:""}):u===n?h.jsx(X.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-3 h-3 border-2 border-transparent border-t-white rounded-full"}):u+1}),h.jsx("span",{className:`text-sm font-medium ${u<n?"text-green-600 line-through":"text-dark"}`,children:l})]},l))})]}),h.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center",children:h.jsx("p",{className:"text-sm text-gray-600",children:" Our AI is analyzing your health data and crafting personalized recommendations..."})})]})}function kP({accessToken:t}){const[e,r]=P.useState(""),[n,s]=P.useState(!0),[i,o]=P.useState("");if(P.useEffect(()=>{(async()=>{try{s(!0),console.log("Fetching report with token:",t);const u=`https://kwtdpvnjewtahuxjyltn.supabase.co/rest/v1/generated_reports?access_token=eq.${t}&select=report_html`;console.log("Fetching from:",u);const c=await fetch(u,{headers:{apikey:"sb_publishable_bQlgBZ7Otay8D9AErt8daA_2lQI36jk"}});if(console.log("Response status:",c.status),!c.ok){const f=await c.text();throw console.error("API Error:",f),new Error(`Failed to load report: ${c.status} ${f}`)}const d=await c.json();if(console.log("Response data:",d),!d||d.length===0)throw new Error("Report not found in database");if(!d[0].report_html)throw new Error("Report HTML is empty");r(d[0].report_html),o("")}catch(u){const c=u instanceof Error?u.message:"Failed to load report";console.error("Report fetch error:",c),o(c)}finally{s(!1)}})()},[t]),n)return h.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4 p-8",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(X.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}),h.jsx("p",{className:"text-center text-gray-600 font-semibold",children:"Loading your personalized report..."})]});if(i)return h.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-50 border border-red-200 rounded-lg p-8 text-center",children:[h.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Unable to load report"}),h.jsx("p",{className:"text-red-500 text-sm",children:i})]});const a=e.split("## Report #").filter(l=>l.trim());return h.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[h.jsx("style",{children:`
        @media print {
          * {
            -webkit-print-color-adjust: exact !important;
            color-adjust: exact !important;
            print-color-adjust: exact !important;
            box-shadow: none !important;
          }

          html, body {
            margin: 0;
            padding: 0;
            background: white;
            width: 100%;
            height: 100%;
          }

          .print-hide {
            display: none !important;
          }

          .report-section {
            page-break-inside: avoid;
            margin: 0 0 2cm 0;
            padding: 1.2cm;
            border: none;
            border-left: 4pt solid #8b4513;
            background: white;
            break-inside: avoid;
            page-break-after: auto;
          }

          .report-section:last-child {
            margin-bottom: 0;
            page-break-after: auto;
          }

          .report-section h2 {
            margin-top: 0;
            margin-bottom: 0.8cm;
            padding: 0.3cm 0 0.5cm 0;
            page-break-after: avoid;
            page-break-before: avoid;
            font-size: 1.4em;
            font-weight: bold;
            line-height: 1.3;
            border-bottom: 2pt solid #d4a574;
            padding-bottom: 0.4cm;
          }

          .report-section h3 {
            margin: 1cm 0 0.4cm 0;
            page-break-after: avoid;
            font-size: 1.1em;
            font-weight: bold;
            color: #8b4513;
          }

          .report-section h4 {
            margin: 0.7cm 0 0.3cm 0;
            page-break-after: avoid;
            font-size: 1em;
            font-weight: 600;
            color: #2c1810;
          }

          .report-section p {
            margin: 0.3cm 0;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
          }

          .report-section ul,
          .report-section ol {
            margin: 0.3cm 0;
            padding-left: 1.5cm;
            page-break-inside: avoid;
          }

          .report-section li {
            margin: 0.15cm 0;
            line-height: 1.4;
          }

          .report-section strong {
            font-weight: 700;
          }

          .report-section em {
            font-style: italic;
          }

          .prose {
            max-width: 100%;
            margin: 0;
            padding: 0;
          }

          .prose > * {
            margin-top: 0;
          }

          .prose table {
            width: 100%;
            border-collapse: collapse;
            margin: 0.5cm 0;
            page-break-inside: avoid;
            font-size: 0.95em;
          }

          .prose table th,
          .prose table td {
            border: 1px solid #333;
            padding: 0.25cm;
            text-align: left;
          }

          .prose table th {
            background-color: #e8e8e8;
            font-weight: bold;
          }

          .prose hr,
          .prose hr + * {
            page-break-after: avoid;
          }

          /* Prevent widows and orphans */
          .prose h2 + p,
          .prose h3 + p {
            page-break-before: avoid;
          }

          /* Ensure code blocks and blockquotes stay together */
          .prose code,
          .prose pre,
          .prose blockquote {
            page-break-inside: avoid;
          }

          /* Hide hyperlink references in print */
          .prose a {
            text-decoration: none;
            color: #000;
          }
        }
      `}),h.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 space-y-8",children:a.map((l,u)=>h.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:u*.15,ease:"easeOut"},className:"report-section bg-white rounded-lg shadow-lg p-8 border-l-4 border-primary",children:h.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:`## Report #${l}`}})},u))}),h.jsx("div",{className:"w-full max-w-7xl mx-auto px-4",children:h.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a.length*.15+.2},className:"print-hide border-t border-gray-200 p-6 flex gap-4 justify-center sticky bottom-0 bg-white rounded-lg shadow-lg",children:[h.jsx("button",{onClick:()=>window.print(),className:"btn-primary",children:" Print to PDF"}),h.jsx("button",{onClick:()=>{const l=document.createElement("a");l.href=`data:text/html;charset=utf-8,${encodeURIComponent(e)}`,l.download="carnivore-protocol-report.html",l.click()},className:"btn-secondary",children:" Download as HTML"})]})})]})}function SP({macros:t,diet:e}){const n=(()=>{const{calories:s,protein:i}=t,o=Math.round(s/3);let a,l;o<800?(a=4,l=4):o<1200?(a=5,l=6):o<1600?(a=6,l=8):(a=Math.min(8,4+Math.round(o/250)),l=Math.round((o-a*70)/42));let u;o<800?u=2:o<1200?u=3:o<1600?u=4:u=Math.round(o/220);let c;return o<800?c=8:o<1200?c=12:o<1600?c=15:c=Math.round(o/95),{calories3Meal:o,breakfastEggs:Math.min(8,Math.max(4,a)),breakfastBaconStrips:Math.max(4,l),lunchPatties:Math.max(2,u),dinnerOz:Math.max(6,Math.min(32,c))}})();return e==="carnivore"?h.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-display font-bold text-dark mb-2",children:" What This Looks Like on Your Plate"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Three simple meals that are easy to cook and actually delicious"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-secondary/5 border-l-4 border-primary p-4 rounded-lg",children:[h.jsxs("p",{className:"font-semibold text-dark mb-3",children:[" Breakfast (",n.calories3Meal," calories)"]}),h.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 ml-4",children:[h.jsxs("li",{children:[h.jsxs("strong",{children:[n.breakfastEggs," Large Eggs"]}),"  scrambled or fried in butter"]}),h.jsxs("li",{children:[h.jsxs("strong",{children:[n.breakfastBaconStrips," Strips of Bacon"]}),"  crispy on the side"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"1-2 tbsp Butter"}),"  to cook and add calories"]})]}),h.jsx("p",{className:"text-xs text-gray-500 italic mt-3",children:"Quick, filling, and gets you full for the entire morning. Salt to taste."})]}),h.jsxs("div",{className:"bg-secondary/5 border-l-4 border-primary p-4 rounded-lg",children:[h.jsxs("p",{className:"font-semibold text-dark mb-3",children:[" Lunch (",n.calories3Meal," calories)"]}),h.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 ml-4",children:[h.jsxs("li",{children:[h.jsxs("strong",{children:[n.lunchPatties," Beef Burger Patties"]}),"  each 2-3oz (80/20 ground beef), cooked in butter"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Melted Cheese"}),"  cheddar, american, or brie (1-2 slices per patty)"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Optional: Mayo or Fatty Sauce"}),"  to add flavor and calories"]})]}),h.jsx("p",{className:"text-xs text-gray-500 italic mt-3",children:"Cook 10-12 patties on Sunday for easy weekday lunches. No bun needed."})]}),h.jsxs("div",{className:"bg-secondary/5 border-l-4 border-primary p-4 rounded-lg",children:[h.jsxs("p",{className:"font-semibold text-dark mb-3",children:[" Dinner (",n.calories3Meal," calories)"]}),h.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 ml-4",children:[h.jsxs("li",{children:[h.jsxs("strong",{children:[n.dinnerOz,"oz Steak or Salmon"]}),"  ribeye, ny strip, or salmon fillet cooked in butter"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"2-3 tbsp Butter or Fatty Sauce"}),"  garlic butter or compound butter"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Sea Salt & Pepper"}),"  to taste"]})]}),h.jsx("p",{className:"text-xs text-gray-500 italic mt-3",children:"Your chance to enjoy something nice. Pick a cut you love, cook it perfectly."})]}),h.jsx("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary/30",children:h.jsxs("p",{className:"text-sm text-dark",children:[h.jsx("strong",{children:" The Beauty:"})," These aren't complicated. You're cooking one thing per meal, nothing fancy. Breakfast takes 5 minutes. Lunch reheats from Sunday prep. Dinner is just a steak you'd normally make anyway  just without the sides."]})})]}),h.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[h.jsx("h4",{className:"font-semibold text-dark mb-3",children:" Keys to Success"}),h.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Use fatty cuts:"})," 80/20 ground beef, ribeye, salmon. Lean meat isn't satiating."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Add butter:"})," Cook IN butter, add extra butter to meals. Don't skip the fat."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Salt generously:"})," More than you think. Your body needs it on this diet."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Drink water:"})," Carnivore can be dehydrating. Keep water nearby, especially at first."]})]})]})]}):h.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:[h.jsx("h3",{className:"text-xl font-display font-bold text-dark mb-4",children:" What This Looks Like on Your Plate"}),h.jsxs("div",{className:"bg-secondary/5 border-l-4 border-primary p-4 rounded-lg space-y-3",children:[h.jsxs("p",{className:"text-sm",children:[h.jsx("strong",{children:"Breakfast:"})," 3-4 eggs (any style) + 1/2 avocado + butter"]}),h.jsxs("p",{className:"text-sm",children:[h.jsx("strong",{children:"Lunch:"})," Chicken thighs or fatty fish + mixed greens + olive oil dressing"]}),h.jsxs("p",{className:"text-sm",children:[h.jsx("strong",{children:"Dinner:"})," Salmon or beef steak + roasted broccoli cooked in butter"]}),h.jsxs("p",{className:"text-sm",children:[h.jsx("strong",{children:"Snack (optional):"})," Cheese, macadamia nuts, or pork rinds"]})]}),h.jsx("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary/30",children:h.jsxs("p",{className:"text-sm text-dark",children:[h.jsx("strong",{children:"Key difference:"})," Keto includes low-carb vegetables. Use your carbs on veggies (fiber doesn't count), not grains or sugar."]})})]})}function EP(){return h.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-display font-bold text-dark mb-2",children:" Electrolyte Targets (Critical for Success)"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Most carnivore beginners underestimate electrolytes. Getting these right prevents headaches, cramps, and fatigue."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg p-8 border-2 border-secondary/20",children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("p",{className:"text-xs text-gray-600 font-semibold uppercase tracking-wide mb-3",children:"Sodium"}),h.jsx("p",{className:"text-4xl font-bold text-primary",children:"5000"}),h.jsx("p",{className:"text-sm text-gray-500",children:"mg/day"})]}),h.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"2-3 tsp salt"}),h.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Salt your food generously. Essential for carnivore, not optional."})]})]}),h.jsxs("div",{className:"bg-white rounded-lg p-8 border-2 border-secondary/20",children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("p",{className:"text-xs text-gray-600 font-semibold uppercase tracking-wide mb-3",children:"Potassium"}),h.jsx("p",{className:"text-4xl font-bold text-primary",children:"3500"}),h.jsx("p",{className:"text-sm text-gray-500",children:"mg/day"})]}),h.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"From food"}),h.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Beef, fish, and eggs provide most of it. Avocado if needed."})]})]}),h.jsxs("div",{className:"bg-white rounded-lg p-8 border-2 border-secondary/20",children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("p",{className:"text-xs text-gray-600 font-semibold uppercase tracking-wide mb-3",children:"Magnesium"}),h.jsx("p",{className:"text-4xl font-bold text-primary",children:"400"}),h.jsx("p",{className:"text-sm text-gray-500",children:"mg/day"})]}),h.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Supplement recommended"}),h.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Magnesium glycinate or citrate. Take at night for better sleep."})]})]})]}),h.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[h.jsx("h4",{className:"font-semibold text-dark mb-3",children:" Easy Wins"}),h.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[h.jsxs("li",{className:"flex gap-2",children:[h.jsx("span",{className:"text-blue-600 font-bold",children:""}),h.jsxs("span",{children:[h.jsx("strong",{children:"Salt your food generously"}),"  at every meal"]})]}),h.jsxs("li",{className:"flex gap-2",children:[h.jsx("span",{className:"text-blue-600 font-bold",children:""}),h.jsxs("span",{children:[h.jsx("strong",{children:"Drink bone broth"}),"  natural electrolytes + collagen"]})]}),h.jsxs("li",{className:"flex gap-2",children:[h.jsx("span",{className:"text-blue-600 font-bold",children:""}),h.jsxs("span",{children:[h.jsx("strong",{children:"Eat fatty fish"}),"  salmon and sardines are excellent"]})]}),h.jsxs("li",{className:"flex gap-2",children:[h.jsx("span",{className:"text-blue-600 font-bold",children:""}),h.jsxs("span",{children:[h.jsx("strong",{children:"Get a magnesium supplement"}),"  magnesium glycinate, 200-400mg at night"]})]})]})]}),h.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:[h.jsx("h4",{className:"font-semibold text-dark mb-3",children:" Feeling Bad? Here's Why"}),h.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-dark mb-1",children:"Headaches or fatigue?"}),h.jsx("p",{children:'Add more salt first. This fixes 80% of "keto flu" symptoms.'})]}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-dark mb-1",children:"Muscle cramps?"}),h.jsx("p",{children:"Magnesium deficiency. Take a supplement at night."})]}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-dark mb-1",children:"Feeling weak or dizzy?"}),h.jsx("p",{children:"Either not enough salt or not eating enough food overall. Increase both."})]})]})]}),h.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-lg border-2 border-primary/30",children:[h.jsx("h4",{className:"font-display font-semibold text-dark mb-2",children:" The Easy Button (Optional)"}),h.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[h.jsx("strong",{children:"LMNT"})," electrolyte packets are specifically formulated for low-carb diets. Zero sugar, optimal ratios, tastes great. Used by athletes and carnivores worldwide."]}),h.jsx("a",{href:"http://elementallabs.refr.cc/default/u/michelbrew",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-primary text-accent px-4 py-2 rounded-lg font-semibold text-sm hover:opacity-90 transition-opacity",children:"Try LMNT - Get Free Sample Pack "}),h.jsx("p",{className:"text-xs text-gray-600 mt-2 opacity-75",children:"Affiliate link  Supports this free calculator"})]})]})}const TP=ZE({sex:Vp(["male","female"]),age:Jn().min(14).max(99),heightFeet:Jn().optional(),heightInches:Jn().optional(),heightCm:Jn().optional(),weight:Jn().min(80).max(500),lifestyle:iu(),exercise:iu(),goal:Vp(["lose","maintain","gain"]),deficit:Jn(),diet:iu()}),zm={FREE:["Your Stats","Your Goal","Your Results"],PREMIUM:["Your Stats","Your Goal","Health Details","Your Results"]};function CP(){const{currentStep:t,setCurrentStep:e,isPremium:r,setIsPremium:n,macros:s,sessionToken:i,form:o}=io(),[a,l]=P.useState("imperial"),[u,c]=P.useState(!1),[d,f]=P.useState(!1),[p,v]=P.useState(null),[w,b]=P.useState(!1),[y,m]=P.useState(!1),[g,x]=P.useState(null),S=r?zm.PREMIUM:zm.FREE,E=S.length,{register:C,handleSubmit:j,watch:D,formState:{errors:V},setValue:be}=vE({resolver:bE(TP),defaultValues:{sex:o.sex||"male",age:o.age,heightFeet:o.heightFeet,heightInches:o.heightInches,heightCm:o.heightCm,weight:o.weight,lifestyle:o.lifestyle||"1.2",exercise:o.exercise||"0.1",goal:o.goal||"lose",deficit:o.deficit||25,diet:o.diet||"carnivore"},mode:"onBlur"});P.useEffect(()=>{const oe=setInterval(()=>{i&&qS(i,{})},5e3);return()=>clearInterval(oe)},[i]);const z=()=>{setTimeout(()=>{const oe=document.querySelector("[data-form]");oe&&oe.getBoundingClientRect().top>window.innerHeight&&oe.scrollIntoView({behavior:"smooth",block:"nearest"})},50)},q=()=>{t<E&&(e(t+1),z())},re=()=>{t>1&&(e(t-1),z())},pe=()=>{n(!0),c(!0)},ie=()=>{c(!1),e(3),z()},fe=async()=>{m(!0);try{const oe=await fetch("https://carnivore-report-api-production.iambrew.workers.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,sessionToken:i})});if(!oe.ok)throw new Error("Failed to generate report");const Ft=await oe.json();if(Ft.success&&Ft.accessToken)x(Ft.accessToken),b(!0);else throw new Error(Ft.error||"Failed to generate report")}catch(oe){console.error("Error generating report:",oe),alert("Failed to generate report. Please try again.")}finally{m(!1)}},O=()=>{e(1),b(!1),f(!1),n(!1)},H=()=>h.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),q()},className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-dark",children:"Let's Start with Your Stats"}),h.jsxs("div",{className:"flex gap-2 mb-4",children:[h.jsx("button",{type:"button",onClick:()=>l("imperial"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${a==="imperial"?"bg-primary text-accent":"bg-gray-200 text-gray-700"}`,children:"lbs/inches"}),h.jsx("button",{type:"button",onClick:()=>l("metric"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${a==="metric"?"bg-primary text-accent":"bg-gray-200 text-gray-700"}`,children:"kg/cm"})]}),h.jsxs("fieldset",{className:"space-y-3",children:[h.jsx("legend",{className:"block text-base font-semibold text-dark",children:"What's your biological sex?"}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[h.jsx("input",{type:"radio",...C("sex"),value:"male",className:"w-4 h-4"}),h.jsx("span",{className:"text-base text-gray-700",children:"Male"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[h.jsx("input",{type:"radio",...C("sex"),value:"female",className:"w-4 h-4"}),h.jsx("span",{className:"text-base text-gray-700",children:"Female"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"age",className:"block text-base font-semibold text-dark mb-2",children:"Age"}),h.jsx("input",{id:"age",type:"number",...C("age",{valueAsNumber:!0}),min:"14",max:"99",className:"w-full px-4 py-3 text-base rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"35"}),V.age&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.age.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-base font-semibold text-dark mb-2",children:["Height ",a==="imperial"?"(feet & inches)":"(centimeters)"]}),a==="imperial"?h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("input",{type:"number",...C("heightFeet",{valueAsNumber:!0}),min:"3",max:"8",className:"w-full px-4 py-3 text-base rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"5"}),h.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Feet"})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("input",{type:"number",...C("heightInches",{valueAsNumber:!0}),min:"0",max:"11",className:"w-full px-4 py-3 text-base rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"10"}),h.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Inches"})]})]}):h.jsx("input",{type:"number",...C("heightCm",{valueAsNumber:!0}),min:"120",max:"230",className:"w-full px-4 py-3 text-base rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"178"}),(V.heightFeet||V.heightInches||V.heightCm)&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid height"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"weight",className:"block text-base font-semibold text-dark mb-2",children:["Weight (",a==="imperial"?"lbs":"kg",")"]}),h.jsx("input",{id:"weight",type:"number",...C("weight",{valueAsNumber:!0}),step:"0.1",min:"80",max:"500",className:"w-full px-4 py-3 text-base rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"200"}),V.weight&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.weight.message})]}),h.jsx("button",{type:"submit",className:"w-full bg-primary text-accent font-semibold py-3 rounded-lg hover:bg-primary/90 transition-all text-base",children:"Continue to Fitness Profile "})]}),Y=()=>h.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),q()},className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-dark",children:"Your Goal"}),h.jsxs("fieldset",{className:"space-y-3",children:[h.jsx("legend",{className:"block text-base font-semibold text-dark",children:"What's your primary goal?"}),[{value:"lose",label:"Fat Loss (reduce weight)"},{value:"maintain",label:"Maintenance (stay at current weight)"},{value:"gain",label:"Muscle Gain (build muscle)"}].map(oe=>h.jsxs("label",{className:"flex items-start gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[h.jsx("input",{type:"radio",...C("goal"),value:oe.value,className:"w-4 h-4 mt-1"}),h.jsx("span",{className:"text-base text-gray-700",children:oe.label})]},oe.value))]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"deficit",className:"block text-base font-semibold text-dark mb-2",children:"Target deficit (%)"}),h.jsxs("select",{id:"deficit",...C("deficit",{valueAsNumber:!0}),className:"w-full px-4 py-3 text-base rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20",children:[h.jsx("option",{value:15,children:"Conservative (15%)"}),h.jsx("option",{value:20,children:"Moderate (20%)"}),h.jsx("option",{value:25,children:"Aggressive (25%)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"diet",className:"block text-base font-semibold text-dark mb-2",children:"Diet type"}),h.jsxs("select",{id:"diet",...C("diet"),className:"w-full px-4 py-3 text-base rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20",children:[h.jsx("option",{value:"carnivore",children:"Carnivore"}),h.jsx("option",{value:"pescatarian",children:"Pescatarian"}),h.jsx("option",{value:"keto",children:"Keto"}),h.jsx("option",{value:"lowcarb",children:"Low Carb"})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:re,className:"flex-1 bg-gray-200 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-300 transition-all text-base",children:" Back"}),h.jsx("button",{type:"submit",className:"flex-1 bg-primary text-accent font-semibold py-3 rounded-lg hover:bg-primary/90 transition-all text-base",children:"Calculate Macros "})]})]}),G=()=>h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-dark mb-6",children:"Your Macro Results"}),p&&h.jsx(Fm,{macros:p})]}),p&&h.jsxs("div",{className:"border-t pt-8 space-y-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-dark mb-4",children:"Example Meals to Hit Your Macros"}),h.jsx(SP,{macros:p,diet:o.diet})]}),h.jsx("div",{children:h.jsx(EP,{})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-200 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-300 transition-all text-base",children:" Adjust Macros"}),r?h.jsx("button",{onClick:q,className:"flex-1 bg-primary text-accent font-semibold py-3 rounded-lg hover:bg-primary/90 transition-all text-base",children:"Continue to Details "}):h.jsx("button",{onClick:pe,className:"flex-1 bg-gradient-to-r from-primary to-primary/90 text-accent font-semibold py-3 rounded-lg hover:from-primary/90 hover:to-primary/80 transition-all text-base",children:" Upgrade for Full Protocol"})]})]})]}),ce=()=>h.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),fe()},className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-dark",children:"Health & Preferences"}),h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:h.jsx("p",{className:"text-sm text-blue-900",children:"This helps us personalize your full protocol and meal recommendations."})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:re,className:"flex-1 bg-gray-200 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-300 transition-all text-base",children:" Back"}),h.jsx("button",{type:"submit",disabled:y,className:"flex-1 bg-primary text-accent font-semibold py-3 rounded-lg hover:bg-primary/90 disabled:bg-gray-300 transition-all text-base",children:y?"Generating Report...":"Generate Full Report "})]})]}),At=w&&g,tr=t===3&&!r&&d,ze=t===3&&r;return h.jsxs("div",{className:"w-full","data-form":!0,children:[!At&&h.jsx(fP,{currentStep:t,totalSteps:E,labels:S}),h.jsx("div",{className:"w-full",children:At?h.jsx(kP,{accessToken:g}):y?h.jsx(bP,{isComplete:w}):w?h.jsx(_P,{onRestart:O}):h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 lg:p-10",children:[t===1&&H(),t===2&&Y(),t===3&&!r&&G(),t===3&&r&&ce()]})}),!tr&&!ze&&h.jsxs("div",{className:"lg:col-span-1",children:[s&&t!==3&&h.jsx(Fm,{macros:s}),h.jsxs("div",{className:"mt-8 space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[h.jsx("h3",{className:"font-semibold text-dark text-sm uppercase tracking-wide",children:"Why Users Love This"}),h.jsx("div",{className:"space-y-2",children:["Free & instant results","No email required","Data encrypted & private","Used by 50k+ carnivores"].map(oe=>h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx("span",{className:"text-green-500 font-bold",children:""}),h.jsx("span",{className:"text-gray-700",children:oe})]},oe))})]}),t<3&&h.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-secondary/5 border border-primary/30 rounded-lg p-6 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"font-semibold text-dark",children:"Ready for More?"})]}),h.jsx("p",{className:"text-sm text-gray-700",children:"Get your free macro report. Then unlock Pro for just $9.99."}),h.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[h.jsx("li",{children:" 30-day meal plan"}),h.jsx("li",{children:" Shopping lists"}),h.jsx("li",{children:" Doctor's guide"}),h.jsx("li",{children:" Full protocol"})]})]})]})]})]})}),u&&h.jsx(xP,{onClose:()=>c(!1),onProceed:ie})]})}function jP(){const{setSessionToken:t,setUnits:e,setIsPremium:r,setCurrentStep:n}=io();return P.useEffect(()=>{async function s(){try{const i=await KS();t(i.session_token);const o=GS(),a=ZS(o);e(a);const l=new URLSearchParams(window.location.search),u=l.get("payment"),c=l.get("session_id"),d=()=>{setTimeout(()=>{const f=document.querySelector("[data-form-section]")||document.querySelector("form")||document.querySelector(".calculator-wizard");if(f){const p=f.getBoundingClientRect();(p.top>window.innerHeight||p.top<0)&&f.scrollIntoView({behavior:"smooth",block:"nearest"})}},50)};if(u==="free")r(!0),n(4),d(),console.log("[App] Premium access granted (free tier)"),window.history.replaceState({},"",window.location.pathname);else if(u==="success"&&c){try{const p=await(await fetch("https://carnivore-report-api-production.iambrew.workers.dev/verify-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stripeSessionId:c,sessionToken:i.session_token})})).json();console.log("[App] Payment verification result:",p),p.success&&p.paid?(r(!0),n(4),d(),console.log("[App] Premium access granted after payment verification")):console.warn("[App] Payment verification failed or not paid")}catch(f){console.error("[App] Payment verification error:",f)}window.history.replaceState({},"",window.location.pathname)}}catch(i){console.error("Failed to initialize app:",i)}}s()},[t,e,r,n]),h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100",children:h.jsx(CP,{})})}xu.createRoot(document.getElementById("root")).render(h.jsx(Je.StrictMode,{children:h.jsx(jP,{})}));
