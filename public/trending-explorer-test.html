<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trending Topic Explorer - Test Page</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/css/trending-explorer.css">
  <style>
    .test-container {
      max-width: 1400px;
      margin: 20px auto;
      padding: 20px;
    }

    .test-info {
      background: rgba(212, 165, 116, 0.15);
      border: 2px solid #d4a574;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
      color: #f4e4d4;
    }

    .test-info h2 {
      margin-top: 0;
      color: #d4a574;
    }

    .test-info ul {
      margin: 10px 0;
      padding-left: 20px;
    }

    .test-info li {
      margin: 8px 0;
      line-height: 1.6;
    }

    .breakpoint-indicator {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.8);
      color: #d4a574;
      padding: 12px 16px;
      border-radius: 6px;
      font-size: 0.85em;
      font-weight: 600;
      z-index: 9999;
      font-family: 'Courier New', monospace;
    }

    .breakpoint-indicator::before {
      content: 'üì± ';
    }

    @media (min-width: 768px) {
      .breakpoint-indicator::before {
        content: 'üì±üíª ';
      }
    }

    @media (min-width: 1100px) {
      .breakpoint-indicator::before {
        content: 'üñ•Ô∏è ';
      }
    }

    code {
      background: rgba(0, 0, 0, 0.3);
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Trending Topic Explorer</h1>
      <p>Interactive Expanding Cards with Sentiment Analysis - Test Page</p>
    </div>
  </header>

  <div class="test-container">
    <div class="test-info">
      <h2>Test Instructions</h2>
      <p>This page tests all features of the Trending Topic Explorer component. Check the following:</p>
      <ul>
        <li><strong>Card Expansion:</strong> Click any card to expand/collapse. Watch for smooth animations and proper height transitions.</li>
        <li><strong>Search Functionality:</strong> Type in the search box. Results should filter with 300ms debounce (no lag).</li>
        <li><strong>Filter Buttons:</strong> Click filter buttons to show: All Topics, Positive Sentiment, or Most Recent.</li>
        <li><strong>Sentiment Bar:</strong> Each card shows a 3-segment sentiment bar (green/gray/red). Hover to see percentages.</li>
        <li><strong>Creator Chips:</strong> Expanded cards show creator chips. Click to open YouTube channels in new tab.</li>
        <li><strong>Keyboard Navigation:</strong> Use Tab to navigate, Enter/Space to expand cards, focus states should be visible.</li>
        <li><strong>Mobile Responsive:</strong> Resize window or use device emulation. Test at 375px, 768px, and 1400px widths.</li>
        <li><strong>Accessibility:</strong> Use screen reader (NVDA, JAWS) or accessibility tree to verify semantic structure.</li>
        <li><strong>Console Errors:</strong> Open DevTools (F12). No JavaScript errors should appear.</li>
        <li><strong>Touch Support:</strong> On mobile/tablet, tap expand buttons. Interactions should work smoothly.</li>
      </ul>

      <h3>Feature Checklist</h3>
      <ul>
        <li>‚úÖ Expand/collapse animations (0.3s smooth transitions)</li>
        <li>‚úÖ Search with 300ms debounce</li>
        <li>‚úÖ Filter functionality (3 filter types)</li>
        <li>‚úÖ Sentiment bar visualization</li>
        <li>‚úÖ Creator chips with external links</li>
        <li>‚úÖ Keyboard navigation (Tab, Enter, Space)</li>
        <li>‚úÖ WCAG AA accessibility compliance</li>
        <li>‚úÖ Mobile responsive (3 breakpoints)</li>
        <li>‚úÖ No console errors</li>
        <li>‚úÖ Touch support for mobile</li>
      </ul>
    </div>

    <!-- Trending Topic Explorer Component -->
    <div id="trending-explorer-container">
      <!-- HTML structure will be loaded from trending_topics_explorer.html -->
    </div>
  </div>

  <div class="breakpoint-indicator">
    <span id="breakpoint-text">Testing</span>
  </div>

  <!-- Include trending explorer HTML -->
  <script>
    // Load the trending explorer HTML
    fetch('/templates/partials/trending_topics_explorer.html')
      .then(response => response.text())
      .then(html => {
        const container = document.getElementById('trending-explorer-container');
        container.innerHTML = html;

        // Load and initialize the JavaScript
        const script = document.createElement('script');
        script.src = '/js/trending-explorer.js';
        document.body.appendChild(script);
      })
      .catch(error => console.error('Error loading component:', error));

    // Breakpoint indicator
    function updateBreakpoint() {
      const width = window.innerWidth;
      let label = 'Mobile (375px)';
      if (width >= 1100) {
        label = `Desktop (${width}px)`;
      } else if (width >= 768) {
        label = `Tablet (${width}px)`;
      } else {
        label = `Mobile (${width}px)`;
      }
      document.getElementById('breakpoint-text').textContent = label;
    }

    window.addEventListener('resize', updateBreakpoint);
    updateBreakpoint();

    // Log test information
    console.log('Trending Topic Explorer - Test Page Loaded');
    console.log('Check console for any JavaScript errors');
    console.log('Test instructions:', {
      'search': 'Type in search box (debounced 300ms)',
      'filters': 'Click filter buttons to narrow results',
      'expand': 'Click cards to expand/collapse',
      'keyboard': 'Use Tab to navigate, Enter/Space to expand',
      'accessibility': 'Check focus states and semantic HTML',
      'responsive': 'Resize window to test breakpoints'
    });
  </script>

  <noscript>
    <p style="color: red; padding: 20px;">JavaScript is required for this component to work. Please enable JavaScript.</p>
  </noscript>
</body>
</html>
